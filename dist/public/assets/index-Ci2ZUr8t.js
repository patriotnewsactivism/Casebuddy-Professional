import{r as x,R as l_,j as l,P as vt,c as So,a as c_,u as kt,B as Rk,b as Rl,d as li,e as Ue,f as Zn,g as sg,h as Pk,i as rg,k as Kn,l as Lk,m as kd,D as u_,C as d_,n as Ed,o as f_,A as h_,p as m_,q as p_,O as ig,s as g_,t as og,v as lg,T as cg,w as ug,x as v_,y as y_,L as b_,z as x_,E as w_,F as zk,G as S_,H as __,W as Ik,S as j_,I as N_,J as Uk,K as T_,M as C_,N as k_,Q as E_,U as M_,V as A_,X as O_,Y as Bk,Z as Vk,_ as Fk,$ as qk,a0 as Hk,a1 as $k,a2 as Qk}from"./ui-B7hCohzP.js";import{r as D_,a as Gk}from"./vendor-Cgg2GOmP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();var Sm={exports:{}},wl={},_m={exports:{}},jm={};var d0;function Yk(){return d0||(d0=1,(function(t){function e(I,ne){var X=I.length;I.push(ne);e:for(;0<X;){var Ee=X-1>>>1,Se=I[Ee];if(0<o(Se,ne))I[Ee]=ne,I[X]=Se,X=Ee;else break e}}function a(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var ne=I[0],X=I.pop();if(X!==ne){I[0]=X;e:for(var Ee=0,Se=I.length,tt=Se>>>1;Ee<tt;){var le=2*(Ee+1)-1,g=I[le],S=le+1,w=I[S];if(0>o(g,X))S<Se&&0>o(w,g)?(I[Ee]=w,I[S]=X,Ee=S):(I[Ee]=g,I[le]=X,Ee=le);else if(S<Se&&0>o(w,X))I[Ee]=w,I[S]=X,Ee=S;else break e}}return ne}function o(I,ne){var X=I.sortIndex-ne.sortIndex;return X!==0?X:I.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],v=[],y=1,_=null,T=3,A=!1,M=!1,j=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Q(I){for(var ne=a(v);ne!==null;){if(ne.callback===null)r(v);else if(ne.startTime<=I)r(v),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=a(v)}}function F(I){if(j=!1,Q(I),!M)if(a(p)!==null)M=!0,H||(H=!0,Pe());else{var ne=a(v);ne!==null&&De(F,ne.startTime-I)}}var H=!1,Y=-1,J=5,ce=-1;function pe(){return C?!0:!(t.unstable_now()-ce<J)}function Ne(){if(C=!1,H){var I=t.unstable_now();ce=I;var ne=!0;try{e:{M=!1,j&&(j=!1,D(Y),Y=-1),A=!0;var X=T;try{t:{for(Q(I),_=a(p);_!==null&&!(_.expirationTime>I&&pe());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,T=_.priorityLevel;var Se=Ee(_.expirationTime<=I);if(I=t.unstable_now(),typeof Se=="function"){_.callback=Se,Q(I),ne=!0;break t}_===a(p)&&r(p),Q(I)}else r(p);_=a(p)}if(_!==null)ne=!0;else{var tt=a(v);tt!==null&&De(F,tt.startTime-I),ne=!1}}break e}finally{_=null,T=X,A=!1}ne=void 0}}finally{ne?Pe():H=!1}}}var Pe;if(typeof P=="function")Pe=function(){P(Ne)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,ge=st.port2;st.port1.onmessage=Ne,Pe=function(){ge.postMessage(null)}}else Pe=function(){k(Ne,0)};function De(I,ne){Y=k(function(){I(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(I){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var X=T;T=ne;try{return I()}finally{T=X}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(I,ne){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=T;T=I;try{return ne()}finally{T=X}},t.unstable_scheduleCallback=function(I,ne,X){var Ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,I){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=X+Se,I={id:y++,callback:ne,priorityLevel:I,startTime:X,expirationTime:Se,sortIndex:-1},X>Ee?(I.sortIndex=X,e(v,I),a(p)===null&&I===a(v)&&(j?(D(Y),Y=-1):j=!0,De(F,X-Ee))):(I.sortIndex=Se,e(p,I),M||A||(M=!0,H||(H=!0,Pe()))),I},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(I){var ne=T;return function(){var X=T;T=ne;try{return I.apply(this,arguments)}finally{T=X}}}})(jm)),jm}var f0;function Zk(){return f0||(f0=1,_m.exports=Yk()),_m.exports}var h0;function Jk(){if(h0)return wl;h0=1;var t=Zk(),e=D_(),a=Gk();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function d(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function v(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var i=n,c=s;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return p(f),n;if(m===c)return p(f),s;m=m.sibling}throw Error(r(188))}if(i.return!==c.return)i=f,c=m;else{for(var b=!1,N=f.child;N;){if(N===i){b=!0,i=f,c=m;break}if(N===c){b=!0,c=f,i=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===i){b=!0,i=m,c=f;break}if(N===c){b=!0,c=m,i=f;break}N=N.sibling}if(!b)throw Error(r(189))}}if(i.alternate!==c)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=Ne&&n[Ne]||n["@@iterator"],typeof n=="function"?n:null)}var st=Symbol.for("react.client.reference");function ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===st?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case H:return"SuspenseList";case ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case P:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case Q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return s=n.displayName||null,s!==null?s:ge(n.type)||"Memo";case J:s=n._payload,n=n._init;try{return ge(n(s))}catch{}}return null}var De=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ee=[],Se=-1;function tt(n){return{current:n}}function le(n){0>Se||(n.current=Ee[Se],Ee[Se]=null,Se--)}function g(n,s){Se++,Ee[Se]=n.current,n.current=s}var S=tt(null),w=tt(null),O=tt(null),E=tt(null);function U(n,s){switch(g(O,s),g(w,n),g(S,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Rx(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Rx(s),n=Px(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(S),g(S,n)}function Z(){le(S),le(w),le(O)}function G(n){n.memoizedState!==null&&g(E,n);var s=S.current,i=Px(s,n.type);s!==i&&(g(w,n),g(S,i))}function ie(n){w.current===n&&(le(S),le(w)),E.current===n&&(le(E),vl._currentValue=X)}var ue,Me;function ct(n){if(ue===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);ue=s&&s[1]||"",Me=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+n+Me}var Xt=!1;function Et(n,s){if(!n||Xt)return"";Xt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var q=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){q=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){q=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var R=b.split(`
`),V=N.split(`
`);for(f=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;if(c===R.length||f===V.length)for(c=R.length-1,f=V.length-1;1<=c&&0<=f&&R[c]!==V[f];)f--;for(;1<=c&&0<=f;c--,f--)if(R[c]!==V[f]){if(c!==1||f!==1)do if(c--,f--,0>f||R[c]!==V[f]){var K=`
`+R[c].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=c&&0<=f);break}}}finally{Xt=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?ct(i):""}function te(n,s){switch(n.tag){case 26:case 27:case 5:return ct(n.type);case 16:return ct("Lazy");case 13:return n.child!==s&&s!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Et(n.type,!1);case 11:return Et(n.type.render,!1);case 1:return Et(n.type,!0);case 31:return ct("Activity");default:return""}}function se(n){try{var s="",i=null;do s+=te(n,i),i=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var $e=Object.prototype.hasOwnProperty,Le=t.unstable_scheduleCallback,yt=t.unstable_cancelCallback,ht=t.unstable_shouldYield,zn=t.unstable_requestPaint,Rt=t.unstable_now,cf=t.unstable_getCurrentPriorityLevel,uc=t.unstable_ImmediatePriority,hv=t.unstable_UserBlockingPriority,dc=t.unstable_NormalPriority,pC=t.unstable_LowPriority,mv=t.unstable_IdlePriority,gC=t.log,vC=t.unstable_setDisableYieldValue,Eo=null,In=null;function Ns(n){if(typeof gC=="function"&&vC(n),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(Eo,n)}catch{}}var Un=Math.clz32?Math.clz32:xC,yC=Math.log,bC=Math.LN2;function xC(n){return n>>>=0,n===0?32:31-(yC(n)/bC|0)|0}var fc=256,hc=262144,mc=4194304;function hr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pc(n,s,i){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var N=c&134217727;return N!==0?(c=N&~m,c!==0?f=hr(c):(b&=N,b!==0?f=hr(b):i||(i=N&~n,i!==0&&(f=hr(i))))):(N=c&~m,N!==0?f=hr(N):b!==0?f=hr(b):i||(i=c&~n,i!==0&&(f=hr(i)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,i=s&-s,m>=i||m===32&&(i&4194048)!==0)?s:f}function Mo(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function wC(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pv(){var n=mc;return mc<<=1,(mc&62914560)===0&&(mc=4194304),n}function uf(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function Ao(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function SC(n,s,i,c,f,m){var b=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var N=n.entanglements,R=n.expirationTimes,V=n.hiddenUpdates;for(i=b&~i;0<i;){var K=31-Un(i),ee=1<<K;N[K]=0,R[K]=-1;var q=V[K];if(q!==null)for(V[K]=null,K=0;K<q.length;K++){var $=q[K];$!==null&&($.lane&=-536870913)}i&=~ee}c!==0&&gv(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~s))}function gv(n,s,i){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Un(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|i&261930}function vv(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var c=31-Un(i),f=1<<c;f&s|n[c]&s&&(n[c]|=s),i&=~f}}function yv(n,s){var i=s&-s;return i=(i&42)!==0?1:df(i),(i&(n.suspendedLanes|s))!==0?0:i}function df(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ff(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bv(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:s0(n.type))}function xv(n,s){var i=ne.p;try{return ne.p=n,s()}finally{ne.p=i}}var Ts=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ts,En="__reactProps$"+Ts,di="__reactContainer$"+Ts,hf="__reactEvents$"+Ts,_C="__reactListeners$"+Ts,jC="__reactHandles$"+Ts,wv="__reactResources$"+Ts,Oo="__reactMarker$"+Ts;function mf(n){delete n[ln],delete n[En],delete n[hf],delete n[_C],delete n[jC]}function fi(n){var s=n[ln];if(s)return s;for(var i=n.parentNode;i;){if(s=i[di]||i[ln]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=Fx(n);n!==null;){if(i=n[ln])return i;n=Fx(n)}return s}n=i,i=n.parentNode}return null}function hi(n){if(n=n[ln]||n[di]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Do(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function mi(n){var s=n[wv];return s||(s=n[wv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nn(n){n[Oo]=!0}var Sv=new Set,_v={};function mr(n,s){pi(n,s),pi(n+"Capture",s)}function pi(n,s){for(_v[n]=s,n=0;n<s.length;n++)Sv.add(s[n])}var NC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jv={},Nv={};function TC(n){return $e.call(Nv,n)?!0:$e.call(jv,n)?!1:NC.test(n)?Nv[n]=!0:(jv[n]=!0,!1)}function gc(n,s,i){if(TC(s))if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+i)}}function vc(n,s,i){if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+i)}}function Za(n,s,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(s,i,""+c)}}function aa(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tv(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CC(n,s,i){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function pf(n){if(!n._valueTracker){var s=Tv(n)?"checked":"value";n._valueTracker=CC(n,s,""+n[s])}}function Cv(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return n&&(c=Tv(n)?n.checked?"true":"false":n.value),n=c,n!==i?(s.setValue(n),!0):!1}function yc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var kC=/[\n"\\]/g;function sa(n){return n.replace(kC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gf(n,s,i,c,f,m,b,N){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+aa(s)):n.value!==""+aa(s)&&(n.value=""+aa(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?vf(n,b,aa(s)):i!=null?vf(n,b,aa(i)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+aa(N):n.removeAttribute("name")}function kv(n,s,i,c,f,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){pf(n);return}i=i!=null?""+aa(i):"",s=s!=null?""+aa(s):i,N||s===n.value||(n.value=s),n.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=N?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),pf(n)}function vf(n,s,i){s==="number"&&yc(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function gi(n,s,i,c){if(n=n.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<n.length;i++)f=s.hasOwnProperty("$"+n[i].value),n[i].selected!==f&&(n[i].selected=f),f&&c&&(n[i].defaultSelected=!0)}else{for(i=""+aa(i),s=null,f=0;f<n.length;f++){if(n[f].value===i){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ev(n,s,i){if(s!=null&&(s=""+aa(s),s!==n.value&&(n.value=s),i==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=i!=null?""+aa(i):""}function Mv(n,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(r(92));if(De(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=aa(s),n.defaultValue=i,c=n.textContent,c===i&&c!==""&&c!==null&&(n.value=c),pf(n)}function vi(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var EC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Av(n,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,i):typeof i!="number"||i===0||EC.has(s)?s==="float"?n.cssFloat=i:n[s]=(""+i).trim():n[s]=i+"px"}function Ov(n,s,i){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&i[f]!==c&&Av(n,f,c)}else for(var m in s)s.hasOwnProperty(m)&&Av(n,m,s[m])}function yf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bc(n){return AC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ja(){}var bf=null;function xf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,bi=null;function Dv(n){var s=hi(n);if(s&&(n=s.stateNode)){var i=n[En]||null;e:switch(n=s.stateNode,s.type){case"input":if(gf(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+sa(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==n&&c.form===n.form){var f=c[En]||null;if(!f)throw Error(r(90));gf(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===n.form&&Cv(c)}break e;case"textarea":Ev(n,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&gi(n,!!i.multiple,s,!1)}}}var wf=!1;function Rv(n,s,i){if(wf)return n(s,i);wf=!0;try{var c=n(s);return c}finally{if(wf=!1,(yi!==null||bi!==null)&&(iu(),yi&&(s=yi,n=bi,bi=yi=null,Dv(s),n)))for(s=0;s<n.length;s++)Dv(n[s])}}function Ro(n,s){var i=n.stateNode;if(i===null)return null;var c=i[En]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(r(231,s,typeof i));return i}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=!1;if(Ka)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Sf=!1}var Cs=null,_f=null,xc=null;function Pv(){if(xc)return xc;var n,s=_f,i=s.length,c,f="value"in Cs?Cs.value:Cs.textContent,m=f.length;for(n=0;n<i&&s[n]===f[n];n++);var b=i-n;for(c=1;c<=b&&s[i-c]===f[m-c];c++);return xc=f.slice(n,1<c?1-c:void 0)}function wc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Sc(){return!0}function Lv(){return!1}function Mn(n){function s(i,c,f,m,b){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(i=n[N],this[N]=i?i(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Sc:Lv,this.isPropagationStopped=Lv,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),s}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=Mn(pr),Lo=_({},pr,{view:0,detail:0}),OC=Mn(Lo),jf,Nf,zo,jc=_({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zo&&(zo&&n.type==="mousemove"?(jf=n.screenX-zo.screenX,Nf=n.screenY-zo.screenY):Nf=jf=0,zo=n),jf)},movementY:function(n){return"movementY"in n?n.movementY:Nf}}),zv=Mn(jc),DC=_({},jc,{dataTransfer:0}),RC=Mn(DC),PC=_({},Lo,{relatedTarget:0}),Tf=Mn(PC),LC=_({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=Mn(LC),IC=_({},pr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),UC=Mn(IC),BC=_({},pr,{data:0}),Iv=Mn(BC),VC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HC(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=qC[n])?!!s[n]:!1}function Cf(){return HC}var $C=_({},Lo,{key:function(n){if(n.key){var s=VC[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=wc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?FC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(n){return n.type==="keypress"?wc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),QC=Mn($C),GC=_({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uv=Mn(GC),YC=_({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),ZC=Mn(YC),JC=_({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),KC=Mn(JC),XC=_({},jc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=Mn(XC),e2=_({},pr,{newState:0,oldState:0}),t2=Mn(e2),n2=[9,13,27,32],kf=Ka&&"CompositionEvent"in window,Io=null;Ka&&"documentMode"in document&&(Io=document.documentMode);var a2=Ka&&"TextEvent"in window&&!Io,Bv=Ka&&(!kf||Io&&8<Io&&11>=Io),Vv=" ",Fv=!1;function qv(n,s){switch(n){case"keyup":return n2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xi=!1;function s2(n,s){switch(n){case"compositionend":return Hv(s);case"keypress":return s.which!==32?null:(Fv=!0,Vv);case"textInput":return n=s.data,n===Vv&&Fv?null:n;default:return null}}function r2(n,s){if(xi)return n==="compositionend"||!kf&&qv(n,s)?(n=Pv(),xc=_f=Cs=null,xi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bv&&s.locale!=="ko"?null:s.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!i2[n.type]:s==="textarea"}function Qv(n,s,i,c){yi?bi?bi.push(c):bi=[c]:yi=c,s=hu(s,"onChange"),0<s.length&&(i=new _c("onChange","change",null,i,c),n.push({event:i,listeners:s}))}var Uo=null,Bo=null;function o2(n){kx(n,0)}function Nc(n){var s=Do(n);if(Cv(s))return n}function Gv(n,s){if(n==="change")return s}var Yv=!1;if(Ka){var Ef;if(Ka){var Mf="oninput"in document;if(!Mf){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),Mf=typeof Zv.oninput=="function"}Ef=Mf}else Ef=!1;Yv=Ef&&(!document.documentMode||9<document.documentMode)}function Jv(){Uo&&(Uo.detachEvent("onpropertychange",Kv),Bo=Uo=null)}function Kv(n){if(n.propertyName==="value"&&Nc(Bo)){var s=[];Qv(s,Bo,n,xf(n)),Rv(o2,s)}}function l2(n,s,i){n==="focusin"?(Jv(),Uo=s,Bo=i,Uo.attachEvent("onpropertychange",Kv)):n==="focusout"&&Jv()}function c2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nc(Bo)}function u2(n,s){if(n==="click")return Nc(s)}function d2(n,s){if(n==="input"||n==="change")return Nc(s)}function f2(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Bn=typeof Object.is=="function"?Object.is:f2;function Vo(n,s){if(Bn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!$e.call(s,f)||!Bn(n[f],s[f]))return!1}return!0}function Xv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wv(n,s){var i=Xv(n);n=0;for(var c;i;){if(i.nodeType===3){if(c=n+i.textContent.length,n<=s&&c>=s)return{node:i,offset:s-n};n=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Xv(i)}}function ey(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ey(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ty(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=yc(n.document);s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=yc(n.document)}return s}function Af(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var h2=Ka&&"documentMode"in document&&11>=document.documentMode,wi=null,Of=null,Fo=null,Df=!1;function ny(n,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Df||wi==null||wi!==yc(c)||(c=wi,"selectionStart"in c&&Af(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fo&&Vo(Fo,c)||(Fo=c,c=hu(Of,"onSelect"),0<c.length&&(s=new _c("onSelect","select",null,s,i),n.push({event:s,listeners:c}),s.target=wi)))}function gr(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var Si={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Rf={},ay={};Ka&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function vr(n){if(Rf[n])return Rf[n];if(!Si[n])return n;var s=Si[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in ay)return Rf[n]=s[i];return n}var sy=vr("animationend"),ry=vr("animationiteration"),iy=vr("animationstart"),m2=vr("transitionrun"),p2=vr("transitionstart"),g2=vr("transitioncancel"),oy=vr("transitionend"),ly=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Sa(n,s){ly.set(n,s),mr(s,[n])}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ra=[],_i=0,Lf=0;function Cc(){for(var n=_i,s=Lf=_i=0;s<n;){var i=ra[s];ra[s++]=null;var c=ra[s];ra[s++]=null;var f=ra[s];ra[s++]=null;var m=ra[s];if(ra[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&cy(i,f,m)}}function kc(n,s,i,c){ra[_i++]=n,ra[_i++]=s,ra[_i++]=i,ra[_i++]=c,Lf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function zf(n,s,i,c){return kc(n,s,i,c),Ec(n)}function yr(n,s){return kc(n,null,null,s),Ec(n)}function cy(n,s,i){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i);for(var f=!1,m=n.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Un(i),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[s]:c.push(s),s.lane=i|536870912),m):null}function Ec(n){if(50<ul)throw ul=0,Qh=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ji={};function v2(n,s,i,c){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(n,s,i,c){return new v2(n,s,i,c)}function If(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xa(n,s){var i=n.alternate;return i===null?(i=Vn(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function uy(n,s){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Mc(n,s,i,c,f,m){var b=0;if(c=n,typeof n=="function")If(n)&&(b=1);else if(typeof n=="string")b=Sk(n,i,S.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ce:return n=Vn(31,i,s,f),n.elementType=ce,n.lanes=m,n;case j:return br(i.children,f,m,s);case C:b=8,f|=24;break;case k:return n=Vn(12,i,s,f|2),n.elementType=k,n.lanes=m,n;case F:return n=Vn(13,i,s,f),n.elementType=F,n.lanes=m,n;case H:return n=Vn(19,i,s,f),n.elementType=H,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:b=10;break e;case D:b=9;break e;case Q:b=11;break e;case Y:b=14;break e;case J:b=16,c=null;break e}b=29,i=Error(r(130,n===null?"null":typeof n,"")),c=null}return s=Vn(b,i,s,f),s.elementType=n,s.type=c,s.lanes=m,s}function br(n,s,i,c){return n=Vn(7,n,c,s),n.lanes=i,n}function Uf(n,s,i){return n=Vn(6,n,null,s),n.lanes=i,n}function dy(n){var s=Vn(18,null,null,0);return s.stateNode=n,s}function Bf(n,s,i){return s=Vn(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var fy=new WeakMap;function ia(n,s){if(typeof n=="object"&&n!==null){var i=fy.get(n);return i!==void 0?i:(s={value:n,source:s,stack:se(s)},fy.set(n,s),s)}return{value:n,source:s,stack:se(s)}}var Ni=[],Ti=0,Ac=null,qo=0,oa=[],la=0,ks=null,La=1,za="";function Wa(n,s){Ni[Ti++]=qo,Ni[Ti++]=Ac,Ac=n,qo=s}function hy(n,s,i){oa[la++]=La,oa[la++]=za,oa[la++]=ks,ks=n;var c=La;n=za;var f=32-Un(c)-1;c&=~(1<<f),i+=1;var m=32-Un(s)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,La=1<<32-Un(s)+f|i<<f|c,za=m+n}else La=1<<m|i<<f|c,za=n}function Vf(n){n.return!==null&&(Wa(n,1),hy(n,1,0))}function Ff(n){for(;n===Ac;)Ac=Ni[--Ti],Ni[Ti]=null,qo=Ni[--Ti],Ni[Ti]=null;for(;n===ks;)ks=oa[--la],oa[la]=null,za=oa[--la],oa[la]=null,La=oa[--la],oa[la]=null}function my(n,s){oa[la++]=La,oa[la++]=za,oa[la++]=ks,La=s.id,za=s.overflow,ks=n}var cn=null,_t=null,Je=!1,Es=null,ca=!1,qf=Error(r(519));function Ms(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(ia(s,n)),qf}function py(n){var s=n.stateNode,i=n.type,c=n.memoizedProps;switch(s[ln]=n,s[En]=c,i){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(i=0;i<fl.length;i++)Ge(fl[i],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),kv(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),Mv(s,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||Ox(s.textContent,i)?(c.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),c.onScroll!=null&&Ge("scroll",s),c.onScrollEnd!=null&&Ge("scrollend",s),c.onClick!=null&&(s.onclick=Ja),s=!0):s=!1,s||Ms(n,!0)}function gy(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:cn=cn.return}}function Ci(n){if(n!==cn)return!1;if(!Je)return gy(n),Je=!0,!1;var s=n.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||om(n.type,n.memoizedProps)),i=!i),i&&_t&&Ms(n),gy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));_t=Vx(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));_t=Vx(n)}else s===27?(s=_t,Hs(n.type)?(n=fm,fm=null,_t=n):_t=s):_t=cn?da(n.stateNode.nextSibling):null;return!0}function xr(){_t=cn=null,Je=!1}function Hf(){var n=Es;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),Es=null),n}function Ho(n){Es===null?Es=[n]:Es.push(n)}var $f=tt(null),wr=null,es=null;function As(n,s,i){g($f,s._currentValue),s._currentValue=i}function ts(n){n._currentValue=$f.current,le($f)}function Qf(n,s,i){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===i)break;n=n.return}}function Gf(n,s,i,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=f;for(var R=0;R<s.length;R++)if(N.context===s[R]){m.lanes|=i,N=m.alternate,N!==null&&(N.lanes|=i),Qf(m.return,i,n),c||(b=null);break e}m=N.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),Qf(b,i,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ki(n,s,i,c){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var N=f.type;Bn(f.pendingProps.value,b.value)||(n!==null?n.push(N):n=[N])}}else if(f===E.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(vl):n=[vl])}f=f.return}n!==null&&Gf(s,n,i,c),s.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!Bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Sr(n){wr=n,es=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function un(n){return vy(wr,n)}function Dc(n,s){return wr===null&&Sr(n),vy(n,s)}function vy(n,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},es===null){if(n===null)throw Error(r(308));es=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else es=es.next=s;return i}var y2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(i,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(i){return i()})}},b2=t.unstable_scheduleCallback,x2=t.unstable_NormalPriority,Gt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new y2,data:new Map,refCount:0}}function $o(n){n.refCount--,n.refCount===0&&b2(x2,function(){n.controller.abort()})}var Qo=null,Zf=0,Ei=0,Mi=null;function w2(n,s){if(Qo===null){var i=Qo=[];Zf=0,Ei=Xh(),Mi={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Zf++,s.then(yy,yy),s}function yy(){if(--Zf===0&&Qo!==null){Mi!==null&&(Mi.status="fulfilled");var n=Qo;Qo=null,Ei=0,Mi=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function S2(n,s){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<i.length;f++)(0,i[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var by=I.S;I.S=function(n,s){nx=Rt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&w2(n,s),by!==null&&by(n,s)};var _r=tt(null);function Jf(){var n=_r.current;return n!==null?n:bt.pooledCache}function Rc(n,s){s===null?g(_r,_r.current):g(_r,s.pool)}function xy(){var n=Jf();return n===null?null:{parent:Gt._currentValue,pool:n}}var Ai=Error(r(460)),Kf=Error(r(474)),Pc=Error(r(542)),Lc={then:function(){}};function wy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sy(n,s,i){switch(i=n[i],i===void 0?n.push(s):i!==s&&(s.then(Ja,Ja),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jy(n),n;default:if(typeof s.status=="string")s.then(Ja,Ja);else{if(n=bt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jy(n),n}throw Nr=s,Ai}}function jr(n){try{var s=n._init;return s(n._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Nr=i,Ai):i}}var Nr=null;function _y(){if(Nr===null)throw Error(r(459));var n=Nr;return Nr=null,n}function jy(n){if(n===Ai||n===Pc)throw Error(r(483))}var Oi=null,Go=0;function zc(n){var s=Go;return Go+=1,Oi===null&&(Oi=[]),Sy(Oi,n,s)}function Yo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ic(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ny(n){function s(z,L){if(n){var B=z.deletions;B===null?(z.deletions=[L],z.flags|=16):B.push(L)}}function i(z,L){if(!n)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function c(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=Xa(z,L),z.index=0,z.sibling=null,z}function m(z,L,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<L?(z.flags|=67108866,L):B):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function N(z,L,B,W){return L===null||L.tag!==6?(L=Uf(B,z.mode,W),L.return=z,L):(L=f(L,B),L.return=z,L)}function R(z,L,B,W){var Te=B.type;return Te===j?K(z,L,B.props.children,W,B.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&jr(Te)===L.type)?(L=f(L,B.props),Yo(L,B),L.return=z,L):(L=Mc(B.type,B.key,B.props,null,z.mode,W),Yo(L,B),L.return=z,L)}function V(z,L,B,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Bf(B,z.mode,W),L.return=z,L):(L=f(L,B.children||[]),L.return=z,L)}function K(z,L,B,W,Te){return L===null||L.tag!==7?(L=br(B,z.mode,W,Te),L.return=z,L):(L=f(L,B),L.return=z,L)}function ee(z,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Uf(""+L,z.mode,B),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return B=Mc(L.type,L.key,L.props,null,z.mode,B),Yo(B,L),B.return=z,B;case M:return L=Bf(L,z.mode,B),L.return=z,L;case J:return L=jr(L),ee(z,L,B)}if(De(L)||Pe(L))return L=br(L,z.mode,B,null),L.return=z,L;if(typeof L.then=="function")return ee(z,zc(L),B);if(L.$$typeof===P)return ee(z,Dc(z,L),B);Ic(z,L)}return null}function q(z,L,B,W){var Te=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Te!==null?null:N(z,L,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===Te?R(z,L,B,W):null;case M:return B.key===Te?V(z,L,B,W):null;case J:return B=jr(B),q(z,L,B,W)}if(De(B)||Pe(B))return Te!==null?null:K(z,L,B,W,null);if(typeof B.then=="function")return q(z,L,zc(B),W);if(B.$$typeof===P)return q(z,L,Dc(z,B),W);Ic(z,B)}return null}function $(z,L,B,W,Te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(B)||null,N(L,z,""+W,Te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return z=z.get(W.key===null?B:W.key)||null,R(L,z,W,Te);case M:return z=z.get(W.key===null?B:W.key)||null,V(L,z,W,Te);case J:return W=jr(W),$(z,L,B,W,Te)}if(De(W)||Pe(W))return z=z.get(B)||null,K(L,z,W,Te,null);if(typeof W.then=="function")return $(z,L,B,zc(W),Te);if(W.$$typeof===P)return $(z,L,B,Dc(L,W),Te);Ic(L,W)}return null}function ve(z,L,B,W){for(var Te=null,rt=null,xe=L,Ve=L=0,Ze=null;xe!==null&&Ve<B.length;Ve++){xe.index>Ve?(Ze=xe,xe=null):Ze=xe.sibling;var it=q(z,xe,B[Ve],W);if(it===null){xe===null&&(xe=Ze);break}n&&xe&&it.alternate===null&&s(z,xe),L=m(it,L,Ve),rt===null?Te=it:rt.sibling=it,rt=it,xe=Ze}if(Ve===B.length)return i(z,xe),Je&&Wa(z,Ve),Te;if(xe===null){for(;Ve<B.length;Ve++)xe=ee(z,B[Ve],W),xe!==null&&(L=m(xe,L,Ve),rt===null?Te=xe:rt.sibling=xe,rt=xe);return Je&&Wa(z,Ve),Te}for(xe=c(xe);Ve<B.length;Ve++)Ze=$(xe,z,Ve,B[Ve],W),Ze!==null&&(n&&Ze.alternate!==null&&xe.delete(Ze.key===null?Ve:Ze.key),L=m(Ze,L,Ve),rt===null?Te=Ze:rt.sibling=Ze,rt=Ze);return n&&xe.forEach(function(Zs){return s(z,Zs)}),Je&&Wa(z,Ve),Te}function ke(z,L,B,W){if(B==null)throw Error(r(151));for(var Te=null,rt=null,xe=L,Ve=L=0,Ze=null,it=B.next();xe!==null&&!it.done;Ve++,it=B.next()){xe.index>Ve?(Ze=xe,xe=null):Ze=xe.sibling;var Zs=q(z,xe,it.value,W);if(Zs===null){xe===null&&(xe=Ze);break}n&&xe&&Zs.alternate===null&&s(z,xe),L=m(Zs,L,Ve),rt===null?Te=Zs:rt.sibling=Zs,rt=Zs,xe=Ze}if(it.done)return i(z,xe),Je&&Wa(z,Ve),Te;if(xe===null){for(;!it.done;Ve++,it=B.next())it=ee(z,it.value,W),it!==null&&(L=m(it,L,Ve),rt===null?Te=it:rt.sibling=it,rt=it);return Je&&Wa(z,Ve),Te}for(xe=c(xe);!it.done;Ve++,it=B.next())it=$(xe,z,Ve,it.value,W),it!==null&&(n&&it.alternate!==null&&xe.delete(it.key===null?Ve:it.key),L=m(it,L,Ve),rt===null?Te=it:rt.sibling=it,rt=it);return n&&xe.forEach(function(Dk){return s(z,Dk)}),Je&&Wa(z,Ve),Te}function gt(z,L,B,W){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var Te=B.key;L!==null;){if(L.key===Te){if(Te=B.type,Te===j){if(L.tag===7){i(z,L.sibling),W=f(L,B.props.children),W.return=z,z=W;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&jr(Te)===L.type){i(z,L.sibling),W=f(L,B.props),Yo(W,B),W.return=z,z=W;break e}i(z,L);break}else s(z,L);L=L.sibling}B.type===j?(W=br(B.props.children,z.mode,W,B.key),W.return=z,z=W):(W=Mc(B.type,B.key,B.props,null,z.mode,W),Yo(W,B),W.return=z,z=W)}return b(z);case M:e:{for(Te=B.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){i(z,L.sibling),W=f(L,B.children||[]),W.return=z,z=W;break e}else{i(z,L);break}else s(z,L);L=L.sibling}W=Bf(B,z.mode,W),W.return=z,z=W}return b(z);case J:return B=jr(B),gt(z,L,B,W)}if(De(B))return ve(z,L,B,W);if(Pe(B)){if(Te=Pe(B),typeof Te!="function")throw Error(r(150));return B=Te.call(B),ke(z,L,B,W)}if(typeof B.then=="function")return gt(z,L,zc(B),W);if(B.$$typeof===P)return gt(z,L,Dc(z,B),W);Ic(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(i(z,L.sibling),W=f(L,B),W.return=z,z=W):(i(z,L),W=Uf(B,z.mode,W),W.return=z,z=W),b(z)):i(z,L)}return function(z,L,B,W){try{Go=0;var Te=gt(z,L,B,W);return Oi=null,Te}catch(xe){if(xe===Ai||xe===Pc)throw xe;var rt=Vn(29,xe,null,z.mode);return rt.lanes=W,rt.return=z,rt}}}var Tr=Ny(!0),Ty=Ny(!1),Os=!1;function Xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ds(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rs(n,s,i){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Ec(n),cy(n,null,i),s}return kc(n,c,s,i),Ec(n)}function Zo(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,vv(n,i)}}function eh(n,s){var i=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?f=m=s:m=m.next=s}else f=m=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}var th=!1;function Jo(){if(th){var n=Mi;if(n!==null)throw n}}function Ko(n,s,i,c){th=!1;var f=n.updateQueue;Os=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var R=N,V=R.next;R.next=null,b===null?m=V:b.next=V,b=R;var K=n.alternate;K!==null&&(K=K.updateQueue,N=K.lastBaseUpdate,N!==b&&(N===null?K.firstBaseUpdate=V:N.next=V,K.lastBaseUpdate=R))}if(m!==null){var ee=f.baseState;b=0,K=V=R=null,N=m;do{var q=N.lane&-536870913,$=q!==N.lane;if($?(Ye&q)===q:(c&q)===q){q!==0&&q===Ei&&(th=!0),K!==null&&(K=K.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ve=n,ke=N;q=s;var gt=i;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){ee=ve.call(gt,ee,q);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,q=typeof ve=="function"?ve.call(gt,ee,q):ve,q==null)break e;ee=_({},ee,q);break e;case 2:Os=!0}}q=N.callback,q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[q]:$.push(q))}else $={lane:q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},K===null?(V=K=$,R=ee):K=K.next=$,b|=q;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;$=N,N=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);K===null&&(R=ee),f.baseState=R,f.firstBaseUpdate=V,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Us|=b,n.lanes=b,n.memoizedState=ee}}function Cy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function ky(n,s){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)Cy(i[n],s)}var Di=tt(null),Uc=tt(0);function Ey(n,s){n=us,g(Uc,n),g(Di,s),us=n|s.baseLanes}function nh(){g(Uc,us),g(Di,Di.current)}function ah(){us=Uc.current,le(Di),le(Uc)}var Fn=tt(null),ua=null;function Ps(n){var s=n.alternate;g(Ut,Ut.current&1),g(Fn,n),ua===null&&(s===null||Di.current!==null||s.memoizedState!==null)&&(ua=n)}function sh(n){g(Ut,Ut.current),g(Fn,n),ua===null&&(ua=n)}function My(n){n.tag===22?(g(Ut,Ut.current),g(Fn,n),ua===null&&(ua=n)):Ls()}function Ls(){g(Ut,Ut.current),g(Fn,Fn.current)}function qn(n){le(Fn),ua===n&&(ua=null),le(Ut)}var Ut=tt(0);function Bc(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||um(i)||dm(i)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,Ie=null,mt=null,Yt=null,Vc=!1,Ri=!1,Cr=!1,Fc=0,Xo=0,Pi=null,_2=0;function Pt(){throw Error(r(321))}function rh(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!Bn(n[i],s[i]))return!1;return!0}function ih(n,s,i,c,f,m){return ns=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=n===null||n.memoizedState===null?hb:wh,Cr=!1,m=i(c,f),Cr=!1,Ri&&(m=Oy(s,i,c,f)),Ay(n),m}function Ay(n){I.H=tl;var s=mt!==null&&mt.next!==null;if(ns=0,Yt=mt=Ie=null,Vc=!1,Xo=0,Pi=null,s)throw Error(r(300));n===null||Zt||(n=n.dependencies,n!==null&&Oc(n)&&(Zt=!0))}function Oy(n,s,i,c){Ie=n;var f=0;do{if(Ri&&(Pi=null),Xo=0,Ri=!1,25<=f)throw Error(r(301));if(f+=1,Yt=mt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=mb,m=s(i,c)}while(Ri);return m}function j2(){var n=I.H,s=n.useState()[0];return s=typeof s.then=="function"?Wo(s):s,n=n.useState()[0],(mt!==null?mt.memoizedState:null)!==n&&(Ie.flags|=1024),s}function oh(){var n=Fc!==0;return Fc=0,n}function lh(n,s,i){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~i}function ch(n){if(Vc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vc=!1}ns=0,Yt=mt=Ie=null,Ri=!1,Xo=Fc=0,Pi=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ie.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function Bt(){if(mt===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var s=Yt===null?Ie.memoizedState:Yt.next;if(s!==null)Yt=s,mt=n;else{if(n===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Yt===null?Ie.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(n){var s=Xo;return Xo+=1,Pi===null&&(Pi=[]),n=Sy(Pi,n,s),s=Ie,(Yt===null?s.memoizedState:Yt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?hb:wh),n}function Hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Wo(n);if(n.$$typeof===P)return un(n)}throw Error(r(438,String(n)))}function uh(n){var s=null,i=Ie.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=qc(),Ie.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(n),c=0;c<n;c++)i[c]=pe;return s.index++,i}function as(n,s){return typeof s=="function"?s(n):s}function $c(n){var s=Bt();return dh(s,mt,n)}function dh(n,s,i){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var N=b=null,R=null,V=s,K=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(Ye&ee)===ee:(ns&ee)===ee){var q=V.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===Ei&&(K=!0);else if((ns&q)===q){V=V.next,q===Ei&&(K=!0);continue}else ee={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(N=R=ee,b=m):R=R.next=ee,Ie.lanes|=q,Us|=q;ee=V.action,Cr&&i(m,ee),m=V.hasEagerState?V.eagerState:i(m,ee)}else q={lane:ee,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(N=R=q,b=m):R=R.next=q,Ie.lanes|=ee,Us|=ee;V=V.next}while(V!==null&&V!==s);if(R===null?b=m:R.next=N,!Bn(m,n.memoizedState)&&(Zt=!0,K&&(i=Mi,i!==null)))throw i;n.memoizedState=m,n.baseState=b,n.baseQueue=R,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function fh(n){var s=Bt(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var c=i.dispatch,f=i.pending,m=s.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);Bn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),i.lastRenderedState=m}return[m,c]}function Dy(n,s,i){var c=Ie,f=Bt(),m=Je;if(m){if(i===void 0)throw Error(r(407));i=i()}else i=s();var b=!Bn((mt||f).memoizedState,i);if(b&&(f.memoizedState=i,Zt=!0),f=f.queue,ph(Ly.bind(null,c,f,n),[n]),f.getSnapshot!==s||b||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,Li(9,{destroy:void 0},Py.bind(null,c,f,i,s),null),bt===null)throw Error(r(349));m||(ns&127)!==0||Ry(c,s,i)}return i}function Ry(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Ie.updateQueue,s===null?(s=qc(),Ie.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function Py(n,s,i,c){s.value=i,s.getSnapshot=c,zy(s)&&Iy(n)}function Ly(n,s,i){return i(function(){zy(s)&&Iy(n)})}function zy(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!Bn(n,i)}catch{return!0}}function Iy(n){var s=yr(n,2);s!==null&&Pn(s,n,2)}function hh(n){var s=xn();if(typeof n=="function"){var i=n;if(n=i(),Cr){Ns(!0);try{i()}finally{Ns(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:n},s}function Uy(n,s,i,c){return n.baseState=i,dh(n,mt,typeof c=="function"?c:as)}function N2(n,s,i,c,f){if(Yc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};I.T!==null?i(!0):m.isTransition=!1,c(m),i=s.pending,i===null?(m.next=s.pending=m,By(s,m)):(m.next=i.next,s.pending=i.next=m)}}function By(n,s){var i=s.action,c=s.payload,f=n.state;if(s.isTransition){var m=I.T,b={};I.T=b;try{var N=i(f,c),R=I.S;R!==null&&R(b,N),Vy(n,s,N)}catch(V){mh(n,s,V)}finally{m!==null&&b.types!==null&&(m.types=b.types),I.T=m}}else try{m=i(f,c),Vy(n,s,m)}catch(V){mh(n,s,V)}}function Vy(n,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Fy(n,s,c)},function(c){return mh(n,s,c)}):Fy(n,s,i)}function Fy(n,s,i){s.status="fulfilled",s.value=i,qy(s),n.state=i,s=n.pending,s!==null&&(i=s.next,i===s?n.pending=null:(i=i.next,s.next=i,By(n,i)))}function mh(n,s,i){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,qy(s),s=s.next;while(s!==c)}n.action=null}function qy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hy(n,s){return s}function $y(n,s){if(Je){var i=bt.formState;if(i!==null){e:{var c=Ie;if(Je){if(_t){t:{for(var f=_t,m=ca;f.nodeType!==8;){if(!m){f=null;break t}if(f=da(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=da(f.nextSibling),c=f.data==="F!";break e}}Ms(c)}c=!1}c&&(s=i[0])}}return i=xn(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:s},i.queue=c,i=ub.bind(null,Ie,c),c.dispatch=i,c=hh(!1),m=xh.bind(null,Ie,!1,c.queue),c=xn(),f={state:s,dispatch:null,action:n,pending:null},c.queue=f,i=N2.bind(null,Ie,f,m,i),f.dispatch=i,c.memoizedState=n,[s,i,!1]}function Qy(n){var s=Bt();return Gy(s,mt,n)}function Gy(n,s,i){if(s=dh(n,s,Hy)[0],n=$c(as)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Wo(s)}catch(b){throw b===Ai?Pc:b}else c=s;s=Bt();var f=s.queue,m=f.dispatch;return i!==s.memoizedState&&(Ie.flags|=2048,Li(9,{destroy:void 0},T2.bind(null,f,i),null)),[c,m,n]}function T2(n,s){n.action=s}function Yy(n){var s=Bt(),i=mt;if(i!==null)return Gy(s,i,n);Bt(),s=s.memoizedState,i=Bt();var c=i.queue.dispatch;return i.memoizedState=n,[s,c,!1]}function Li(n,s,i,c){return n={tag:n,create:i,deps:c,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=qc(),Ie.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=n.next=n:(c=i.next,i.next=n,n.next=c,s.lastEffect=n),n}function Zy(){return Bt().memoizedState}function Qc(n,s,i,c){var f=xn();Ie.flags|=n,f.memoizedState=Li(1|s,{destroy:void 0},i,c===void 0?null:c)}function Gc(n,s,i,c){var f=Bt();c=c===void 0?null:c;var m=f.memoizedState.inst;mt!==null&&c!==null&&rh(c,mt.memoizedState.deps)?f.memoizedState=Li(s,m,i,c):(Ie.flags|=n,f.memoizedState=Li(1|s,m,i,c))}function Jy(n,s){Qc(8390656,8,n,s)}function ph(n,s){Gc(2048,8,n,s)}function C2(n){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=qc(),Ie.updateQueue=s,s.events=[n];else{var i=s.events;i===null?s.events=[n]:i.push(n)}}function Ky(n){var s=Bt().memoizedState;return C2({ref:s,nextImpl:n}),function(){if((ot&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Xy(n,s){return Gc(4,2,n,s)}function Wy(n,s){return Gc(4,4,n,s)}function eb(n,s){if(typeof s=="function"){n=n();var i=s(n);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function tb(n,s,i){i=i!=null?i.concat([n]):null,Gc(4,4,eb.bind(null,s,n),i)}function gh(){}function nb(n,s){var i=Bt();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&rh(s,c[1])?c[0]:(i.memoizedState=[n,s],n)}function ab(n,s){var i=Bt();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&rh(s,c[1]))return c[0];if(c=n(),Cr){Ns(!0);try{n()}finally{Ns(!1)}}return i.memoizedState=[c,s],c}function vh(n,s,i){return i===void 0||(ns&1073741824)!==0&&(Ye&261930)===0?n.memoizedState=s:(n.memoizedState=i,n=sx(),Ie.lanes|=n,Us|=n,i)}function sb(n,s,i,c){return Bn(i,s)?i:Di.current!==null?(n=vh(n,i,c),Bn(n,s)||(Zt=!0),n):(ns&42)===0||(ns&1073741824)!==0&&(Ye&261930)===0?(Zt=!0,n.memoizedState=i):(n=sx(),Ie.lanes|=n,Us|=n,s)}function rb(n,s,i,c,f){var m=ne.p;ne.p=m!==0&&8>m?m:8;var b=I.T,N={};I.T=N,xh(n,!1,s,i);try{var R=f(),V=I.S;if(V!==null&&V(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=S2(R,c);el(n,s,K,Qn(n))}else el(n,s,c,Qn(n))}catch(ee){el(n,s,{then:function(){},status:"rejected",reason:ee},Qn())}finally{ne.p=m,b!==null&&N.types!==null&&(b.types=N.types),I.T=b}}function k2(){}function yh(n,s,i,c){if(n.tag!==5)throw Error(r(476));var f=ib(n).queue;rb(n,f,s,X,i===null?k2:function(){return ob(n),i(c)})}function ib(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:X},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function ob(n){var s=ib(n);s.next===null&&(s=n.alternate.memoizedState),el(n,s.next.queue,{},Qn())}function bh(){return un(vl)}function lb(){return Bt().memoizedState}function cb(){return Bt().memoizedState}function E2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var i=Qn();n=Ds(i);var c=Rs(s,n,i);c!==null&&(Pn(c,s,i),Zo(c,s,i)),s={cache:Yf()},n.payload=s;return}s=s.return}}function M2(n,s,i){var c=Qn();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Yc(n)?db(s,i):(i=zf(n,s,i,c),i!==null&&(Pn(i,n,c),fb(i,s,c)))}function ub(n,s,i){var c=Qn();el(n,s,i,c)}function el(n,s,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yc(n))db(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,N=m(b,i);if(f.hasEagerState=!0,f.eagerState=N,Bn(N,b))return kc(n,s,f,0),bt===null&&Cc(),!1}catch{}if(i=zf(n,s,f,c),i!==null)return Pn(i,n,c),fb(i,s,c),!0}return!1}function xh(n,s,i,c){if(c={lane:2,revertLane:Xh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yc(n)){if(s)throw Error(r(479))}else s=zf(n,i,c,2),s!==null&&Pn(s,n,2)}function Yc(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function db(n,s){Ri=Vc=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function fb(n,s,i){if((i&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,vv(n,i)}}var tl={readContext:un,use:Hc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};tl.useEffectEvent=Pt;var hb={readContext:un,use:Hc,useCallback:function(n,s){return xn().memoizedState=[n,s===void 0?null:s],n},useContext:un,useEffect:Jy,useImperativeHandle:function(n,s,i){i=i!=null?i.concat([n]):null,Qc(4194308,4,eb.bind(null,s,n),i)},useLayoutEffect:function(n,s){return Qc(4194308,4,n,s)},useInsertionEffect:function(n,s){Qc(4,2,n,s)},useMemo:function(n,s){var i=xn();s=s===void 0?null:s;var c=n();if(Cr){Ns(!0);try{n()}finally{Ns(!1)}}return i.memoizedState=[c,s],c},useReducer:function(n,s,i){var c=xn();if(i!==void 0){var f=i(s);if(Cr){Ns(!0);try{i(s)}finally{Ns(!1)}}}else f=s;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=M2.bind(null,Ie,n),[c.memoizedState,n]},useRef:function(n){var s=xn();return n={current:n},s.memoizedState=n},useState:function(n){n=hh(n);var s=n.queue,i=ub.bind(null,Ie,s);return s.dispatch=i,[n.memoizedState,i]},useDebugValue:gh,useDeferredValue:function(n,s){var i=xn();return vh(i,n,s)},useTransition:function(){var n=hh(!1);return n=rb.bind(null,Ie,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,i){var c=Ie,f=xn();if(Je){if(i===void 0)throw Error(r(407));i=i()}else{if(i=s(),bt===null)throw Error(r(349));(Ye&127)!==0||Ry(c,s,i)}f.memoizedState=i;var m={value:i,getSnapshot:s};return f.queue=m,Jy(Ly.bind(null,c,m,n),[n]),c.flags|=2048,Li(9,{destroy:void 0},Py.bind(null,c,m,i,s),null),i},useId:function(){var n=xn(),s=bt.identifierPrefix;if(Je){var i=za,c=La;i=(c&~(1<<32-Un(c)-1)).toString(32)+i,s="_"+s+"R_"+i,i=Fc++,0<i&&(s+="H"+i.toString(32)),s+="_"}else i=_2++,s="_"+s+"r_"+i.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:bh,useFormState:$y,useActionState:$y,useOptimistic:function(n){var s=xn();s.memoizedState=s.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=xh.bind(null,Ie,!0,i),i.dispatch=s,[n,s]},useMemoCache:uh,useCacheRefresh:function(){return xn().memoizedState=E2.bind(null,Ie)},useEffectEvent:function(n){var s=xn(),i={impl:n};return s.memoizedState=i,function(){if((ot&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},wh={readContext:un,use:Hc,useCallback:nb,useContext:un,useEffect:ph,useImperativeHandle:tb,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:ab,useReducer:$c,useRef:Zy,useState:function(){return $c(as)},useDebugValue:gh,useDeferredValue:function(n,s){var i=Bt();return sb(i,mt.memoizedState,n,s)},useTransition:function(){var n=$c(as)[0],s=Bt().memoizedState;return[typeof n=="boolean"?n:Wo(n),s]},useSyncExternalStore:Dy,useId:lb,useHostTransitionStatus:bh,useFormState:Qy,useActionState:Qy,useOptimistic:function(n,s){var i=Bt();return Uy(i,mt,n,s)},useMemoCache:uh,useCacheRefresh:cb};wh.useEffectEvent=Ky;var mb={readContext:un,use:Hc,useCallback:nb,useContext:un,useEffect:ph,useImperativeHandle:tb,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:ab,useReducer:fh,useRef:Zy,useState:function(){return fh(as)},useDebugValue:gh,useDeferredValue:function(n,s){var i=Bt();return mt===null?vh(i,n,s):sb(i,mt.memoizedState,n,s)},useTransition:function(){var n=fh(as)[0],s=Bt().memoizedState;return[typeof n=="boolean"?n:Wo(n),s]},useSyncExternalStore:Dy,useId:lb,useHostTransitionStatus:bh,useFormState:Yy,useActionState:Yy,useOptimistic:function(n,s){var i=Bt();return mt!==null?Uy(i,mt,n,s):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:uh,useCacheRefresh:cb};mb.useEffectEvent=Ky;function Sh(n,s,i,c){s=n.memoizedState,i=i(c,s),i=i==null?s:_({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var _h={enqueueSetState:function(n,s,i){n=n._reactInternals;var c=Qn(),f=Ds(c);f.payload=s,i!=null&&(f.callback=i),s=Rs(n,f,c),s!==null&&(Pn(s,n,c),Zo(s,n,c))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var c=Qn(),f=Ds(c);f.tag=1,f.payload=s,i!=null&&(f.callback=i),s=Rs(n,f,c),s!==null&&(Pn(s,n,c),Zo(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=Qn(),c=Ds(i);c.tag=2,s!=null&&(c.callback=s),s=Rs(n,c,i),s!==null&&(Pn(s,n,i),Zo(s,n,i))}};function pb(n,s,i,c,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Vo(i,c)||!Vo(f,m):!0}function gb(n,s,i,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==n&&_h.enqueueReplaceState(s,s.state,null)}function kr(n,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(n=n.defaultProps){i===s&&(i=_({},i));for(var f in n)i[f]===void 0&&(i[f]=n[f])}return i}function vb(n){Tc(n)}function yb(n){console.error(n)}function bb(n){Tc(n)}function Zc(n,s){try{var i=n.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function xb(n,s,i){try{var c=n.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jh(n,s,i){return i=Ds(i),i.tag=3,i.payload={element:null},i.callback=function(){Zc(n,s)},i}function wb(n){return n=Ds(n),n.tag=3,n}function Sb(n,s,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){xb(s,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){xb(s,i,c),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function A2(n,s,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&ki(s,i,f,!0),i=Fn.current,i!==null){switch(i.tag){case 31:case 13:return ua===null?ou():i.alternate===null&&Lt===0&&(Lt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Lc?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),Zh(n,c,f)),!1;case 22:return i.flags|=65536,c===Lc?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),Zh(n,c,f)),!1}throw Error(r(435,i.tag))}return Zh(n,c,f),ou(),!1}if(Je)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==qf&&(n=Error(r(422),{cause:c}),Ho(ia(n,i)))):(c!==qf&&(s=Error(r(423),{cause:c}),Ho(ia(s,i))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=ia(c,i),f=jh(n.stateNode,c,f),eh(n,f),Lt!==4&&(Lt=2)),!1;var m=Error(r(520),{cause:c});if(m=ia(m,i),cl===null?cl=[m]:cl.push(m),Lt!==4&&(Lt=2),s===null)return!0;c=ia(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,n=f&-f,i.lanes|=n,n=jh(i.stateNode,c,n),eh(i,n),!1;case 1:if(s=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bs===null||!Bs.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=wb(f),Sb(f,n,i,c),eh(i,f),!1}i=i.return}while(i!==null);return!1}var Nh=Error(r(461)),Zt=!1;function dn(n,s,i,c){s.child=n===null?Ty(s,null,i,c):Tr(s,n.child,i,c)}function _b(n,s,i,c,f){i=i.render;var m=s.ref;if("ref"in c){var b={};for(var N in c)N!=="ref"&&(b[N]=c[N])}else b=c;return Sr(s),c=ih(n,s,i,b,m,f),N=oh(),n!==null&&!Zt?(lh(n,s,f),ss(n,s,f)):(Je&&N&&Vf(s),s.flags|=1,dn(n,s,c,f),s.child)}function jb(n,s,i,c,f){if(n===null){var m=i.type;return typeof m=="function"&&!If(m)&&m.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=m,Nb(n,s,m,c,f)):(n=Mc(i.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Dh(n,f)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:Vo,i(b,c)&&n.ref===s.ref)return ss(n,s,f)}return s.flags|=1,n=Xa(m,c),n.ref=s.ref,n.return=s,s.child=n}function Nb(n,s,i,c,f){if(n!==null){var m=n.memoizedProps;if(Vo(m,c)&&n.ref===s.ref)if(Zt=!1,s.pendingProps=c=m,Dh(n,f))(n.flags&131072)!==0&&(Zt=!0);else return s.lanes=n.lanes,ss(n,s,f)}return Th(n,s,i,c,f)}function Tb(n,s,i,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,n!==null){for(c=s.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Cb(n,s,m,i,c)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rc(s,m!==null?m.cachePool:null),m!==null?Ey(s,m):nh(),My(s);else return c=s.lanes=536870912,Cb(n,s,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(Rc(s,m.cachePool),Ey(s,m),Ls(),s.memoizedState=null):(n!==null&&Rc(s,null),nh(),Ls());return dn(n,s,f,i),s.child}function nl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Cb(n,s,i,c,f){var m=Jf();return m=m===null?null:{parent:Gt._currentValue,pool:m},s.memoizedState={baseLanes:i,cachePool:m},n!==null&&Rc(s,null),nh(),My(s),n!==null&&ki(n,s,c,!0),s.childLanes=f,null}function Jc(n,s){return s=Xc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function kb(n,s,i){return Tr(s,n.child,null,i),n=Jc(s,s.pendingProps),n.flags|=2,qn(s),s.memoizedState=null,n}function O2(n,s,i){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Je){if(c.mode==="hidden")return n=Jc(s,c),s.lanes=536870912,nl(null,n);if(sh(s),(n=_t)?(n=Bx(n,ca),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ks!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},i=dy(n),i.return=s,s.child=i,cn=s,_t=null)):n=null,n===null)throw Ms(s);return s.lanes=536870912,null}return Jc(s,c)}var m=n.memoizedState;if(m!==null){var b=m.dehydrated;if(sh(s),f)if(s.flags&256)s.flags&=-257,s=kb(n,s,i);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Zt||ki(n,s,i,!1),f=(i&n.childLanes)!==0,Zt||f){if(c=bt,c!==null&&(b=yv(c,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,yr(n,b),Pn(c,n,b),Nh;ou(),s=kb(n,s,i)}else n=m.treeContext,_t=da(b.nextSibling),cn=s,Je=!0,Es=null,ca=!1,n!==null&&my(s,n),s=Jc(s,c),s.flags|=4096;return s}return n=Xa(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Kc(n,s){var i=s.ref;if(i===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(n===null||n.ref!==i)&&(s.flags|=4194816)}}function Th(n,s,i,c,f){return Sr(s),i=ih(n,s,i,c,void 0,f),c=oh(),n!==null&&!Zt?(lh(n,s,f),ss(n,s,f)):(Je&&c&&Vf(s),s.flags|=1,dn(n,s,i,f),s.child)}function Eb(n,s,i,c,f,m){return Sr(s),s.updateQueue=null,i=Oy(s,c,i,f),Ay(n),c=oh(),n!==null&&!Zt?(lh(n,s,m),ss(n,s,m)):(Je&&c&&Vf(s),s.flags|=1,dn(n,s,i,m),s.child)}function Mb(n,s,i,c,f){if(Sr(s),s.stateNode===null){var m=ji,b=i.contextType;typeof b=="object"&&b!==null&&(m=un(b)),m=new i(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_h,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Xf(s),b=i.contextType,m.context=typeof b=="object"&&b!==null?un(b):ji,m.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Sh(s,i,b,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&_h.enqueueReplaceState(m,m.state,null),Ko(s,c,m,f),Jo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){m=s.stateNode;var N=s.memoizedProps,R=kr(i,N);m.props=R;var V=m.context,K=i.contextType;b=ji,typeof K=="object"&&K!==null&&(b=un(K));var ee=i.getDerivedStateFromProps;K=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||V!==b)&&gb(s,m,c,b),Os=!1;var q=s.memoizedState;m.state=q,Ko(s,c,m,f),Jo(),V=s.memoizedState,N||q!==V||Os?(typeof ee=="function"&&(Sh(s,i,ee,c),V=s.memoizedState),(R=Os||pb(s,i,R,c,q,V,b))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=V),m.props=c,m.state=V,m.context=b,c=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Wf(n,s),b=s.memoizedProps,K=kr(i,b),m.props=K,ee=s.pendingProps,q=m.context,V=i.contextType,R=ji,typeof V=="object"&&V!==null&&(R=un(V)),N=i.getDerivedStateFromProps,(V=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||q!==R)&&gb(s,m,c,R),Os=!1,q=s.memoizedState,m.state=q,Ko(s,c,m,f),Jo();var $=s.memoizedState;b!==ee||q!==$||Os||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof N=="function"&&(Sh(s,i,N,c),$=s.memoizedState),(K=Os||pb(s,i,K,c,q,$,R)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?(V||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,$,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,$,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=$),m.props=c,m.state=$,m.context=R,c=K):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),c=!1)}return m=c,Kc(n,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&c?(s.child=Tr(s,n.child,null,f),s.child=Tr(s,null,i,f)):dn(n,s,i,f),s.memoizedState=m.state,n=s.child):n=ss(n,s,f),n}function Ab(n,s,i,c){return xr(),s.flags|=256,dn(n,s,i,c),s.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(n){return{baseLanes:n,cachePool:xy()}}function Eh(n,s,i){return n=n!==null?n.childLanes&~i:0,s&&(n|=$n),n}function Ob(n,s,i){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Je){if(f?Ps(s):Ls(),(n=_t)?(n=Bx(n,ca),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ks!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},i=dy(n),i.return=s,s.child=i,cn=s,_t=null)):n=null,n===null)throw Ms(s);return dm(n)?s.lanes=32:s.lanes=536870912,null}var N=c.children;return c=c.fallback,f?(Ls(),f=s.mode,N=Xc({mode:"hidden",children:N},f),c=br(c,f,i,null),N.return=s,c.return=s,N.sibling=c,s.child=N,c=s.child,c.memoizedState=kh(i),c.childLanes=Eh(n,b,i),s.memoizedState=Ch,nl(null,c)):(Ps(s),Mh(s,N))}var R=n.memoizedState;if(R!==null&&(N=R.dehydrated,N!==null)){if(m)s.flags&256?(Ps(s),s.flags&=-257,s=Ah(n,s,i)):s.memoizedState!==null?(Ls(),s.child=n.child,s.flags|=128,s=null):(Ls(),N=c.fallback,f=s.mode,c=Xc({mode:"visible",children:c.children},f),N=br(N,f,i,null),N.flags|=2,c.return=s,N.return=s,c.sibling=N,s.child=c,Tr(s,n.child,null,i),c=s.child,c.memoizedState=kh(i),c.childLanes=Eh(n,b,i),s.memoizedState=Ch,s=nl(null,c));else if(Ps(s),dm(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var V=b.dgst;b=V,c=Error(r(419)),c.stack="",c.digest=b,Ho({value:c,source:null,stack:null}),s=Ah(n,s,i)}else if(Zt||ki(n,s,i,!1),b=(i&n.childLanes)!==0,Zt||b){if(b=bt,b!==null&&(c=yv(b,i),c!==0&&c!==R.retryLane))throw R.retryLane=c,yr(n,c),Pn(b,n,c),Nh;um(N)||ou(),s=Ah(n,s,i)}else um(N)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,_t=da(N.nextSibling),cn=s,Je=!0,Es=null,ca=!1,n!==null&&my(s,n),s=Mh(s,c.children),s.flags|=4096);return s}return f?(Ls(),N=c.fallback,f=s.mode,R=n.child,V=R.sibling,c=Xa(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,V!==null?N=Xa(V,N):(N=br(N,f,i,null),N.flags|=2),N.return=s,c.return=s,c.sibling=N,s.child=c,nl(null,c),c=s.child,N=n.child.memoizedState,N===null?N=kh(i):(f=N.cachePool,f!==null?(R=Gt._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=xy(),N={baseLanes:N.baseLanes|i,cachePool:f}),c.memoizedState=N,c.childLanes=Eh(n,b,i),s.memoizedState=Ch,nl(n.child,c)):(Ps(s),i=n.child,n=i.sibling,i=Xa(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=i,s.memoizedState=null,i)}function Mh(n,s){return s=Xc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Xc(n,s){return n=Vn(22,n,null,s),n.lanes=0,n}function Ah(n,s,i){return Tr(s,n.child,null,i),n=Mh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Db(n,s,i){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Qf(n.return,s,i)}function Oh(n,s,i,c,f,m){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=i,b.tailMode=f,b.treeForkCount=m)}function Rb(n,s,i){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=Ut.current,N=(b&2)!==0;if(N?(b=b&1|2,s.flags|=128):b&=1,g(Ut,b),dn(n,s,c,i),c=Je?qo:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Db(n,i,s);else if(n.tag===19)Db(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(i=s.child,f=null;i!==null;)n=i.alternate,n!==null&&Bc(n)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),Oh(s,!1,f,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Bc(n)===null){s.child=f;break}n=f.sibling,f.sibling=i,i=f,f=n}Oh(s,!0,i,null,m,c);break;case"together":Oh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function ss(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Us|=s.lanes,(i&s.childLanes)===0)if(n!==null){if(ki(n,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,i=Xa(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=Xa(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function Dh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function D2(n,s,i){switch(s.tag){case 3:U(s,s.stateNode.containerInfo),As(s,Gt,n.memoizedState.cache),xr();break;case 27:case 5:G(s);break;case 4:U(s,s.stateNode.containerInfo);break;case 10:As(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Ob(n,s,i):(Ps(s),n=ss(n,s,i),n!==null?n.sibling:null);Ps(s);break;case 19:var f=(n.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(ki(n,s,i,!1),c=(i&s.childLanes)!==0),f){if(c)return Rb(n,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),g(Ut,Ut.current),c)break;return null;case 22:return s.lanes=0,Tb(n,s,i,s.pendingProps);case 24:As(s,Gt,n.memoizedState.cache)}return ss(n,s,i)}function Pb(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Dh(n,i)&&(s.flags&128)===0)return Zt=!1,D2(n,s,i);Zt=(n.flags&131072)!==0}else Zt=!1,Je&&(s.flags&1048576)!==0&&hy(s,qo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=jr(s.elementType),s.type=n,typeof n=="function")If(n)?(c=kr(n,c),s.tag=1,s=Mb(null,s,n,c,i)):(s.tag=0,s=Th(null,s,n,c,i));else{if(n!=null){var f=n.$$typeof;if(f===Q){s.tag=11,s=_b(null,s,n,c,i);break e}else if(f===Y){s.tag=14,s=jb(null,s,n,c,i);break e}}throw s=ge(n)||n,Error(r(306,s,""))}}return s;case 0:return Th(n,s,s.type,s.pendingProps,i);case 1:return c=s.type,f=kr(c,s.pendingProps),Mb(n,s,c,f,i);case 3:e:{if(U(s,s.stateNode.containerInfo),n===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,Wf(n,s),Ko(s,c,null,i);var b=s.memoizedState;if(c=b.cache,As(s,Gt,c),c!==m.cache&&Gf(s,[Gt],i,!0),Jo(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Ab(n,s,c,i);break e}else if(c!==f){f=ia(Error(r(424)),s),Ho(f),s=Ab(n,s,c,i);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,_t=da(n.firstChild),cn=s,Je=!0,Es=null,ca=!0,i=Ty(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xr(),c===f){s=ss(n,s,i);break e}dn(n,s,c,i)}s=s.child}return s;case 26:return Kc(n,s),n===null?(i=Qx(s.type,null,s.pendingProps,null))?s.memoizedState=i:Je||(i=s.type,n=s.pendingProps,c=mu(O.current).createElement(i),c[ln]=s,c[En]=n,fn(c,i,n),nn(c),s.stateNode=c):s.memoizedState=Qx(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return G(s),n===null&&Je&&(c=s.stateNode=qx(s.type,s.pendingProps,O.current),cn=s,ca=!0,f=_t,Hs(s.type)?(fm=f,_t=da(c.firstChild)):_t=f),dn(n,s,s.pendingProps.children,i),Kc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Je&&((f=c=_t)&&(c=ck(c,s.type,s.pendingProps,ca),c!==null?(s.stateNode=c,cn=s,_t=da(c.firstChild),ca=!1,f=!0):f=!1),f||Ms(s)),G(s),f=s.type,m=s.pendingProps,b=n!==null?n.memoizedProps:null,c=m.children,om(f,m)?c=null:b!==null&&om(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=ih(n,s,j2,null,null,i),vl._currentValue=f),Kc(n,s),dn(n,s,c,i),s.child;case 6:return n===null&&Je&&((n=i=_t)&&(i=uk(i,s.pendingProps,ca),i!==null?(s.stateNode=i,cn=s,_t=null,n=!0):n=!1),n||Ms(s)),null;case 13:return Ob(n,s,i);case 4:return U(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Tr(s,null,c,i):dn(n,s,c,i),s.child;case 11:return _b(n,s,s.type,s.pendingProps,i);case 7:return dn(n,s,s.pendingProps,i),s.child;case 8:return dn(n,s,s.pendingProps.children,i),s.child;case 12:return dn(n,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,As(s,s.type,c.value),dn(n,s,c.children,i),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Sr(s),f=un(f),c=c(f),s.flags|=1,dn(n,s,c,i),s.child;case 14:return jb(n,s,s.type,s.pendingProps,i);case 15:return Nb(n,s,s.type,s.pendingProps,i);case 19:return Rb(n,s,i);case 31:return O2(n,s,i);case 22:return Tb(n,s,i,s.pendingProps);case 24:return Sr(s),c=un(Gt),n===null?(f=Jf(),f===null&&(f=bt,m=Yf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),s.memoizedState={parent:c,cache:f},Xf(s),As(s,Gt,f)):((n.lanes&i)!==0&&(Wf(n,s),Ko(s,null,null,i),Jo()),f=n.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),As(s,Gt,c)):(c=m.cache,As(s,Gt,c),c!==f.cache&&Gf(s,[Gt],i,!0))),dn(n,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(n){n.flags|=4}function Rh(n,s,i,c,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(lx())n.flags|=8192;else throw Nr=Lc,Kf}else n.flags&=-16777217}function Lb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Kx(s))if(lx())n.flags|=8192;else throw Nr=Lc,Kf}function Wc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?pv():536870912,n.lanes|=s,Bi|=s)}function al(n,s){if(!Je)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,c=0;if(s)for(var f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=i,s}function R2(n,s,i){var c=s.pendingProps;switch(Ff(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return i=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ts(Gt),Z(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ci(s)?rs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hf())),jt(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(rs(s),m!==null?(jt(s),Lb(s,m)):(jt(s),Rh(s,f,null,c,i))):m?m!==n.memoizedState?(rs(s),jt(s),Lb(s,m)):(jt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&rs(s),jt(s),Rh(s,f,n,c,i)),null;case 27:if(ie(s),i=O.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}n=S.current,Ci(s)?py(s):(n=qx(f,c,i),s.stateNode=n,rs(s))}return jt(s),null;case 5:if(ie(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(m=S.current,Ci(s))py(s);else{var b=mu(O.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[ln]=s,m[En]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(fn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&rs(s)}}return jt(s),Rh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,i),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&rs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(n=O.current,Ci(s)){if(n=s.stateNode,i=s.memoizedProps,c=null,f=cn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[ln]=s,n=!!(n.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Ox(n.nodeValue,i)),n||Ms(s,!0)}else n=mu(n).createTextNode(c),n[ln]=s,s.stateNode=n}return jt(s),null;case 31:if(i=s.memoizedState,n===null||n.memoizedState!==null){if(c=Ci(s),i!==null){if(n===null){if(!c)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[ln]=s}else xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),n=!1}else i=Hf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),n=!0;if(!n)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return jt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ci(s),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ln]=s}else xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),f=!1}else f=Hf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=i,s):(i=c!==null,n=n!==null&&n.memoizedState!==null,i&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),i!==n&&i&&(s.child.flags|=8192),Wc(s,s.updateQueue),jt(s),null);case 4:return Z(),n===null&&nm(s.stateNode.containerInfo),jt(s),null;case 10:return ts(s.type),jt(s),null;case 19:if(le(Ut),c=s.memoizedState,c===null)return jt(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)al(c,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Bc(n),m!==null){for(s.flags|=128,al(c,!1),n=m.updateQueue,s.updateQueue=n,Wc(s,n),s.subtreeFlags=0,n=i,i=s.child;i!==null;)uy(i,n),i=i.sibling;return g(Ut,Ut.current&1|2),Je&&Wa(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&Rt()>su&&(s.flags|=128,f=!0,al(c,!1),s.lanes=4194304)}else{if(!f)if(n=Bc(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Wc(s,n),al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Je)return jt(s),null}else 2*Rt()-c.renderingStartTime>su&&i!==536870912&&(s.flags|=128,f=!0,al(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(n=c.last,n!==null?n.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Rt(),n.sibling=null,i=Ut.current,g(Ut,f?i&1|2:i&1),Je&&Wa(s,c.treeForkCount),n):(jt(s),null);case 22:case 23:return qn(s),ah(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),i=s.updateQueue,i!==null&&Wc(s,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),n!==null&&le(_r),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),ts(Gt),jt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function P2(n,s){switch(Ff(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(Gt),Z(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ie(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(r(340));xr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(qn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));xr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return le(Ut),null;case 4:return Z(),null;case 10:return ts(s.type),null;case 22:case 23:return qn(s),ah(),n!==null&&le(_r),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ts(Gt),null;case 25:return null;default:return null}}function zb(n,s){switch(Ff(s),s.tag){case 3:ts(Gt),Z();break;case 26:case 27:case 5:ie(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:le(Ut);break;case 10:ts(s.type);break;case 22:case 23:qn(s),ah(),n!==null&&le(_r);break;case 24:ts(Gt)}}function sl(n,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&n)===n){c=void 0;var m=i.create,b=i.inst;c=m(),b.destroy=c}i=i.next}while(i!==f)}}catch(N){ft(s,s.return,N)}}function zs(n,s,i){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var b=c.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,f=s;var R=i,V=N;try{V()}catch(K){ft(f,R,K)}}}c=c.next}while(c!==m)}}catch(K){ft(s,s.return,K)}}function Ib(n){var s=n.updateQueue;if(s!==null){var i=n.stateNode;try{ky(s,i)}catch(c){ft(n,n.return,c)}}}function Ub(n,s,i){i.props=kr(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(c){ft(n,s,c)}}function rl(n,s){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof i=="function"?n.refCleanup=i(c):i.current=c}}catch(f){ft(n,s,f)}}function Ia(n,s){var i=n.ref,c=n.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){ft(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ft(n,s,f)}else i.current=null}function Bb(n){var s=n.type,i=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){ft(n,n.return,f)}}function Ph(n,s,i){try{var c=n.stateNode;ak(c,n.type,i,s),c[En]=s}catch(f){ft(n,n.return,f)}}function Vb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hs(n.type)||n.tag===4}function Lh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zh(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(n),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Ja));else if(c!==4&&(c===27&&Hs(n.type)&&(i=n.stateNode,s=null),n=n.child,n!==null))for(zh(n,s,i),n=n.sibling;n!==null;)zh(n,s,i),n=n.sibling}function eu(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(c!==4&&(c===27&&Hs(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(eu(n,s,i),n=n.sibling;n!==null;)eu(n,s,i),n=n.sibling}function Fb(n){var s=n.stateNode,i=n.memoizedProps;try{for(var c=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);fn(s,c,i),s[ln]=n,s[En]=i}catch(m){ft(n,n.return,m)}}var is=!1,Jt=!1,Ih=!1,qb=typeof WeakSet=="function"?WeakSet:Set,an=null;function L2(n,s){if(n=n.containerInfo,rm=wu,n=ty(n),Af(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,N=-1,R=-1,V=0,K=0,ee=n,q=null;t:for(;;){for(var $;ee!==i||f!==0&&ee.nodeType!==3||(N=b+f),ee!==m||c!==0&&ee.nodeType!==3||(R=b+c),ee.nodeType===3&&(b+=ee.nodeValue.length),($=ee.firstChild)!==null;)q=ee,ee=$;for(;;){if(ee===n)break t;if(q===i&&++V===f&&(N=b),q===m&&++K===c&&(R=b),($=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=$}i=N===-1||R===-1?null:{start:N,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(im={focusedElem:n,selectionRange:i},wu=!1,an=s;an!==null;)if(s=an,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,an=n;else for(;an!==null;){switch(s=an,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(i=0;i<n.length;i++)f=n[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,i=s,f=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var ve=kr(i.type,f);n=c.getSnapshotBeforeUpdate(ve,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(ke){ft(i,i.return,ke)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,i=n.nodeType,i===9)cm(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,an=n;break}an=s.return}}function Hb(n,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ls(n,i),c&4&&sl(5,i);break;case 1:if(ls(n,i),c&4)if(n=i.stateNode,s===null)try{n.componentDidMount()}catch(b){ft(i,i.return,b)}else{var f=kr(i.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(i,i.return,b)}}c&64&&Ib(i),c&512&&rl(i,i.return);break;case 3:if(ls(n,i),c&64&&(n=i.updateQueue,n!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{ky(n,s)}catch(b){ft(i,i.return,b)}}break;case 27:s===null&&c&4&&Fb(i);case 26:case 5:ls(n,i),s===null&&c&4&&Bb(i),c&512&&rl(i,i.return);break;case 12:ls(n,i);break;case 31:ls(n,i),c&4&&Gb(n,i);break;case 13:ls(n,i),c&4&&Yb(n,i),c&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=$2.bind(null,i),dk(n,i))));break;case 22:if(c=i.memoizedState!==null||is,!c){s=s!==null&&s.memoizedState!==null||Jt,f=is;var m=Jt;is=c,(Jt=s)&&!m?cs(n,i,(i.subtreeFlags&8772)!==0):ls(n,i),is=f,Jt=m}break;case 30:break;default:ls(n,i)}}function $b(n){var s=n.alternate;s!==null&&(n.alternate=null,$b(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&mf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,An=!1;function os(n,s,i){for(i=i.child;i!==null;)Qb(n,s,i),i=i.sibling}function Qb(n,s,i){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Eo,i)}catch{}switch(i.tag){case 26:Jt||Ia(i,s),os(n,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Jt||Ia(i,s);var c=Nt,f=An;Hs(i.type)&&(Nt=i.stateNode,An=!1),os(n,s,i),ml(i.stateNode),Nt=c,An=f;break;case 5:Jt||Ia(i,s);case 6:if(c=Nt,f=An,Nt=null,os(n,s,i),Nt=c,An=f,Nt!==null)if(An)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(i.stateNode)}catch(m){ft(i,s,m)}else try{Nt.removeChild(i.stateNode)}catch(m){ft(i,s,m)}break;case 18:Nt!==null&&(An?(n=Nt,Ix(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),Yi(n)):Ix(Nt,i.stateNode));break;case 4:c=Nt,f=An,Nt=i.stateNode.containerInfo,An=!0,os(n,s,i),Nt=c,An=f;break;case 0:case 11:case 14:case 15:zs(2,i,s),Jt||zs(4,i,s),os(n,s,i);break;case 1:Jt||(Ia(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Ub(i,s,c)),os(n,s,i);break;case 21:os(n,s,i);break;case 22:Jt=(c=Jt)||i.memoizedState!==null,os(n,s,i),Jt=c;break;default:os(n,s,i)}}function Gb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Yi(n)}catch(i){ft(s,s.return,i)}}}function Yb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yi(n)}catch(i){ft(s,s.return,i)}}function z2(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new qb),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new qb),s;default:throw Error(r(435,n.tag))}}function tu(n,s){var i=z2(n);s.forEach(function(c){if(!i.has(c)){i.add(c);var f=Q2.bind(null,n,c);c.then(f,f)}})}function On(n,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],m=n,b=s,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(Hs(N.type)){Nt=N.stateNode,An=!1;break e}break;case 5:Nt=N.stateNode,An=!1;break e;case 3:case 4:Nt=N.stateNode.containerInfo,An=!0;break e}N=N.return}if(Nt===null)throw Error(r(160));Qb(m,b,f),Nt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Zb(s,n),s=s.sibling}var _a=null;function Zb(n,s){var i=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(s,n),Dn(n),c&4&&(zs(3,n,n.return),sl(3,n),zs(5,n,n.return));break;case 1:On(s,n),Dn(n),c&512&&(Jt||i===null||Ia(i,i.return)),c&64&&is&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=_a;if(On(s,n),Dn(n),c&512&&(Jt||i===null||Ia(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=n.memoizedState,i===null)if(c===null)if(n.stateNode===null){e:{c=n.type,i=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Oo]||m[ln]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),fn(m,c,i),m[ln]=n,nn(m),c=m;break e;case"link":var b=Zx("link","href",f).get(c+(i.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(N,1);break t}}m=f.createElement(c),fn(m,c,i),f.head.appendChild(m);break;case"meta":if(b=Zx("meta","content",f).get(c+(i.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(N,1);break t}}m=f.createElement(c),fn(m,c,i),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[ln]=n,nn(m),c=m}n.stateNode=c}else Jx(f,n.type,n.stateNode);else n.stateNode=Yx(f,c,n.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?Jx(f,n.type,n.stateNode):Yx(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Ph(n,n.memoizedProps,i.memoizedProps)}break;case 27:On(s,n),Dn(n),c&512&&(Jt||i===null||Ia(i,i.return)),i!==null&&c&4&&Ph(n,n.memoizedProps,i.memoizedProps);break;case 5:if(On(s,n),Dn(n),c&512&&(Jt||i===null||Ia(i,i.return)),n.flags&32){f=n.stateNode;try{vi(f,"")}catch(ve){ft(n,n.return,ve)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,Ph(n,f,i!==null?i.memoizedProps:f)),c&1024&&(Ih=!0);break;case 6:if(On(s,n),Dn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,i=n.stateNode;try{i.nodeValue=c}catch(ve){ft(n,n.return,ve)}}break;case 3:if(vu=null,f=_a,_a=pu(s.containerInfo),On(s,n),_a=f,Dn(n),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Yi(s.containerInfo)}catch(ve){ft(n,n.return,ve)}Ih&&(Ih=!1,Jb(n));break;case 4:c=_a,_a=pu(n.stateNode.containerInfo),On(s,n),Dn(n),_a=c;break;case 12:On(s,n),Dn(n);break;case 31:On(s,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tu(n,c)));break;case 13:On(s,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(au=Rt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tu(n,c)));break;case 22:f=n.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,V=is,K=Jt;if(is=V||f,Jt=K||R,On(s,n),Jt=K,is=V,Dn(n),c&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(i===null||R||is||Jt||Er(n)),i=null,s=n;;){if(s.tag===5||s.tag===26){if(i===null){R=i=s;try{if(m=R.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=R.stateNode;var ee=R.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;N.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ve){ft(R,R.return,ve)}}}else if(s.tag===6){if(i===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(ve){ft(R,R.return,ve)}}}else if(s.tag===18){if(i===null){R=s;try{var $=R.stateNode;f?Ux($,!0):Ux(R.stateNode,!1)}catch(ve){ft(R,R.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,tu(n,i))));break;case 19:On(s,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tu(n,c)));break;case 30:break;case 21:break;default:On(s,n),Dn(n)}}function Dn(n){var s=n.flags;if(s&2){try{for(var i,c=n.return;c!==null;){if(Vb(c)){i=c;break}c=c.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var f=i.stateNode,m=Lh(n);eu(n,m,f);break;case 5:var b=i.stateNode;i.flags&32&&(vi(b,""),i.flags&=-33);var N=Lh(n);eu(n,N,b);break;case 3:case 4:var R=i.stateNode.containerInfo,V=Lh(n);zh(n,V,R);break;default:throw Error(r(161))}}catch(K){ft(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Jb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Jb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ls(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Hb(n,s.alternate,s),s=s.sibling}function Er(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),Er(s);break;case 1:Ia(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Ub(s,s.return,i),Er(s);break;case 27:ml(s.stateNode);case 26:case 5:Ia(s,s.return),Er(s);break;case 22:s.memoizedState===null&&Er(s);break;case 30:Er(s);break;default:Er(s)}n=n.sibling}}function cs(n,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=n,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:cs(f,m,i),sl(4,m);break;case 1:if(cs(f,m,i),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(V){ft(c,c.return,V)}if(c=m,f=c.updateQueue,f!==null){var N=c.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Cy(R[f],N)}catch(V){ft(c,c.return,V)}}i&&b&64&&Ib(m),rl(m,m.return);break;case 27:Fb(m);case 26:case 5:cs(f,m,i),i&&c===null&&b&4&&Bb(m),rl(m,m.return);break;case 12:cs(f,m,i);break;case 31:cs(f,m,i),i&&b&4&&Gb(f,m);break;case 13:cs(f,m,i),i&&b&4&&Yb(f,m);break;case 22:m.memoizedState===null&&cs(f,m,i),rl(m,m.return);break;case 30:break;default:cs(f,m,i)}s=s.sibling}}function Uh(n,s){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&$o(i))}function Bh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$o(n))}function ja(n,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kb(n,s,i,c),s=s.sibling}function Kb(n,s,i,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ja(n,s,i,c),f&2048&&sl(9,s);break;case 1:ja(n,s,i,c);break;case 3:ja(n,s,i,c),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$o(n)));break;case 12:if(f&2048){ja(n,s,i,c),n=s.stateNode;try{var m=s.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){ft(s,s.return,R)}}else ja(n,s,i,c);break;case 31:ja(n,s,i,c);break;case 13:ja(n,s,i,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?ja(n,s,i,c):il(n,s):m._visibility&2?ja(n,s,i,c):(m._visibility|=2,zi(n,s,i,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Uh(b,s);break;case 24:ja(n,s,i,c),f&2048&&Bh(s.alternate,s);break;default:ja(n,s,i,c)}}function zi(n,s,i,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,b=s,N=i,R=c,V=b.flags;switch(b.tag){case 0:case 11:case 15:zi(m,b,N,R,f),sl(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?zi(m,b,N,R,f):il(m,b):(K._visibility|=2,zi(m,b,N,R,f)),f&&V&2048&&Uh(b.alternate,b);break;case 24:zi(m,b,N,R,f),f&&V&2048&&Bh(b.alternate,b);break;default:zi(m,b,N,R,f)}s=s.sibling}}function il(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=n,c=s,f=c.flags;switch(c.tag){case 22:il(i,c),f&2048&&Uh(c.alternate,c);break;case 24:il(i,c),f&2048&&Bh(c.alternate,c);break;default:il(i,c)}s=s.sibling}}var ol=8192;function Ii(n,s,i){if(n.subtreeFlags&ol)for(n=n.child;n!==null;)Xb(n,s,i),n=n.sibling}function Xb(n,s,i){switch(n.tag){case 26:Ii(n,s,i),n.flags&ol&&n.memoizedState!==null&&_k(i,_a,n.memoizedState,n.memoizedProps);break;case 5:Ii(n,s,i);break;case 3:case 4:var c=_a;_a=pu(n.stateNode.containerInfo),Ii(n,s,i),_a=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=ol,ol=16777216,Ii(n,s,i),ol=c):Ii(n,s,i));break;default:Ii(n,s,i)}}function Wb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ll(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];an=c,tx(c,n)}Wb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ex(n),n=n.sibling}function ex(n){switch(n.tag){case 0:case 11:case 15:ll(n),n.flags&2048&&zs(9,n,n.return);break;case 3:ll(n);break;case 12:ll(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,nu(n)):ll(n);break;default:ll(n)}}function nu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];an=c,tx(c,n)}Wb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),nu(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,nu(s));break;default:nu(s)}n=n.sibling}}function tx(n,s){for(;an!==null;){var i=an;switch(i.tag){case 0:case 11:case 15:zs(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$o(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,an=c;else e:for(i=n;an!==null;){c=an;var f=c.sibling,m=c.return;if($b(c),c===i){an=null;break e}if(f!==null){f.return=m,an=f;break e}an=m}}}var I2={getCacheForType:function(n){var s=un(Gt),i=s.data.get(n);return i===void 0&&(i=n(),s.data.set(n,i)),i},cacheSignal:function(){return un(Gt).controller.signal}},U2=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,Qe=null,Ye=0,dt=0,Hn=null,Is=!1,Ui=!1,Vh=!1,us=0,Lt=0,Us=0,Mr=0,Fh=0,$n=0,Bi=0,cl=null,Rn=null,qh=!1,au=0,nx=0,su=1/0,ru=null,Bs=null,Wt=0,Vs=null,Vi=null,ds=0,Hh=0,$h=null,ax=null,ul=0,Qh=null;function Qn(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:I.T!==null?Xh():bv()}function sx(){if($n===0)if((Ye&536870912)===0||Je){var n=hc;hc<<=1,(hc&3932160)===0&&(hc=262144),$n=n}else $n=536870912;return n=Fn.current,n!==null&&(n.flags|=32),$n}function Pn(n,s,i){(n===bt&&(dt===2||dt===9)||n.cancelPendingCommit!==null)&&(Fi(n,0),Fs(n,Ye,$n,!1)),Ao(n,i),((ot&2)===0||n!==bt)&&(n===bt&&((ot&2)===0&&(Mr|=i),Lt===4&&Fs(n,Ye,$n,!1)),Ua(n))}function rx(n,s,i){if((ot&6)!==0)throw Error(r(327));var c=!i&&(s&127)===0&&(s&n.expiredLanes)===0||Mo(n,s),f=c?F2(n,s):Yh(n,s,!0),m=c;do{if(f===0){Ui&&!c&&Fs(n,s,0,!1);break}else{if(i=n.current.alternate,m&&!B2(i)){f=Yh(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var N=n;f=cl;var R=N.current.memoizedState.isDehydrated;if(R&&(Fi(N,b).flags|=256),b=Yh(N,b,!1),b!==2){if(Vh&&!R){N.errorRecoveryDisabledLanes|=m,Mr|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Fi(n,0),Fs(n,s,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(c,s,$n,!Is);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=au+300-Rt(),10<f)){if(Fs(c,s,$n,!Is),pc(c,0,!0)!==0)break e;ds=s,c.timeoutHandle=Lx(ix.bind(null,c,i,Rn,ru,qh,s,$n,Mr,Bi,Is,m,"Throttled",-0,0),f);break e}ix(c,i,Rn,ru,qh,s,$n,Mr,Bi,Is,m,null,-0,0)}}break}while(!0);Ua(n)}function ix(n,s,i,c,f,m,b,N,R,V,K,ee,q,$){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ja},Xb(s,m,ee);var ve=(m&62914560)===m?au-Rt():(m&4194048)===m?nx-Rt():0;if(ve=jk(ee,ve),ve!==null){ds=m,n.cancelPendingCommit=ve(mx.bind(null,n,s,m,i,c,f,b,N,R,K,ee,null,q,$)),Fs(n,m,b,!V);return}}mx(n,s,m,i,c,f,b,N,R)}function B2(n){for(var s=n;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],m=f.getSnapshot;f=f.value;try{if(!Bn(m(),f))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(n,s,i,c){s&=~Fh,s&=~Mr,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var f=s;0<f;){var m=31-Un(f),b=1<<m;c[m]=-1,f&=~b}i!==0&&gv(n,i,s)}function iu(){return(ot&6)===0?(dl(0),!1):!0}function Gh(){if(Qe!==null){if(dt===0)var n=Qe.return;else n=Qe,es=wr=null,ch(n),Oi=null,Go=0,n=Qe;for(;n!==null;)zb(n.alternate,n),n=n.return;Qe=null}}function Fi(n,s){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,ik(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),ds=0,Gh(),bt=n,Qe=i=Xa(n.current,null),Ye=s,dt=0,Hn=null,Is=!1,Ui=Mo(n,s),Vh=!1,Bi=$n=Fh=Mr=Us=Lt=0,Rn=cl=null,qh=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var f=31-Un(c),m=1<<f;s|=n[f],c&=~m}return us=s,Cc(),i}function ox(n,s){Ie=null,I.H=tl,s===Ai||s===Pc?(s=_y(),dt=3):s===Kf?(s=_y(),dt=4):dt=s===Nh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Qe===null&&(Lt=1,Zc(n,ia(s,n.current)))}function lx(){var n=Fn.current;return n===null?!0:(Ye&4194048)===Ye?ua===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?n===ua:!1}function cx(){var n=I.H;return I.H=tl,n===null?tl:n}function ux(){var n=I.A;return I.A=I2,n}function ou(){Lt=4,Is||(Ye&4194048)!==Ye&&Fn.current!==null||(Ui=!0),(Us&134217727)===0&&(Mr&134217727)===0||bt===null||Fs(bt,Ye,$n,!1)}function Yh(n,s,i){var c=ot;ot|=2;var f=cx(),m=ux();(bt!==n||Ye!==s)&&(ru=null,Fi(n,s)),s=!1;var b=Lt;e:do try{if(dt!==0&&Qe!==null){var N=Qe,R=Hn;switch(dt){case 8:Gh(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var V=dt;if(dt=0,Hn=null,qi(n,N,R,V),i&&Ui){b=0;break e}break;default:V=dt,dt=0,Hn=null,qi(n,N,R,V)}}V2(),b=Lt;break}catch(K){ox(n,K)}while(!0);return s&&n.shellSuspendCounter++,es=wr=null,ot=c,I.H=f,I.A=m,Qe===null&&(bt=null,Ye=0,Cc()),b}function V2(){for(;Qe!==null;)dx(Qe)}function F2(n,s){var i=ot;ot|=2;var c=cx(),f=ux();bt!==n||Ye!==s?(ru=null,su=Rt()+500,Fi(n,s)):Ui=Mo(n,s);e:do try{if(dt!==0&&Qe!==null){s=Qe;var m=Hn;t:switch(dt){case 1:dt=0,Hn=null,qi(n,s,m,1);break;case 2:case 9:if(wy(m)){dt=0,Hn=null,fx(s);break}s=function(){dt!==2&&dt!==9||bt!==n||(dt=7),Ua(n)},m.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:wy(m)?(dt=0,Hn=null,fx(s)):(dt=0,Hn=null,qi(n,s,m,7));break;case 5:var b=null;switch(Qe.tag){case 26:b=Qe.memoizedState;case 5:case 27:var N=Qe;if(b?Kx(b):N.stateNode.complete){dt=0,Hn=null;var R=N.sibling;if(R!==null)Qe=R;else{var V=N.return;V!==null?(Qe=V,lu(V)):Qe=null}break t}}dt=0,Hn=null,qi(n,s,m,5);break;case 6:dt=0,Hn=null,qi(n,s,m,6);break;case 8:Gh(),Lt=6;break e;default:throw Error(r(462))}}q2();break}catch(K){ox(n,K)}while(!0);return es=wr=null,I.H=c,I.A=f,ot=i,Qe!==null?0:(bt=null,Ye=0,Cc(),Lt)}function q2(){for(;Qe!==null&&!ht();)dx(Qe)}function dx(n){var s=Pb(n.alternate,n,us);n.memoizedProps=n.pendingProps,s===null?lu(n):Qe=s}function fx(n){var s=n,i=s.alternate;switch(s.tag){case 15:case 0:s=Eb(i,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=Eb(i,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:ch(s);default:zb(i,s),s=Qe=uy(s,us),s=Pb(i,s,us)}n.memoizedProps=n.pendingProps,s===null?lu(n):Qe=s}function qi(n,s,i,c){es=wr=null,ch(s),Oi=null,Go=0;var f=s.return;try{if(A2(n,f,s,i,Ye)){Lt=1,Zc(n,ia(i,n.current)),Qe=null;return}}catch(m){if(f!==null)throw Qe=f,m;Lt=1,Zc(n,ia(i,n.current)),Qe=null;return}s.flags&32768?(Je||c===1?n=!0:Ui||(Ye&536870912)!==0?n=!1:(Is=n=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),hx(s,n)):lu(s)}function lu(n){var s=n;do{if((s.flags&32768)!==0){hx(s,Is);return}n=s.return;var i=R2(s.alternate,s,us);if(i!==null){Qe=i;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=n}while(s!==null);Lt===0&&(Lt=5)}function hx(n,s){do{var i=P2(n.alternate,n);if(i!==null){i.flags&=32767,Qe=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=i}while(n!==null);Lt=6,Qe=null}function mx(n,s,i,c,f,m,b,N,R){n.cancelPendingCommit=null;do cu();while(Wt!==0);if((ot&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Lf,SC(n,i,m,b,N,R),n===bt&&(Qe=bt=null,Ye=0),Vi=s,Vs=n,ds=i,Hh=m,$h=f,ax=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,G2(dc,function(){return bx(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null,f=ne.p,ne.p=2,b=ot,ot|=4;try{L2(n,s,i)}finally{ot=b,ne.p=f,I.T=c}}Wt=1,px(),gx(),vx()}}function px(){if(Wt===1){Wt=0;var n=Vs,s=Vi,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var c=ne.p;ne.p=2;var f=ot;ot|=4;try{Zb(s,n);var m=im,b=ty(n.containerInfo),N=m.focusedElem,R=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&ey(N.ownerDocument.documentElement,N)){if(R!==null&&Af(N)){var V=R.start,K=R.end;if(K===void 0&&(K=V),"selectionStart"in N)N.selectionStart=V,N.selectionEnd=Math.min(K,N.value.length);else{var ee=N.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var $=q.getSelection(),ve=N.textContent.length,ke=Math.min(R.start,ve),gt=R.end===void 0?ke:Math.min(R.end,ve);!$.extend&&ke>gt&&(b=gt,gt=ke,ke=b);var z=Wv(N,ke),L=Wv(N,gt);if(z&&L&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var B=ee.createRange();B.setStart(z.node,z.offset),$.removeAllRanges(),ke>gt?($.addRange(B),$.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),$.addRange(B))}}}}for(ee=[],$=N;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ee.length;N++){var W=ee[N];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}wu=!!rm,im=rm=null}finally{ot=f,ne.p=c,I.T=i}}n.current=s,Wt=2}}function gx(){if(Wt===2){Wt=0;var n=Vs,s=Vi,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var c=ne.p;ne.p=2;var f=ot;ot|=4;try{Hb(n,s.alternate,s)}finally{ot=f,ne.p=c,I.T=i}}Wt=3}}function vx(){if(Wt===4||Wt===3){Wt=0,zn();var n=Vs,s=Vi,i=ds,c=ax;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Vi=Vs=null,yx(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Bs=null),ff(i),s=s.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Eo,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=I.T,f=ne.p,ne.p=2,I.T=null;try{for(var m=n.onRecoverableError,b=0;b<c.length;b++){var N=c[b];m(N.value,{componentStack:N.stack})}}finally{I.T=s,ne.p=f}}(ds&3)!==0&&cu(),Ua(n),f=n.pendingLanes,(i&261930)!==0&&(f&42)!==0?n===Qh?ul++:(ul=0,Qh=n):ul=0,dl(0)}}function yx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,$o(s)))}function cu(){return px(),gx(),vx(),bx()}function bx(){if(Wt!==5)return!1;var n=Vs,s=Hh;Hh=0;var i=ff(ds),c=I.T,f=ne.p;try{ne.p=32>i?32:i,I.T=null,i=$h,$h=null;var m=Vs,b=ds;if(Wt=0,Vi=Vs=null,ds=0,(ot&6)!==0)throw Error(r(331));var N=ot;if(ot|=4,ex(m.current),Kb(m,m.current,b,i),ot=N,dl(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Eo,m)}catch{}return!0}finally{ne.p=f,I.T=c,yx(n,s)}}function xx(n,s,i){s=ia(i,s),s=jh(n.stateNode,s,2),n=Rs(n,s,2),n!==null&&(Ao(n,2),Ua(n))}function ft(n,s,i){if(n.tag===3)xx(n,n,i);else for(;s!==null;){if(s.tag===3){xx(s,n,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){n=ia(i,n),i=wb(2),c=Rs(s,i,2),c!==null&&(Sb(i,c,s,n),Ao(c,2),Ua(c));break}}s=s.return}}function Zh(n,s,i){var c=n.pingCache;if(c===null){c=n.pingCache=new U2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(Vh=!0,f.add(i),n=H2.bind(null,n,s,i),s.then(n,n))}function H2(n,s,i){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,bt===n&&(Ye&i)===i&&(Lt===4||Lt===3&&(Ye&62914560)===Ye&&300>Rt()-au?(ot&2)===0&&Fi(n,0):Fh|=i,Bi===Ye&&(Bi=0)),Ua(n)}function wx(n,s){s===0&&(s=pv()),n=yr(n,s),n!==null&&(Ao(n,s),Ua(n))}function $2(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),wx(n,i)}function Q2(n,s){var i=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),wx(n,i)}function G2(n,s){return Le(n,s)}var uu=null,Hi=null,Jh=!1,du=!1,Kh=!1,qs=0;function Ua(n){n!==Hi&&n.next===null&&(Hi===null?uu=Hi=n:Hi=Hi.next=n),du=!0,Jh||(Jh=!0,Z2())}function dl(n,s){if(!Kh&&du){Kh=!0;do for(var i=!1,c=uu;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,N=c.pingedLanes;m=(1<<31-Un(42|n)+1)-1,m&=f&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Nx(c,m))}else m=Ye,m=pc(c,c===bt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Mo(c,m)||(i=!0,Nx(c,m));c=c.next}while(i);Kh=!1}}function Y2(){Sx()}function Sx(){du=Jh=!1;var n=0;qs!==0&&rk()&&(n=qs);for(var s=Rt(),i=null,c=uu;c!==null;){var f=c.next,m=_x(c,s);m===0?(c.next=null,i===null?uu=f:i.next=f,f===null&&(Hi=i)):(i=c,(n!==0||(m&3)!==0)&&(du=!0)),c=f}Wt!==0&&Wt!==5||dl(n),qs!==0&&(qs=0)}function _x(n,s){for(var i=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Un(m),N=1<<b,R=f[b];R===-1?((N&i)===0||(N&c)!==0)&&(f[b]=wC(N,s)):R<=s&&(n.expiredLanes|=N),m&=~N}if(s=bt,i=Ye,i=pc(n,n===s?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,i===0||n===s&&(dt===2||dt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&yt(c),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||Mo(n,i)){if(s=i&-i,s===n.callbackPriority)return s;switch(c!==null&&yt(c),ff(i)){case 2:case 8:i=hv;break;case 32:i=dc;break;case 268435456:i=mv;break;default:i=dc}return c=jx.bind(null,n),i=Le(i,c),n.callbackPriority=s,n.callbackNode=i,s}return c!==null&&c!==null&&yt(c),n.callbackPriority=2,n.callbackNode=null,2}function jx(n,s){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(cu()&&n.callbackNode!==i)return null;var c=Ye;return c=pc(n,n===bt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(rx(n,c,s),_x(n,Rt()),n.callbackNode!=null&&n.callbackNode===i?jx.bind(null,n):null)}function Nx(n,s){if(cu())return null;rx(n,s,!0)}function Z2(){ok(function(){(ot&6)!==0?Le(uc,Y2):Sx()})}function Xh(){if(qs===0){var n=Ei;n===0&&(n=fc,fc<<=1,(fc&261888)===0&&(fc=256)),qs=n}return qs}function Tx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bc(""+n)}function Cx(n,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,n.id&&i.setAttribute("form",n.id),s.parentNode.insertBefore(i,s),n=new FormData(n),i.parentNode.removeChild(i),n}function J2(n,s,i,c,f){if(s==="submit"&&i&&i.stateNode===f){var m=Tx((f[En]||null).action),b=c.submitter;b&&(s=(s=b[En]||null)?Tx(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var N=new _c("action","action",null,c,f);n.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qs!==0){var R=b?Cx(f,b):new FormData(f);yh(i,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(N.preventDefault(),R=b?Cx(f,b):new FormData(f),yh(i,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var Wh=0;Wh<Pf.length;Wh++){var em=Pf[Wh],K2=em.toLowerCase(),X2=em[0].toUpperCase()+em.slice(1);Sa(K2,"on"+X2)}Sa(sy,"onAnimationEnd"),Sa(ry,"onAnimationIteration"),Sa(iy,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(m2,"onTransitionRun"),Sa(p2,"onTransitionStart"),Sa(g2,"onTransitionCancel"),Sa(oy,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function kx(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var c=n[i],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var N=c[b],R=N.instance,V=N.currentTarget;if(N=N.listener,R!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=V;try{m(f)}catch(K){Tc(K)}f.currentTarget=null,m=R}else for(b=0;b<c.length;b++){if(N=c[b],R=N.instance,V=N.currentTarget,N=N.listener,R!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=V;try{m(f)}catch(K){Tc(K)}f.currentTarget=null,m=R}}}}function Ge(n,s){var i=s[hf];i===void 0&&(i=s[hf]=new Set);var c=n+"__bubble";i.has(c)||(Ex(s,n,2,!1),i.add(c))}function tm(n,s,i){var c=0;s&&(c|=4),Ex(i,n,c,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function nm(n){if(!n[fu]){n[fu]=!0,Sv.forEach(function(i){i!=="selectionchange"&&(W2.has(i)||tm(i,!1,n),tm(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[fu]||(s[fu]=!0,tm("selectionchange",!1,s))}}function Ex(n,s,i,c){switch(s0(s)){case 2:var f=Ck;break;case 8:f=kk;break;default:f=vm}i=f.bind(null,s,i,n),f=void 0,!Sf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,i,{capture:!0,passive:f}):n.addEventListener(s,i,!0):f!==void 0?n.addEventListener(s,i,{passive:f}):n.addEventListener(s,i,!1)}function am(n,s,i,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var N=c.stateNode.containerInfo;if(N===f)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;N!==null;){if(b=fi(N),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){c=m=b;continue e}N=N.parentNode}}c=c.return}Rv(function(){var V=m,K=xf(i),ee=[];e:{var q=ly.get(n);if(q!==void 0){var $=_c,ve=n;switch(n){case"keypress":if(wc(i)===0)break e;case"keydown":case"keyup":$=QC;break;case"focusin":ve="focus",$=Tf;break;case"focusout":ve="blur",$=Tf;break;case"beforeblur":case"afterblur":$=Tf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=RC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ZC;break;case sy:case ry:case iy:$=zC;break;case oy:$=KC;break;case"scroll":case"scrollend":$=OC;break;case"wheel":$=WC;break;case"copy":case"cut":case"paste":$=UC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Uv;break;case"toggle":case"beforetoggle":$=t2}var ke=(s&4)!==0,gt=!ke&&(n==="scroll"||n==="scrollend"),z=ke?q!==null?q+"Capture":null:q;ke=[];for(var L=V,B;L!==null;){var W=L;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||z===null||(W=Ro(L,z),W!=null&&ke.push(hl(L,W,B))),gt)break;L=L.return}0<ke.length&&(q=new $(q,ve,null,i,K),ee.push({event:q,listeners:ke}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",q&&i!==bf&&(ve=i.relatedTarget||i.fromElement)&&(fi(ve)||ve[di]))break e;if(($||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,$?(ve=i.relatedTarget||i.toElement,$=V,ve=ve?fi(ve):null,ve!==null&&(gt=u(ve),ke=ve.tag,ve!==gt||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):($=null,ve=V),$!==ve)){if(ke=zv,W="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ke=Uv,W="onPointerLeave",z="onPointerEnter",L="pointer"),gt=$==null?q:Do($),B=ve==null?q:Do(ve),q=new ke(W,L+"leave",$,i,K),q.target=gt,q.relatedTarget=B,W=null,fi(K)===V&&(ke=new ke(z,L+"enter",ve,i,K),ke.target=B,ke.relatedTarget=gt,W=ke),gt=W,$&&ve)t:{for(ke=ek,z=$,L=ve,B=0,W=z;W;W=ke(W))B++;W=0;for(var Te=L;Te;Te=ke(Te))W++;for(;0<B-W;)z=ke(z),B--;for(;0<W-B;)L=ke(L),W--;for(;B--;){if(z===L||L!==null&&z===L.alternate){ke=z;break t}z=ke(z),L=ke(L)}ke=null}else ke=null;$!==null&&Mx(ee,q,$,ke,!1),ve!==null&&gt!==null&&Mx(ee,gt,ve,ke,!0)}}e:{if(q=V?Do(V):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var rt=Gv;else if($v(q))if(Yv)rt=d2;else{rt=c2;var xe=l2}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&yf(V.elementType)&&(rt=Gv):rt=u2;if(rt&&(rt=rt(n,V))){Qv(ee,rt,i,K);break e}xe&&xe(n,q,V),n==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&vf(q,"number",q.value)}switch(xe=V?Do(V):window,n){case"focusin":($v(xe)||xe.contentEditable==="true")&&(wi=xe,Of=V,Fo=null);break;case"focusout":Fo=Of=wi=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,ny(ee,i,K);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":ny(ee,i,K)}var Ve;if(kf)e:{switch(n){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else xi?qv(n,i)&&(Ze="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Ze="onCompositionStart");Ze&&(Bv&&i.locale!=="ko"&&(xi||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&xi&&(Ve=Pv()):(Cs=K,_f="value"in Cs?Cs.value:Cs.textContent,xi=!0)),xe=hu(V,Ze),0<xe.length&&(Ze=new Iv(Ze,n,null,i,K),ee.push({event:Ze,listeners:xe}),Ve?Ze.data=Ve:(Ve=Hv(i),Ve!==null&&(Ze.data=Ve)))),(Ve=a2?s2(n,i):r2(n,i))&&(Ze=hu(V,"onBeforeInput"),0<Ze.length&&(xe=new Iv("onBeforeInput","beforeinput",null,i,K),ee.push({event:xe,listeners:Ze}),xe.data=Ve)),J2(ee,n,V,i,K)}kx(ee,s)})}function hl(n,s,i){return{instance:n,listener:s,currentTarget:i}}function hu(n,s){for(var i=s+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ro(n,i),f!=null&&c.unshift(hl(n,f,m)),f=Ro(n,s),f!=null&&c.push(hl(n,f,m))),n.tag===3)return c;n=n.return}return[]}function ek(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mx(n,s,i,c,f){for(var m=s._reactName,b=[];i!==null&&i!==c;){var N=i,R=N.alternate,V=N.stateNode;if(N=N.tag,R!==null&&R===c)break;N!==5&&N!==26&&N!==27||V===null||(R=V,f?(V=Ro(i,m),V!=null&&b.unshift(hl(i,V,R))):f||(V=Ro(i,m),V!=null&&b.push(hl(i,V,R)))),i=i.return}b.length!==0&&n.push({event:s,listeners:b})}var tk=/\r\n?/g,nk=/\u0000|\uFFFD/g;function Ax(n){return(typeof n=="string"?n:""+n).replace(tk,`
`).replace(nk,"")}function Ox(n,s){return s=Ax(s),Ax(n)===s}function pt(n,s,i,c,f,m){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||vi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&vi(n,""+c);break;case"className":vc(n,"class",c);break;case"tabIndex":vc(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":vc(n,i,c);break;case"style":Ov(n,c,m);break;case"data":if(s!=="object"){vc(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){n.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=bc(""+c),n.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(s!=="input"&&pt(n,s,"name",f.name,f,null),pt(n,s,"formEncType",f.formEncType,f,null),pt(n,s,"formMethod",f.formMethod,f,null),pt(n,s,"formTarget",f.formTarget,f,null)):(pt(n,s,"encType",f.encType,f,null),pt(n,s,"method",f.method,f,null),pt(n,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=bc(""+c),n.setAttribute(i,c);break;case"onClick":c!=null&&(n.onclick=Ja);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}i=bc(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""+c):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":c===!0?n.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,c):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(i,c):n.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(i):n.setAttribute(i,c);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),gc(n,"popover",c);break;case"xlinkActuate":Za(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Za(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Za(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Za(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Za(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Za(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Za(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Za(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Za(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=MC.get(i)||i,gc(n,i,c))}}function sm(n,s,i,c,f,m){switch(i){case"style":Ov(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"children":typeof c=="string"?vi(n,c):(typeof c=="number"||typeof c=="bigint")&&vi(n,""+c);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_v.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),s=i.slice(2,f?i.length-7:void 0),m=n[En]||null,m=m!=null?m[i]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(s,c,f);break e}i in n?n[i]=c:c===!0?n.setAttribute(i,""):gc(n,i,c)}}}function fn(n,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var c=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(n,s,m,b,i,null)}}f&&pt(n,s,"srcSet",i.srcSet,i,null),c&&pt(n,s,"src",i.src,i,null);return;case"input":Ge("invalid",n);var N=m=b=f=null,R=null,V=null;for(c in i)if(i.hasOwnProperty(c)){var K=i[c];if(K!=null)switch(c){case"name":f=K;break;case"type":b=K;break;case"checked":R=K;break;case"defaultChecked":V=K;break;case"value":m=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:pt(n,s,c,K,i,null)}}kv(n,m,N,R,V,b,f,!1);return;case"select":Ge("invalid",n),c=b=m=null;for(f in i)if(i.hasOwnProperty(f)&&(N=i[f],N!=null))switch(f){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":c=N;default:pt(n,s,f,N,i,null)}s=m,i=b,n.multiple=!!c,s!=null?gi(n,!!c,s,!1):i!=null&&gi(n,!!c,i,!0);return;case"textarea":Ge("invalid",n),m=f=c=null;for(b in i)if(i.hasOwnProperty(b)&&(N=i[b],N!=null))switch(b){case"value":c=N;break;case"defaultValue":f=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:pt(n,s,b,N,i,null)}Mv(n,c,f,m);return;case"option":for(R in i)i.hasOwnProperty(R)&&(c=i[R],c!=null)&&(R==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":pt(n,s,R,c,i,null));return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(c=0;c<fl.length;c++)Ge(fl[c],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in i)if(i.hasOwnProperty(V)&&(c=i[V],c!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(n,s,V,c,i,null)}return;default:if(yf(s)){for(K in i)i.hasOwnProperty(K)&&(c=i[K],c!==void 0&&sm(n,s,K,c,i,void 0));return}}for(N in i)i.hasOwnProperty(N)&&(c=i[N],c!=null&&pt(n,s,N,c,i,null))}function ak(n,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,N=null,R=null,V=null,K=null;for($ in i){var ee=i[$];if(i.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":R=ee;default:c.hasOwnProperty($)||pt(n,s,$,null,c,ee)}}for(var q in c){var $=c[q];if(ee=i[q],c.hasOwnProperty(q)&&($!=null||ee!=null))switch(q){case"type":m=$;break;case"name":f=$;break;case"checked":V=$;break;case"defaultChecked":K=$;break;case"value":b=$;break;case"defaultValue":N=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==ee&&pt(n,s,q,$,c,ee)}}gf(n,b,N,R,V,K,m,f);return;case"select":$=b=N=q=null;for(m in i)if(R=i[m],i.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":$=R;default:c.hasOwnProperty(m)||pt(n,s,m,null,c,R)}for(f in c)if(m=c[f],R=i[f],c.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":q=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==R&&pt(n,s,f,m,c,R)}s=N,i=b,c=$,q!=null?gi(n,!!i,q,!1):!!c!=!!i&&(s!=null?gi(n,!!i,s,!0):gi(n,!!i,i?[]:"",!1));return;case"textarea":$=q=null;for(N in i)if(f=i[N],i.hasOwnProperty(N)&&f!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:pt(n,s,N,null,c,f)}for(b in c)if(f=c[b],m=i[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&pt(n,s,b,f,c,m)}Ev(n,q,$);return;case"option":for(var ve in i)q=i[ve],i.hasOwnProperty(ve)&&q!=null&&!c.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:pt(n,s,ve,null,c,q));for(R in c)q=c[R],$=i[R],c.hasOwnProperty(R)&&q!==$&&(q!=null||$!=null)&&(R==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":pt(n,s,R,q,c,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in i)q=i[ke],i.hasOwnProperty(ke)&&q!=null&&!c.hasOwnProperty(ke)&&pt(n,s,ke,null,c,q);for(V in c)if(q=c[V],$=i[V],c.hasOwnProperty(V)&&q!==$&&(q!=null||$!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:pt(n,s,V,q,c,$)}return;default:if(yf(s)){for(var gt in i)q=i[gt],i.hasOwnProperty(gt)&&q!==void 0&&!c.hasOwnProperty(gt)&&sm(n,s,gt,void 0,c,q);for(K in c)q=c[K],$=i[K],!c.hasOwnProperty(K)||q===$||q===void 0&&$===void 0||sm(n,s,K,q,c,$);return}}for(var z in i)q=i[z],i.hasOwnProperty(z)&&q!=null&&!c.hasOwnProperty(z)&&pt(n,s,z,null,c,q);for(ee in c)q=c[ee],$=i[ee],!c.hasOwnProperty(ee)||q===$||q==null&&$==null||pt(n,s,ee,q,c,$)}function Dx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],m=f.transferSize,b=f.initiatorType,N=f.duration;if(m&&N&&Dx(b)){for(b=0,N=f.responseEnd,c+=1;c<i.length;c++){var R=i[c],V=R.startTime;if(V>N)break;var K=R.transferSize,ee=R.initiatorType;K&&Dx(ee)&&(R=R.responseEnd,b+=K*(R<N?1:(N-V)/(R-V)))}if(--c,s+=8*(m+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var rm=null,im=null;function mu(n){return n.nodeType===9?n:n.ownerDocument}function Rx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Px(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function om(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lm=null;function rk(){var n=window.event;return n&&n.type==="popstate"?n===lm?!1:(lm=n,!0):(lm=null,!1)}var Lx=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(n){return zx.resolve(null).then(n).catch(lk)}:Lx;function lk(n){setTimeout(function(){throw n})}function Hs(n){return n==="head"}function Ix(n,s){var i=s,c=0;do{var f=i.nextSibling;if(n.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){n.removeChild(f),Yi(s);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")ml(n.ownerDocument.documentElement);else if(i==="head"){i=n.ownerDocument.head,ml(i);for(var m=i.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Oo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&ml(n.ownerDocument.body);i=f}while(i);Yi(s)}function Ux(n,s){var i=n;n=0;do{var c=i.nextSibling;if(i.nodeType===1?s?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(s?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(n===0)break;n--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||n++;i=c}while(i)}function cm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":cm(i),mf(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function ck(n,s,i,c){for(;n.nodeType===1;){var f=i;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Oo])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=da(n.nextSibling),n===null)break}return null}function uk(n,s,i){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=da(n.nextSibling),n===null))return null;return n}function Bx(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=da(n.nextSibling),n===null))return null;return n}function um(n){return n.data==="$?"||n.data==="$~"}function dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function dk(n,s){var i=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||i.readyState!=="loading")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function da(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var fm=null;function Vx(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"||i==="/&"){if(s===0)return da(n.nextSibling);s--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||s++}n=n.nextSibling}return null}function Fx(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(s===0)return n;s--}else i!=="/$"&&i!=="/&"||s++}n=n.previousSibling}return null}function qx(n,s,i){switch(s=mu(i),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ml(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);mf(n)}var fa=new Map,Hx=new Set;function pu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fs=ne.d;ne.d={f:fk,r:hk,D:mk,C:pk,L:gk,m:vk,X:bk,S:yk,M:xk};function fk(){var n=fs.f(),s=iu();return n||s}function hk(n){var s=hi(n);s!==null&&s.tag===5&&s.type==="form"?ob(s):fs.r(n)}var $i=typeof document>"u"?null:document;function $x(n,s,i){var c=$i;if(c&&typeof s=="string"&&s){var f=sa(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Hx.has(f)||(Hx.add(f),n={rel:n,crossOrigin:i,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),fn(s,"link",n),nn(s),c.head.appendChild(s)))}}function mk(n){fs.D(n),$x("dns-prefetch",n,null)}function pk(n,s){fs.C(n,s),$x("preconnect",n,s)}function gk(n,s,i){fs.L(n,s,i);var c=$i;if(c&&n&&s){var f='link[rel="preload"][as="'+sa(s)+'"]';s==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+sa(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+sa(i.imageSizes)+'"]')):f+='[href="'+sa(n)+'"]';var m=f;switch(s){case"style":m=Qi(n);break;case"script":m=Gi(n)}fa.has(m)||(n=_({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:n,as:s},i),fa.set(m,n),c.querySelector(f)!==null||s==="style"&&c.querySelector(pl(m))||s==="script"&&c.querySelector(gl(m))||(s=c.createElement("link"),fn(s,"link",n),nn(s),c.head.appendChild(s)))}}function vk(n,s){fs.m(n,s);var i=$i;if(i&&n){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+sa(c)+'"][href="'+sa(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Gi(n)}if(!fa.has(m)&&(n=_({rel:"modulepreload",href:n},s),fa.set(m,n),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(gl(m)))return}c=i.createElement("link"),fn(c,"link",n),nn(c),i.head.appendChild(c)}}}function yk(n,s,i){fs.S(n,s,i);var c=$i;if(c&&n){var f=mi(c).hoistableStyles,m=Qi(n);s=s||"default";var b=f.get(m);if(!b){var N={loading:0,preload:null};if(b=c.querySelector(pl(m)))N.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},i),(i=fa.get(m))&&hm(n,i);var R=b=c.createElement("link");nn(R),fn(R,"link",n),R._p=new Promise(function(V,K){R.onload=V,R.onerror=K}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,gu(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:N},f.set(m,b)}}}function bk(n,s){fs.X(n,s);var i=$i;if(i&&n){var c=mi(i).hoistableScripts,f=Gi(n),m=c.get(f);m||(m=i.querySelector(gl(f)),m||(n=_({src:n,async:!0},s),(s=fa.get(f))&&mm(n,s),m=i.createElement("script"),nn(m),fn(m,"link",n),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function xk(n,s){fs.M(n,s);var i=$i;if(i&&n){var c=mi(i).hoistableScripts,f=Gi(n),m=c.get(f);m||(m=i.querySelector(gl(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=fa.get(f))&&mm(n,s),m=i.createElement("script"),nn(m),fn(m,"link",n),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Qx(n,s,i,c){var f=(f=O.current)?pu(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Qi(i.href),i=mi(f).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=Qi(i.href);var m=mi(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(pl(n)))&&!m._p&&(b.instance=m,b.state.loading=5),fa.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},fa.set(n,i),m||wk(f,n,i,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Gi(i),i=mi(f).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Qi(n){return'href="'+sa(n)+'"'}function pl(n){return'link[rel="stylesheet"]['+n+"]"}function Gx(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function wk(n,s,i,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),fn(s,"link",i),nn(s),n.head.appendChild(s))}function Gi(n){return'[src="'+sa(n)+'"]'}function gl(n){return"script[async]"+n}function Yx(n,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+sa(i.href)+'"]');if(c)return s.instance=c,nn(c),c;var f=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),nn(c),fn(c,"style",f),gu(c,i.precedence,n),s.instance=c;case"stylesheet":f=Qi(i.href);var m=n.querySelector(pl(f));if(m)return s.state.loading|=4,s.instance=m,nn(m),m;c=Gx(i),(f=fa.get(f))&&hm(c,f),m=(n.ownerDocument||n).createElement("link"),nn(m);var b=m;return b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),fn(m,"link",c),s.state.loading|=4,gu(m,i.precedence,n),s.instance=m;case"script":return m=Gi(i.src),(f=n.querySelector(gl(m)))?(s.instance=f,nn(f),f):(c=i,(f=fa.get(m))&&(c=_({},i),mm(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),nn(f),fn(f,"link",c),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,gu(c,i.precedence,n));return s.instance}function gu(n,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var N=c[b];if(N.dataset.precedence===s)m=N;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(n,s.firstChild))}function hm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var vu=null;function Zx(n,s,i){if(vu===null){var c=new Map,f=vu=new Map;f.set(i,c)}else f=vu,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(n))return c;for(c.set(n,null),i=i.getElementsByTagName(n),f=0;f<i.length;f++){var m=i[f];if(!(m[Oo]||m[ln]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=n+b;var N=c.get(b);N?N.push(m):c.set(b,[m])}}return c}function Jx(n,s,i){n=n.ownerDocument||n,n.head.insertBefore(i,s==="title"?n.querySelector("head > title"):null)}function Sk(n,s,i){if(i===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function _k(n,s,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Qi(c.href),m=s.querySelector(pl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=yu.bind(n),s.then(n,n)),i.state.loading|=4,i.instance=m,nn(m);return}m=s.ownerDocument||s,c=Gx(c),(f=fa.get(f))&&hm(c,f),m=m.createElement("link"),nn(m);var b=m;b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),fn(m,"link",c),i.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(n.count++,i=yu.bind(n),s.addEventListener("load",i),s.addEventListener("error",i))}}var pm=0;function jk(n,s){return n.stylesheets&&n.count===0&&xu(n,n.stylesheets),0<n.count||0<n.imgCount?function(i){var c=setTimeout(function(){if(n.stylesheets&&xu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&pm===0&&(pm=62500*sk());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&xu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>pm?50:800)+s);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bu=null;function xu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bu=new Map,s.forEach(Nk,n),bu=null,yu.call(n))}function Nk(n,s){if(!(s.state.loading&4)){var i=bu.get(n);if(i)var c=i.get(null);else{i=new Map,bu.set(n,i);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),m=i.get(b)||c,m===c&&i.set(null,f),i.set(b,f),this.count++,c=yu.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var vl={$$typeof:P,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Tk(n,s,i,c,f,m,b,N,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.hiddenUpdates=uf(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Xx(n,s,i,c,f,m,b,N,R,V,K,ee){return n=new Tk(n,s,i,b,R,V,K,ee,N),s=1,m===!0&&(s|=24),m=Vn(3,null,null,s),n.current=m,m.stateNode=n,s=Yf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:s},Xf(m),n}function Wx(n){return n?(n=ji,n):ji}function e0(n,s,i,c,f,m){f=Wx(f),c.context===null?c.context=f:c.pendingContext=f,c=Ds(s),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=Rs(n,c,s),i!==null&&(Pn(i,n,s),Zo(i,n,s))}function t0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function gm(n,s){t0(n,s),(n=n.alternate)&&t0(n,s)}function n0(n){if(n.tag===13||n.tag===31){var s=yr(n,67108864);s!==null&&Pn(s,n,67108864),gm(n,67108864)}}function a0(n){if(n.tag===13||n.tag===31){var s=Qn();s=df(s);var i=yr(n,s);i!==null&&Pn(i,n,s),gm(n,s)}}var wu=!0;function Ck(n,s,i,c){var f=I.T;I.T=null;var m=ne.p;try{ne.p=2,vm(n,s,i,c)}finally{ne.p=m,I.T=f}}function kk(n,s,i,c){var f=I.T;I.T=null;var m=ne.p;try{ne.p=8,vm(n,s,i,c)}finally{ne.p=m,I.T=f}}function vm(n,s,i,c){if(wu){var f=ym(c);if(f===null)am(n,s,c,Su,i),r0(n,c);else if(Mk(f,n,s,i,c))c.stopPropagation();else if(r0(n,c),s&4&&-1<Ek.indexOf(n)){for(;f!==null;){var m=hi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=hr(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var R=1<<31-Un(b);N.entanglements[1]|=R,b&=~R}Ua(m),(ot&6)===0&&(su=Rt()+500,dl(0))}}break;case 31:case 13:N=yr(m,2),N!==null&&Pn(N,m,2),iu(),gm(m,2)}if(m=ym(c),m===null&&am(n,s,c,Su,i),m===f)break;f=m}f!==null&&c.stopPropagation()}else am(n,s,c,null,i)}}function ym(n){return n=xf(n),bm(n)}var Su=null;function bm(n){if(Su=null,n=fi(n),n!==null){var s=u(n);if(s===null)n=null;else{var i=s.tag;if(i===13){if(n=d(s),n!==null)return n;n=null}else if(i===31){if(n=h(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Su=n,null}function s0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case uc:return 2;case hv:return 8;case dc:case pC:return 32;case mv:return 268435456;default:return 32}default:return 32}}var xm=!1,$s=null,Qs=null,Gs=null,yl=new Map,bl=new Map,Ys=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(n,s){switch(n){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(s.pointerId)}}function xl(n,s,i,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=hi(s),s!==null&&n0(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Mk(n,s,i,c,f){switch(s){case"focusin":return $s=xl($s,n,s,i,c,f),!0;case"dragenter":return Qs=xl(Qs,n,s,i,c,f),!0;case"mouseover":return Gs=xl(Gs,n,s,i,c,f),!0;case"pointerover":var m=f.pointerId;return yl.set(m,xl(yl.get(m)||null,n,s,i,c,f)),!0;case"gotpointercapture":return m=f.pointerId,bl.set(m,xl(bl.get(m)||null,n,s,i,c,f)),!0}return!1}function i0(n){var s=fi(n.target);if(s!==null){var i=u(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){n.blockedOn=s,xv(n.priority,function(){a0(i)});return}}else if(s===31){if(s=h(i),s!==null){n.blockedOn=s,xv(n.priority,function(){a0(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _u(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=ym(n.nativeEvent);if(i===null){i=n.nativeEvent;var c=new i.constructor(i.type,i);bf=c,i.target.dispatchEvent(c),bf=null}else return s=hi(i),s!==null&&n0(s),n.blockedOn=i,!1;s.shift()}return!0}function o0(n,s,i){_u(n)&&i.delete(s)}function Ak(){xm=!1,$s!==null&&_u($s)&&($s=null),Qs!==null&&_u(Qs)&&(Qs=null),Gs!==null&&_u(Gs)&&(Gs=null),yl.forEach(o0),bl.forEach(o0)}function ju(n,s){n.blockedOn===s&&(n.blockedOn=null,xm||(xm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ak)))}var Nu=null;function l0(n){Nu!==n&&(Nu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nu===n&&(Nu=null);for(var s=0;s<n.length;s+=3){var i=n[s],c=n[s+1],f=n[s+2];if(typeof c!="function"){if(bm(c||i)===null)continue;break}var m=hi(i);m!==null&&(n.splice(s,3),s-=3,yh(m,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function Yi(n){function s(R){return ju(R,n)}$s!==null&&ju($s,n),Qs!==null&&ju(Qs,n),Gs!==null&&ju(Gs,n),yl.forEach(s),bl.forEach(s);for(var i=0;i<Ys.length;i++){var c=Ys[i];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ys.length&&(i=Ys[0],i.blockedOn===null);)i0(i),i.blockedOn===null&&Ys.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],m=i[c+1],b=f[En]||null;if(typeof m=="function")b||l0(i);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[En]||null)N=b.formAction;else if(bm(f)!==null)continue}else N=b.action;typeof N=="function"?i[c+1]=N:(i.splice(c,3),c-=3),l0(i)}}}function c0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function wm(n){this._internalRoot=n}Tu.prototype.render=wm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var i=s.current,c=Qn();e0(i,c,n,s,null,null)},Tu.prototype.unmount=wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;e0(n.current,2,null,n,null,null),iu(),s[di]=null}};function Tu(n){this._internalRoot=n}Tu.prototype.unstable_scheduleHydration=function(n){if(n){var s=bv();n={blockedOn:null,target:n,priority:s};for(var i=0;i<Ys.length&&s!==0&&s<Ys[i].priority;i++);Ys.splice(i,0,n),i===0&&i0(n)}};var u0=e.version;if(u0!=="19.2.3")throw Error(r(527,u0,"19.2.3"));ne.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=v(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var Ok={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Eo=Cu.inject(Ok),In=Cu}catch{}}return wl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var i=!1,c="",f=vb,m=yb,b=bb;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Xx(n,1,!1,null,null,i,c,null,f,m,b,c0),n[di]=s.current,nm(n),new wm(s)},wl.hydrateRoot=function(n,s,i){if(!o(n))throw Error(r(299));var c=!1,f="",m=vb,b=yb,N=bb,R=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),s=Xx(n,1,!0,s,i??null,c,f,R,m,b,N,c0),s.context=Wx(null),i=s.current,c=Qn(),c=df(c),f=Ds(c),f.callback=null,Rs(i,f,c),i=c,s.current.lanes=i,Ao(s,i),Ua(s),n[di]=s.current,nm(n),new Tu(s)},wl.version="19.2.3",wl}var m0;function Kk(){if(m0)return Sm.exports;m0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sm.exports=Jk(),Sm.exports}var Xk=Kk();function Wk(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var a,r,o,u,d=[],h="",p=t.split("/");for(p[0]||p.shift();o=p.shift();)a=o[0],a==="*"?(d.push(a),h+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):a===":"?(r=o.indexOf("?",1),u=o.indexOf(".",1),d.push(o.substring(1,~r?r:~u?u:o.length)),h+=~r&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(h+=(~r?"?":"")+"\\"+o.substring(u))):h+="/"+o;return{keys:d,pattern:new RegExp("^"+h+(e?"(?=$|/)":"/?$"),"i")}}var Nm={exports:{}},Tm={};var p0;function eE(){if(p0)return Tm;p0=1;var t=D_();function e(_,T){return _===T&&(_!==0||1/_===1/T)||_!==_&&T!==T}var a=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,u=t.useLayoutEffect,d=t.useDebugValue;function h(_,T){var A=T(),M=r({inst:{value:A,getSnapshot:T}}),j=M[0].inst,C=M[1];return u(function(){j.value=A,j.getSnapshot=T,p(j)&&C({inst:j})},[_,A,T]),o(function(){return p(j)&&C({inst:j}),_(function(){p(j)&&C({inst:j})})},[_]),d(A),A}function p(_){var T=_.getSnapshot;_=_.value;try{var A=T();return!a(_,A)}catch{return!0}}function v(_,T){return T()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:h;return Tm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Tm}var g0;function tE(){return g0||(g0=1,Nm.exports=eE()),Nm.exports}var R_=tE();const nE=l_.useInsertionEffect,aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sE=aE?x.useLayoutEffect:x.useEffect,rE=nE||sE,P_=t=>{const e=x.useRef([t,(...a)=>e[0](...a)]).current;return rE(()=>{e[0]=t}),e[1]},iE="popstate",dg="pushState",fg="replaceState",oE="hashchange",v0=[iE,dg,fg,oE],lE=t=>{for(const e of v0)addEventListener(e,t);return()=>{for(const e of v0)removeEventListener(e,t)}},L_=(t,e)=>R_.useSyncExternalStore(lE,t,e),y0=()=>location.search,cE=({ssrSearch:t}={})=>L_(y0,t!=null?()=>t:y0),b0=()=>location.pathname,uE=({ssrPath:t}={})=>L_(b0,t!=null?()=>t:b0),dE=(t,{replace:e=!1,state:a=null}={})=>history[e?fg:dg](a,"",t),fE=(t={})=>[uE(t),dE],x0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[x0]>"u"){for(const t of[dg,fg]){const e=history[t];history[t]=function(){const a=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),a}}Object.defineProperty(window,x0,{value:!0})}const hE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",z_=(t="")=>t==="/"?"":t,mE=(t,e)=>t[0]==="~"?t.slice(1):z_(e)+t,pE=(t="",e)=>hE(w0(z_(t)),w0(e)),w0=t=>{try{return decodeURI(t)}catch{return t}},I_={hook:fE,searchHook:cE,parser:Wk,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,e,a)=>t(e,a)},U_=x.createContext(I_),_o=()=>x.useContext(U_),B_={},V_=x.createContext(B_),gE=()=>x.useContext(V_),Md=t=>{const[e,a]=t.hook(t);return[pE(t.base,e),P_((r,o)=>t.aroundNav(a,mE(r,t.base),o))]},ec=()=>Md(_o()),hg=(t,e,a,r)=>{const{pattern:o,keys:u}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),d=o.exec(a)||[],[h,...p]=d;return h!==void 0?[!0,(()=>{const v=u!==!1?Object.fromEntries(u.map((_,T)=>[_,p[T]])):d.groups;let y={...p};return v&&Object.assign(y,v),y})(),...r?[h]:[]]:[!1,null]},Ad=t=>hg(_o().parser,t,ec()[0]),vE=({children:t,...e})=>{const a=_o(),r=e.hook?I_:a;let o=r;const[u,d=e.ssrSearch??""]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=d,e.ssrPath=u),e.hrefs=e.hrefs??e.hook?.hrefs,e.searchHook=e.searchHook??e.hook?.searchHook;let h=x.useRef({}),p=h.current,v=p;for(let y in r){const _=y==="base"?r[y]+(e[y]??""):e[y]??r[y];p===v&&_!==v[y]&&(h.current=v={...v}),v[y]=_,(_!==r[y]||_!==o[y])&&(o=v)}return x.createElement(U_.Provider,{value:o,children:t})},S0=({children:t,component:e},a)=>e?x.createElement(e,{params:a}):typeof t=="function"?t(a):t,yE=t=>{let e=x.useRef(B_);const a=e.current;return e.current=Object.keys(t).length!==Object.keys(a).length||Object.entries(t).some(([r,o])=>o!==a[r])?t:a},Js=({path:t,nest:e,match:a,...r})=>{const o=_o(),[u]=Md(o),[d,h,p]=a??hg(o.parser,t,u,e),v=yE({...gE(),...h});if(!d)return null;const y=p?x.createElement(vE,{base:p},S0(r,v)):S0(r,v);return x.createElement(V_.Provider,{value:v,children:y})},Pl=x.forwardRef((t,e)=>{const a=_o(),[r,o]=Md(a),{to:u="",href:d=u,onClick:h,asChild:p,children:v,className:y,replace:_,state:T,transition:A,...M}=t,j=P_(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(h?.(k),k.defaultPrevented||(k.preventDefault(),o(d,t)))}),C=a.hrefs(d[0]==="~"?d.slice(1):a.base+d,a);return p&&x.isValidElement(v)?x.cloneElement(v,{onClick:j,href:C}):x.createElement("a",{...M,onClick:j,href:C,className:y?.call?y(r===d):y,children:v,ref:e})}),F_=t=>Array.isArray(t)?t.flatMap(e=>F_(e&&e.type===x.Fragment?e.props.children:e)):[t],bE=({children:t,location:e})=>{const a=_o(),[r]=Md(a);for(const o of F_(t)){let u=0;if(x.isValidElement(o)&&(u=hg(a.parser,o.props.path,e||r,o.props.nest))[0])return x.cloneElement(o,{match:u})}return null};var jo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},wE=class{#e=xE;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Ir=new wE;function SE(t){setTimeout(t,0)}var Qr=typeof window>"u"||"Deno"in globalThis;function Sn(){}function _E(t,e){return typeof t=="function"?t(e):t}function np(t){return typeof t=="number"&&t>=0&&t!==1/0}function q_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nr(t,e){return typeof t=="function"?t(e):t}function ha(t,e){return typeof t=="function"?t(e):t}function _0(t,e){const{type:a="all",exact:r,fetchStatus:o,predicate:u,queryKey:d,stale:h}=t;if(d){if(r){if(e.queryHash!==mg(d,e.options))return!1}else if(!Ll(e.queryKey,d))return!1}if(a!=="all"){const p=e.isActive();if(a==="active"&&!p||a==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||o&&o!==e.state.fetchStatus||u&&!u(e))}function j0(t,e){const{exact:a,status:r,predicate:o,mutationKey:u}=t;if(u){if(!e.options.mutationKey)return!1;if(a){if(Gr(e.options.mutationKey)!==Gr(u))return!1}else if(!Ll(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function mg(t,e){return(e?.queryKeyHashFn||Gr)(t)}function Gr(t){return JSON.stringify(t,(e,a)=>ap(a)?Object.keys(a).sort().reduce((r,o)=>(r[o]=a[o],r),{}):a)}function Ll(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>Ll(t[a],e[a])):!1}var jE=Object.prototype.hasOwnProperty;function H_(t,e){if(t===e)return t;const a=N0(t)&&N0(e);if(!a&&!(ap(t)&&ap(e)))return e;const o=(a?t:Object.keys(t)).length,u=a?e:Object.keys(e),d=u.length,h=a?new Array(d):{};let p=0;for(let v=0;v<d;v++){const y=a?v:u[v],_=t[y],T=e[y];if(_===T){h[y]=_,(a?v<o:jE.call(t,y))&&p++;continue}if(_===null||T===null||typeof _!="object"||typeof T!="object"){h[y]=T;continue}const A=H_(_,T);h[y]=A,A===_&&p++}return o===d&&p===o?t:h}function td(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}function N0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ap(t){if(!T0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!T0(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function T0(t){return Object.prototype.toString.call(t)==="[object Object]"}function NE(t){return new Promise(e=>{Ir.setTimeout(e,t)})}function sp(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?H_(t,e):e}function TE(t,e,a=0){const r=[...t,e];return a&&r.length>a?r.slice(1):r}function CE(t,e,a=0){const r=[e,...t];return a&&r.length>a?r.slice(0,-1):r}var pg=Symbol();function $_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Q_(t,e){return typeof t=="function"?t(...e):!!t}var kE=class extends jo{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Qr&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},gg=new kE;function rp(){let t,e;const a=new Promise((o,u)=>{t=o,e=u});a.status="pending",a.catch(()=>{});function r(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},a.reject=o=>{r({status:"rejected",reason:o}),e(o)},a}var EE=SE;function ME(){let t=[],e=0,a=h=>{h()},r=h=>{h()},o=EE;const u=h=>{e?t.push(h):o(()=>{a(h)})},d=()=>{const h=t;t=[],h.length&&o(()=>{r(()=>{h.forEach(p=>{a(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{a=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var tn=ME(),AE=class extends jo{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Qr&&window.addEventListener){const e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},nd=new AE;function OE(t){return Math.min(1e3*2**t,3e4)}function G_(t){return(t??"online")==="online"?nd.isOnline():!0}var ip=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Y_(t){let e=!1,a=0,r;const o=rp(),u=()=>o.status!=="pending",d=j=>{if(!u()){const C=new ip(j);T(C),t.onCancel?.(C)}},h=()=>{e=!0},p=()=>{e=!1},v=()=>gg.isFocused()&&(t.networkMode==="always"||nd.isOnline())&&t.canRun(),y=()=>G_(t.networkMode)&&t.canRun(),_=j=>{u()||(r?.(),o.resolve(j))},T=j=>{u()||(r?.(),o.reject(j))},A=()=>new Promise(j=>{r=C=>{(u()||v())&&j(C)},t.onPause?.()}).then(()=>{r=void 0,u()||t.onContinue?.()}),M=()=>{if(u())return;let j;const C=a===0?t.initialPromise:void 0;try{j=C??t.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(_).catch(k=>{if(u())return;const D=t.retry??(Qr?0:3),P=t.retryDelay??OE,Q=typeof P=="function"?P(a,k):P,F=D===!0||typeof D=="number"&&a<D||typeof D=="function"&&D(a,k);if(e||!F){T(k);return}a++,t.onFail?.(a,k),NE(Q).then(()=>v()?void 0:A()).then(()=>{e?T(k):M()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(r?.(),o),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?M():A().then(M),o)}}var Z_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),np(this.gcTime)&&(this.#e=Ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ir.clearTimeout(this.#e),this.#e=void 0)}},DE=class extends Z_{#e;#t;#n;#s;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=k0(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=k0(this.options);e.data!==void 0&&(this.setState(C0(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const a=sp(this.state.data,t,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),a}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ha(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>nr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!q_(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},o=()=>{const h=$_(this.options,e),v=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,v,this):h(v)},d=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return r(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=Y_({initialPromise:e?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof ip&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(h,p)=>{this.#r({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof ip){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(t){const e=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...J_(a.data,this.options),fetchMeta:t.meta??null};case"success":const r={...a,...C0(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const o=t.error;return{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=e(this.state),tn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function J_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C0(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function k0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var RE=class extends jo{constructor(t,e){super(),this.options=e,this.#e=t,this.#r=null,this.#o=rp(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#i;#o;#r;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),E0(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return op(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return op(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ha(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!td(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&M0(this.#t,a,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==a||ha(this.options.enabled,this.#t)!==ha(e.enabled,this.#t)||nr(this.options.staleTime,this.#t)!==nr(e.staleTime,this.#t))&&this.#g();const o=this.#v();r&&(this.#t!==a||ha(this.options.enabled,this.#t)!==ha(e.enabled,this.#t)||o!==this.#l)&&this.#y(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(e,t);return LE(this,a)&&(this.#s=a,this.#i=this.options,this.#a=this.#t.state),a}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,e);return a.fetch().then(()=>this.createResult(a,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Sn)),e}#g(){this.#x();const t=nr(this.options.staleTime,this.#t);if(Qr||this.#s.isStale||!np(t))return;const a=q_(this.#s.dataUpdatedAt,t)+1;this.#c=Ir.setTimeout(()=>{this.#s.isStale||this.updateResult()},a)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Qr||ha(this.options.enabled,this.#t)===!1||!np(this.#l)||this.#l===0)&&(this.#u=Ir.setInterval(()=>{(this.options.refetchIntervalInBackground||gg.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(Ir.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Ir.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const a=this.#t,r=this.options,o=this.#s,u=this.#a,d=this.#i,p=t!==a?t.state:this.#n,{state:v}=t;let y={...v},_=!1,T;if(e._optimisticResults){const J=this.hasListeners(),ce=!J&&E0(t,e),pe=J&&M0(t,a,e,r);(ce||pe)&&(y={...y,...J_(v.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:A,errorUpdatedAt:M,status:j}=y;T=y.data;let C=!1;if(e.placeholderData!==void 0&&T===void 0&&j==="pending"){let J;o?.isPlaceholderData&&e.placeholderData===d?.placeholderData?(J=o.data,C=!0):J=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,J!==void 0&&(j="success",T=sp(o?.data,J,e),_=!0)}if(e.select&&T!==void 0&&!C)if(o&&T===u?.data&&e.select===this.#p)T=this.#f;else try{this.#p=e.select,T=e.select(T),T=sp(o?.data,T,e),this.#f=T,this.#r=null}catch(J){this.#r=J}this.#r&&(A=this.#r,T=this.#f,M=Date.now(),j="error");const k=y.fetchStatus==="fetching",D=j==="pending",P=j==="error",Q=D&&k,F=T!==void 0,Y={status:j,fetchStatus:y.fetchStatus,isPending:D,isSuccess:j==="success",isError:P,isInitialLoading:Q,isLoading:Q,data:T,dataUpdatedAt:y.dataUpdatedAt,error:A,errorUpdatedAt:M,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:k,isRefetching:k&&!D,isLoadingError:P&&!F,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:P&&F,isStale:vg(t,e),refetch:this.refetch,promise:this.#o,isEnabled:ha(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const J=Ne=>{Y.status==="error"?Ne.reject(Y.error):Y.data!==void 0&&Ne.resolve(Y.data)},ce=()=>{const Ne=this.#o=Y.promise=rp();J(Ne)},pe=this.#o;switch(pe.status){case"pending":t.queryHash===a.queryHash&&J(pe);break;case"fulfilled":(Y.status==="error"||Y.data!==pe.value)&&ce();break;case"rejected":(Y.status!=="error"||Y.error!==pe.reason)&&ce();break}}return Y}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),td(e,t))return;this.#s=e;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(d=>{const h=d;return this.#s[h]!==t[h]&&u.has(h)})};this.#_({listeners:a()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(t){tn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function PE(t,e){return ha(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function E0(t,e){return PE(t,e)||t.state.data!==void 0&&op(t,e,e.refetchOnMount)}function op(t,e,a){if(ha(e.enabled,t)!==!1&&nr(e.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&vg(t,e)}return!1}function M0(t,e,a,r){return(t!==e||ha(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&vg(t,a)}function vg(t,e){return ha(e.enabled,t)!==!1&&t.isStaleByTime(nr(e.staleTime,t))}function LE(t,e){return!td(t.getCurrentResult(),e)}function A0(t){return{onFetch:(e,a)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const v=async()=>{let y=!1;const _=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},T=$_(e.options,e.fetchOptions),A=async(M,j,C)=>{if(y)return Promise.reject();if(j==null&&M.pages.length)return Promise.resolve(M);const D=(()=>{const H={client:e.client,queryKey:e.queryKey,pageParam:j,direction:C?"backward":"forward",meta:e.options.meta};return _(H),H})(),P=await T(D),{maxPages:Q}=e.options,F=C?CE:TE;return{pages:F(M.pages,P,Q),pageParams:F(M.pageParams,j,Q)}};if(o&&u.length){const M=o==="backward",j=M?zE:O0,C={pages:u,pageParams:d},k=j(r,C);h=await A(C,k,M)}else{const M=t??u.length;do{const j=p===0?d[0]??r.initialPageParam:O0(r,h);if(p>0&&j==null)break;h=await A(h,j),p++}while(p<M)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a):e.fetchFn=v}}}function O0(t,{pages:e,pageParams:a}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,a[r],a):void 0}function zE(t,{pages:e,pageParams:a}){return e.length>0?t.getPreviousPageParam?.(e[0],e,a[0],a):void 0}var IE=class extends Z_{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||K_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Y_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",o=!this.#s.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:o}),await this.#n.config.onMutate?.(t,this,a);const d=await this.options.onMutate?.(t,a);d!==this.state.context&&this.#a({type:"pending",context:d,variables:t,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,t,this.state.context,this,a),await this.options.onSuccess?.(u,t,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,t,this.state.context,a),this.#a({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,t,this.state.context,this,a),await this.options.onError?.(u,t,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,t,this.state.context,a),u}finally{this.#a({type:"error",error:u})}}finally{this.#n.runNext(this)}}#a(t){const e=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),tn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function K_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var UE=class extends jo{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,a){const r=new IE({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:a});return this.add(r),r}add(t){this.#e.add(t);const e=ku(t);if(typeof e=="string"){const a=this.#t.get(e);a?a.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ku(t);if(typeof e=="string"){const a=this.#t.get(e);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ku(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ku(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){tn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(a=>j0(e,a))}findAll(t={}){return this.getAll().filter(e=>j0(t,e))}notify(t){tn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return tn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Sn))))}};function ku(t){return t.options.scope?.id}var BE=class extends jo{#e;#t=void 0;#n;#s;constructor(e,a){super(),this.#e=e,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const a=this.options;this.options=this.#e.defaultMutationOptions(e),td(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&Gr(a.mutationKey)!==Gr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(e,a){return this.#s=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??K_();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){tn.batch(()=>{if(this.#s&&this.hasListeners()){const a=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,a,r,o),this.#s.onSettled?.(e.data,null,a,r,o)):e?.type==="error"&&(this.#s.onError?.(e.error,a,r,o),this.#s.onSettled?.(void 0,e.error,a,r,o))}this.listeners.forEach(a=>{a(this.#t)})})}},VE=class extends jo{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,a){const r=e.queryKey,o=e.queryHash??mg(r,e);let u=this.get(o);return u||(u=new DE({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(e),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(u)),u}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(a=>_0(e,a))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(a=>_0(t,a)):e}notify(t){tn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},FE=class{#e;#t;#n;#s;#a;#i;#o;#r;constructor(t={}){this.#e=t.queryCache||new VE,this.#t=t.mutationCache||new UE,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=gg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=nd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=this.#e.build(this,e),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(nr(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:a})=>{const r=a.data;return[e,r]})}setQueryData(t,e,a){const r=this.defaultQueryOptions({queryKey:t}),u=this.#e.get(r.queryHash)?.state.data,d=_E(e,u);if(d!==void 0)return this.#e.build(this,r).setData(d,{...a,manual:!0})}setQueriesData(t,e,a){return tn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,a)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;tn.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=this.#e;return tn.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},r=tn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(a)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t,e={}){return tn.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},r=tn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,a);return a.throwOnError||(u=u.catch(Sn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=this.#e.build(this,e);return a.isStaleByTime(nr(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=A0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=A0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Gr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],a={};return e.forEach(r=>{Ll(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,e){this.#a.set(Gr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],a={};return e.forEach(r=>{Ll(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pg&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},X_=x.createContext(void 0),Pa=t=>{const e=x.useContext(X_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qE=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(X_.Provider,{value:t,children:e})),W_=x.createContext(!1),HE=()=>x.useContext(W_);W_.Provider;function $E(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QE=x.createContext($E()),GE=()=>x.useContext(QE),YE=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ZE=t=>{x.useEffect(()=>{t.clearReset()},[t])},JE=({result:t,errorResetBoundary:e,throwOnError:a,query:r,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||Q_(a,[t.error,r])),KE=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>a(r(...o)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},XE=(t,e)=>t.isLoading&&t.isFetching&&!e,WE=(t,e)=>t?.suspense&&e.isPending,D0=(t,e,a)=>e.fetchOptimistic(t).catch(()=>{a.clearReset()});function eM(t,e,a){const r=HE(),o=GE(),u=Pa(),d=u.defaultQueryOptions(t);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=r?"isRestoring":"optimistic",KE(d),YE(d,o),ZE(o);const h=!u.getQueryCache().get(d.queryHash),[p]=x.useState(()=>new e(u,d)),v=p.getOptimisticResult(d),y=!r&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(_=>{const T=y?p.subscribe(tn.batchCalls(_)):Sn;return p.updateResult(),T},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),x.useEffect(()=>{p.setOptions(d)},[d,p]),WE(d,v))throw D0(d,p,o);if(JE({result:v,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw v.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,v),d.experimental_prefetchInRender&&!Qr&&XE(v,r)&&(h?D0(d,p,o):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Sn).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?v:p.trackResult(v)}function pn(t,e){return eM(t,RE)}function Xn(t,e){const a=Pa(),[r]=x.useState(()=>new BE(a,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const o=x.useSyncExternalStore(x.useCallback(d=>r.subscribe(tn.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=x.useCallback((d,h)=>{r.mutate(d,h).catch(Sn)},[r]);if(o.error&&Q_(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}async function e1(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function R0(t,e,a){const r=await fetch(e,{method:t,headers:a?{"Content-Type":"application/json"}:{},body:a?JSON.stringify(a):void 0,credentials:"include"});return await e1(r),r}const tM=({on401:t})=>async({queryKey:e})=>{const a=await fetch(e.join("/"),{credentials:"include"});return await e1(a),await a.json()},nM=new FE({defaultOptions:{queries:{queryFn:tM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),aM=1,sM=1e6;let Cm=0;function rM(){return Cm=(Cm+1)%Number.MAX_SAFE_INTEGER,Cm.toString()}const km=new Map,P0=t=>{if(km.has(t))return;const e=setTimeout(()=>{km.delete(t),Ml({type:"REMOVE_TOAST",toastId:t})},sM);km.set(t,e)},iM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=e;return a?P0(a):t.toasts.forEach(r=>{P0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)}}},Yu=[];let Zu={toasts:[]};function Ml(t){Zu=iM(Zu,t),Yu.forEach(e=>{e(Zu)})}function oM({...t}){const e=rM(),a=o=>Ml({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>Ml({type:"DISMISS_TOAST",toastId:e});return Ml({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:a}}function ba(){const[t,e]=x.useState(Zu);return x.useEffect(()=>(Yu.push(e),()=>{const a=Yu.indexOf(e);a>-1&&Yu.splice(a,1)}),[t]),{...t,toast:oM,dismiss:a=>Ml({type:"DISMISS_TOAST",toastId:a})}}var t1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lM="VisuallyHidden",Od=x.forwardRef((t,e)=>l.jsx(vt.span,{...t,ref:e,style:{...t1,...t.style}}));Od.displayName=lM;var cM=Od,yg="ToastProvider",[bg,uM,dM]=c_("Toast"),[n1]=So("Toast",[dM]),[fM,Dd]=n1(yg),a1=t=>{const{__scopeToast:e,label:a="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:u=50,children:d}=t,[h,p]=x.useState(null),[v,y]=x.useState(0),_=x.useRef(!1),T=x.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${yg}\`. Expected non-empty \`string\`.`),l.jsx(bg.Provider,{scope:e,children:l.jsx(fM,{scope:e,label:a,duration:r,swipeDirection:o,swipeThreshold:u,toastCount:v,viewport:h,onViewportChange:p,onToastAdd:x.useCallback(()=>y(A=>A+1),[]),onToastRemove:x.useCallback(()=>y(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:T,children:d})})};a1.displayName=yg;var s1="ToastViewport",hM=["F8"],lp="toast.viewportPause",cp="toast.viewportResume",r1=x.forwardRef((t,e)=>{const{__scopeToast:a,hotkey:r=hM,label:o="Notifications ({hotkey})",...u}=t,d=Dd(s1,a),h=uM(a),p=x.useRef(null),v=x.useRef(null),y=x.useRef(null),_=x.useRef(null),T=kt(e,_,d.onViewportChange),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=d.toastCount>0;x.useEffect(()=>{const C=k=>{r.length!==0&&r.every(P=>k[P]||k.code===P)&&_.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),x.useEffect(()=>{const C=p.current,k=_.current;if(M&&C&&k){const D=()=>{if(!d.isClosePausedRef.current){const H=new CustomEvent(lp);k.dispatchEvent(H),d.isClosePausedRef.current=!0}},P=()=>{if(d.isClosePausedRef.current){const H=new CustomEvent(cp);k.dispatchEvent(H),d.isClosePausedRef.current=!1}},Q=H=>{!C.contains(H.relatedTarget)&&P()},F=()=>{C.contains(document.activeElement)||P()};return C.addEventListener("focusin",D),C.addEventListener("focusout",Q),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",F),window.addEventListener("blur",D),window.addEventListener("focus",P),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",Q),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",F),window.removeEventListener("blur",D),window.removeEventListener("focus",P)}}},[M,d.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:C})=>{const D=h().map(P=>{const Q=P.ref.current,F=[Q,...TM(Q)];return C==="forwards"?F:F.reverse()});return(C==="forwards"?D.reverse():D).flat()},[h]);return x.useEffect(()=>{const C=_.current;if(C){const k=D=>{const P=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!P){const F=document.activeElement,H=D.shiftKey;if(D.target===C&&H){v.current?.focus();return}const ce=j({tabbingDirection:H?"backwards":"forwards"}),pe=ce.findIndex(Ne=>Ne===F);Em(ce.slice(pe+1))?D.preventDefault():H?v.current?.focus():y.current?.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[h,j]),l.jsxs(Rk,{ref:p,role:"region","aria-label":o.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:M?void 0:"none"},children:[M&&l.jsx(up,{ref:v,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});Em(C)}}),l.jsx(bg.Slot,{scope:a,children:l.jsx(vt.ol,{tabIndex:-1,...u,ref:T})}),M&&l.jsx(up,{ref:y,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});Em(C)}})]})});r1.displayName=s1;var i1="ToastFocusProxy",up=x.forwardRef((t,e)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...o}=t,u=Dd(i1,a);return l.jsx(Od,{tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:d=>{const h=d.relatedTarget;!u.viewport?.contains(h)&&r()}})});up.displayName=i1;var tc="Toast",mM="toast.swipeStart",pM="toast.swipeMove",gM="toast.swipeCancel",vM="toast.swipeEnd",o1=x.forwardRef((t,e)=>{const{forceMount:a,open:r,defaultOpen:o,onOpenChange:u,...d}=t,[h,p]=Rl({prop:r,defaultProp:o??!0,onChange:u,caller:tc});return l.jsx(li,{present:a||h,children:l.jsx(xM,{open:h,...d,ref:e,onClose:()=>p(!1),onPause:Zn(t.onPause),onResume:Zn(t.onResume),onSwipeStart:Ue(t.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,v=>{const{x:y,y:_}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,v=>{const{x:y,y:_}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),p(!1)})})})});o1.displayName=tc;var[yM,bM]=n1(tc,{onClose(){}}),xM=x.forwardRef((t,e)=>{const{__scopeToast:a,type:r="foreground",duration:o,open:u,onClose:d,onEscapeKeyDown:h,onPause:p,onResume:v,onSwipeStart:y,onSwipeMove:_,onSwipeCancel:T,onSwipeEnd:A,...M}=t,j=Dd(tc,a),[C,k]=x.useState(null),D=kt(e,ge=>k(ge)),P=x.useRef(null),Q=x.useRef(null),F=o||j.duration,H=x.useRef(0),Y=x.useRef(F),J=x.useRef(0),{onToastAdd:ce,onToastRemove:pe}=j,Ne=Zn(()=>{C?.contains(document.activeElement)&&j.viewport?.focus(),d()}),Pe=x.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(J.current),H.current=new Date().getTime(),J.current=window.setTimeout(Ne,ge))},[Ne]);x.useEffect(()=>{const ge=j.viewport;if(ge){const De=()=>{Pe(Y.current),v?.()},I=()=>{const ne=new Date().getTime()-H.current;Y.current=Y.current-ne,window.clearTimeout(J.current),p?.()};return ge.addEventListener(lp,I),ge.addEventListener(cp,De),()=>{ge.removeEventListener(lp,I),ge.removeEventListener(cp,De)}}},[j.viewport,F,p,v,Pe]),x.useEffect(()=>{u&&!j.isClosePausedRef.current&&Pe(F)},[u,F,j.isClosePausedRef,Pe]),x.useEffect(()=>(ce(),()=>pe()),[ce,pe]);const st=x.useMemo(()=>C?m1(C):null,[C]);return j.viewport?l.jsxs(l.Fragment,{children:[st&&l.jsx(wM,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:st}),l.jsx(yM,{scope:a,onClose:Ne,children:sg.createPortal(l.jsx(bg.ItemSlot,{scope:a,children:l.jsx(Pk,{asChild:!0,onEscapeKeyDown:Ue(h,()=>{j.isFocusedToastEscapeKeyDownRef.current||Ne(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(vt.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":j.swipeDirection,...M,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,ge=>{ge.key==="Escape"&&(h?.(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,Ne()))}),onPointerDown:Ue(t.onPointerDown,ge=>{ge.button===0&&(P.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Ue(t.onPointerMove,ge=>{if(!P.current)return;const De=ge.clientX-P.current.x,I=ge.clientY-P.current.y,ne=!!Q.current,X=["left","right"].includes(j.swipeDirection),Ee=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,Se=X?Ee(0,De):0,tt=X?0:Ee(0,I),le=ge.pointerType==="touch"?10:2,g={x:Se,y:tt},S={originalEvent:ge,delta:g};ne?(Q.current=g,Eu(pM,_,S,{discrete:!1})):L0(g,j.swipeDirection,le)?(Q.current=g,Eu(mM,y,S,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(De)>le||Math.abs(I)>le)&&(P.current=null)}),onPointerUp:Ue(t.onPointerUp,ge=>{const De=Q.current,I=ge.target;if(I.hasPointerCapture(ge.pointerId)&&I.releasePointerCapture(ge.pointerId),Q.current=null,P.current=null,De){const ne=ge.currentTarget,X={originalEvent:ge,delta:De};L0(De,j.swipeDirection,j.swipeThreshold)?Eu(vM,A,X,{discrete:!0}):Eu(gM,T,X,{discrete:!0}),ne.addEventListener("click",Ee=>Ee.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),wM=t=>{const{__scopeToast:e,children:a,...r}=t,o=Dd(tc,e),[u,d]=x.useState(!1),[h,p]=x.useState(!1);return jM(()=>d(!0)),x.useEffect(()=>{const v=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(v)},[]),h?null:l.jsx(rg,{asChild:!0,children:l.jsx(Od,{...r,children:u&&l.jsxs(l.Fragment,{children:[o.label," ",a]})})})},SM="ToastTitle",l1=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t;return l.jsx(vt.div,{...r,ref:e})});l1.displayName=SM;var _M="ToastDescription",c1=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t;return l.jsx(vt.div,{...r,ref:e})});c1.displayName=_M;var u1="ToastAction",d1=x.forwardRef((t,e)=>{const{altText:a,...r}=t;return a.trim()?l.jsx(h1,{altText:a,asChild:!0,children:l.jsx(xg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${u1}\`. Expected non-empty \`string\`.`),null)});d1.displayName=u1;var f1="ToastClose",xg=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t,o=bM(f1,a);return l.jsx(h1,{asChild:!0,children:l.jsx(vt.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,o.onClose)})})});xg.displayName=f1;var h1=x.forwardRef((t,e)=>{const{__scopeToast:a,altText:r,...o}=t;return l.jsx(vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:e})});function m1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),NM(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",u=r.dataset.radixToastAnnounceExclude==="";if(!o)if(u){const d=r.dataset.radixToastAnnounceAlt;d&&e.push(d)}else e.push(...m1(r))}}),e}function Eu(t,e,a,{discrete:r}){const o=a.originalEvent.currentTarget,u=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});e&&o.addEventListener(t,e,{once:!0}),r?Lk(o,u):o.dispatchEvent(u)}var L0=(t,e,a=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),u=r>o;return e==="left"||e==="right"?u&&r>a:!u&&o>a};function jM(t=()=>{}){const e=Zn(t);Kn(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[e])}function NM(t){return t.nodeType===t.ELEMENT_NODE}function TM(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function Em(t){const e=document.activeElement;return t.some(a=>a===e?!0:(a.focus(),document.activeElement!==e))}var CM=a1,p1=r1,g1=o1,v1=l1,y1=c1,b1=d1,x1=xg;function w1(t){var e,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(a=w1(t[e]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function S1(){for(var t,e,a=0,r="",o=arguments.length;a<o;a++)(t=arguments[a])&&(e=w1(t))&&(r&&(r+=" "),r+=e);return r}const z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,I0=S1,Rd=(t,e)=>a=>{var r;if(e?.variants==null)return I0(t,a?.class,a?.className);const{variants:o,defaultVariants:u}=e,d=Object.keys(o).map(v=>{const y=a?.[v],_=u?.[v];if(y===null)return null;const T=z0(y)||z0(_);return o[v][T]}),h=a&&Object.entries(a).reduce((v,y)=>{let[_,T]=y;return T===void 0||(v[_]=T),v},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((v,y)=>{let{class:_,className:T,...A}=y;return Object.entries(A).every(M=>{let[j,C]=M;return Array.isArray(C)?C.includes({...u,...h}[j]):{...u,...h}[j]===C})?[...v,_,T]:v},[]);return I0(t,d,p,a?.class,a?.className)};const kM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),U0=t=>{const e=EM(t);return e.charAt(0).toUpperCase()+e.slice(1)},_1=(...t)=>t.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim(),MM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var AM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OM=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...h},p)=>x.createElement("svg",{ref:p,...AM,width:e,height:e,stroke:t,strokeWidth:r?Number(a)*24/Number(e):a,className:_1("lucide",o),...!u&&!MM(h)&&{"aria-hidden":"true"},...h},[...d.map(([v,y])=>x.createElement(v,y)),...Array.isArray(u)?u:[u]]));const fe=(t,e)=>{const a=x.forwardRef(({className:r,...o},u)=>x.createElement(OM,{ref:u,iconNode:e,className:_1(`lucide-${kM(U0(t))}`,`lucide-${t}`,r),...o}));return a.displayName=U0(t),a};const DM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RM=fe("activity",DM);const PM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LM=fe("arrow-right",PM);const zM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],j1=fe("bell",zM);const IM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ju=fe("book-open",IM);const UM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Pd=fe("brain-circuit",UM);const BM=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],N1=fe("briefcase",BM);const VM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],FM=fe("calendar-check",VM);const qM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wg=fe("calendar",qM);const HM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ur=fe("check",HM);const $M=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T1=fe("chevron-down",$M);const QM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GM=fe("chevron-left",QM);const YM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sr=fe("chevron-right",YM);const ZM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JM=fe("chevron-up",ZM);const KM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sg=fe("circle-alert",KM);const XM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WM=fe("circle-check-big",XM);const eA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tA=fe("circle-question-mark",eA);const nA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],aA=fe("circle-stop",nA);const sA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nl=fe("circle",sA);const rA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_g=fe("clock",rA);const iA=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],oA=fe("cloud-off",iA);const lA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],dp=fe("cloud-upload",lA);const cA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],qa=fe("cloud",cA);const uA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dA=fe("database",uA);const fA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fp=fe("download",fA);const hA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],C1=fe("ellipsis-vertical",hA);const mA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ar=fe("external-link",mA);const pA=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],k1=fe("file-pen",pA);const gA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ga=fe("file-text",gA);const vA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],yA=fe("folder-open",vA);const bA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],E1=fe("funnel",bA);const xA=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Ld=fe("gavel",xA);const wA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],SA=fe("history",wA);const _A=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jA=fe("image",_A);const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TA=fe("info",NA);const CA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kA=fe("key",CA);const EA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MA=fe("layout-dashboard",EA);const AA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Mu=fe("lightbulb",AA);const OA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],DA=fe("link",OA);const RA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rn=fe("loader-circle",RA);const PA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LA=fe("log-out",PA);const zA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],IA=fe("maximize-2",zA);const UA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],BA=fe("menu",UA);const VA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Al=fe("message-circle",VA);const FA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hp=fe("message-square",FA);const qA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],M1=fe("mic-off",qA);const HA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Br=fe("mic",HA);const $A=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],A1=fe("minimize-2",$A);const QA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],GA=fe("monitor",QA);const YA=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],mp=fe("newspaper",YA);const ZA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],JA=fe("palette",ZA);const KA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],XA=fe("pause",KA);const WA=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],B0=fe("phone-off",WA);const eO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tO=fe("phone",eO);const nO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],aO=fe("play",nO);const sO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yr=fe("plus",sO);const rO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],iO=fe("refresh-cw",rO);const oO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lO=fe("rotate-ccw",oO);const cO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pp=fe("save",cO);const uO=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],O1=fe("scale",uO);const dO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zr=fe("search",dO);const fO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jg=fe("send",fO);const hO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mO=fe("settings",hO);const pO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gO=fe("shield",pO);const vO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nc=fe("trash-2",vO);const yO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bO=fe("trending-up",yO);const xO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V0=fe("triangle-alert",xO);const wO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ad=fe("users",wO);const SO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D1=fe("user",SO);const _O=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F0=fe("video-off",_O);const jO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Tl=fe("video",jO);const NO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],TO=fe("volume-2",NO);const CO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],kO=fe("volume-x",CO);const EO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lo=fe("x",EO),MO=(t,e)=>{const a=new Array(t.length+e.length);for(let r=0;r<t.length;r++)a[r]=t[r];for(let r=0;r<e.length;r++)a[t.length+r]=e[r];return a},AO=(t,e)=>({classGroupId:t,validator:e}),R1=(t=new Map,e=null,a)=>({nextPart:t,validators:e,classGroupId:a}),sd="-",q0=[],OO="arbitrary..",DO=t=>{const e=PO(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return RO(d);const h=d.split(sd),p=h[0]===""&&h.length>1?1:0;return P1(h,p,e)},getConflictingClassGroupIds:(d,h)=>{if(h){const p=r[d],v=a[d];return p?v?MO(v,p):p:v||q0}return a[d]||q0}}},P1=(t,e,a)=>{if(t.length-e===0)return a.classGroupId;const o=t[e],u=a.nextPart.get(o);if(u){const v=P1(t,e+1,u);if(v)return v}const d=a.validators;if(d===null)return;const h=e===0?t.join(sd):t.slice(e).join(sd),p=d.length;for(let v=0;v<p;v++){const y=d[v];if(y.validator(h))return y.classGroupId}},RO=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),a=e.indexOf(":"),r=e.slice(0,a);return r?OO+r:void 0})(),PO=t=>{const{theme:e,classGroups:a}=t;return LO(a,e)},LO=(t,e)=>{const a=R1();for(const r in t){const o=t[r];Ng(o,a,r,e)}return a},Ng=(t,e,a,r)=>{const o=t.length;for(let u=0;u<o;u++){const d=t[u];zO(d,e,a,r)}},zO=(t,e,a,r)=>{if(typeof t=="string"){IO(t,e,a);return}if(typeof t=="function"){UO(t,e,a,r);return}BO(t,e,a,r)},IO=(t,e,a)=>{const r=t===""?e:L1(e,t);r.classGroupId=a},UO=(t,e,a,r)=>{if(VO(t)){Ng(t(r),e,a,r);return}e.validators===null&&(e.validators=[]),e.validators.push(AO(a,t))},BO=(t,e,a,r)=>{const o=Object.entries(t),u=o.length;for(let d=0;d<u;d++){const[h,p]=o[d];Ng(p,L1(e,h),a,r)}},L1=(t,e)=>{let a=t;const r=e.split(sd),o=r.length;for(let u=0;u<o;u++){const d=r[u];let h=a.nextPart.get(d);h||(h=R1(),a.nextPart.set(d,h)),a=h}return a},VO=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,FO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,a=Object.create(null),r=Object.create(null);const o=(u,d)=>{a[u]=d,e++,e>t&&(e=0,r=a,a=Object.create(null))};return{get(u){let d=a[u];if(d!==void 0)return d;if((d=r[u])!==void 0)return o(u,d),d},set(u,d){u in a?a[u]=d:o(u,d)}}},gp="!",H0=":",qO=[],$0=(t,e,a,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:a,maybePostfixModifierPosition:r,isExternal:o}),HO=t=>{const{prefix:e,experimentalParseClassName:a}=t;let r=o=>{const u=[];let d=0,h=0,p=0,v;const y=o.length;for(let j=0;j<y;j++){const C=o[j];if(d===0&&h===0){if(C===H0){u.push(o.slice(p,j)),p=j+1;continue}if(C==="/"){v=j;continue}}C==="["?d++:C==="]"?d--:C==="("?h++:C===")"&&h--}const _=u.length===0?o:o.slice(p);let T=_,A=!1;_.endsWith(gp)?(T=_.slice(0,-1),A=!0):_.startsWith(gp)&&(T=_.slice(1),A=!0);const M=v&&v>p?v-p:void 0;return $0(u,A,T,M)};if(e){const o=e+H0,u=r;r=d=>d.startsWith(o)?u(d.slice(o.length)):$0(qO,!1,d,void 0,!0)}if(a){const o=r;r=u=>a({className:u,parseClassName:o})}return r},$O=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((a,r)=>{e.set(a,1e6+r)}),a=>{const r=[];let o=[];for(let u=0;u<a.length;u++){const d=a[u],h=d[0]==="[",p=e.has(d);h||p?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(d)):o.push(d)}return o.length>0&&(o.sort(),r.push(...o)),r}},QO=t=>({cache:FO(t.cacheSize),parseClassName:HO(t),sortModifiers:$O(t),...DO(t)}),GO=/\s+/,YO=(t,e)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:u}=e,d=[],h=t.trim().split(GO);let p="";for(let v=h.length-1;v>=0;v-=1){const y=h[v],{isExternal:_,modifiers:T,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:j}=a(y);if(_){p=y+(p.length>0?" "+p:p);continue}let C=!!j,k=r(C?M.substring(0,j):M);if(!k){if(!C){p=y+(p.length>0?" "+p:p);continue}if(k=r(M),!k){p=y+(p.length>0?" "+p:p);continue}C=!1}const D=T.length===0?"":T.length===1?T[0]:u(T).join(":"),P=A?D+gp:D,Q=P+k;if(d.indexOf(Q)>-1)continue;d.push(Q);const F=o(k,C);for(let H=0;H<F.length;++H){const Y=F[H];d.push(P+Y)}p=y+(p.length>0?" "+p:p)}return p},ZO=(...t)=>{let e=0,a,r,o="";for(;e<t.length;)(a=t[e++])&&(r=z1(a))&&(o&&(o+=" "),o+=r);return o},z1=t=>{if(typeof t=="string")return t;let e,a="";for(let r=0;r<t.length;r++)t[r]&&(e=z1(t[r]))&&(a&&(a+=" "),a+=e);return a},JO=(t,...e)=>{let a,r,o,u;const d=p=>{const v=e.reduce((y,_)=>_(y),t());return a=QO(v),r=a.cache.get,o=a.cache.set,u=h,h(p)},h=p=>{const v=r(p);if(v)return v;const y=YO(p,a);return o(p,y),y};return u=d,(...p)=>u(ZO(...p))},KO=[],en=t=>{const e=a=>a[t]||KO;return e.isThemeGetter=!0,e},I1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,U1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XO=/^\d+\/\d+$/,WO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,n4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=t=>XO.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),Ks=t=>!!t&&Number.isInteger(Number(t)),Mm=t=>t.endsWith("%")&&He(t.slice(0,-1)),hs=t=>WO.test(t),s4=()=>!0,r4=t=>e4.test(t)&&!t4.test(t),B1=()=>!1,i4=t=>n4.test(t),o4=t=>a4.test(t),l4=t=>!ye(t)&&!be(t),c4=t=>No(t,q1,B1),ye=t=>I1.test(t),Ar=t=>No(t,H1,r4),Am=t=>No(t,m4,He),Q0=t=>No(t,V1,B1),u4=t=>No(t,F1,o4),Au=t=>No(t,$1,i4),be=t=>U1.test(t),Sl=t=>To(t,H1),d4=t=>To(t,p4),G0=t=>To(t,V1),f4=t=>To(t,q1),h4=t=>To(t,F1),Ou=t=>To(t,$1,!0),No=(t,e,a)=>{const r=I1.exec(t);return r?r[1]?e(r[1]):a(r[2]):!1},To=(t,e,a=!1)=>{const r=U1.exec(t);return r?r[1]?e(r[1]):a:!1},V1=t=>t==="position"||t==="percentage",F1=t=>t==="image"||t==="url",q1=t=>t==="length"||t==="size"||t==="bg-size",H1=t=>t==="length",m4=t=>t==="number",p4=t=>t==="family-name",$1=t=>t==="shadow",g4=()=>{const t=en("color"),e=en("font"),a=en("text"),r=en("font-weight"),o=en("tracking"),u=en("leading"),d=en("breakpoint"),h=en("container"),p=en("spacing"),v=en("radius"),y=en("shadow"),_=en("inset-shadow"),T=en("text-shadow"),A=en("drop-shadow"),M=en("blur"),j=en("perspective"),C=en("aspect"),k=en("ease"),D=en("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...Q(),be,ye],H=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],J=()=>[be,ye,p],ce=()=>[Zi,"full","auto",...J()],pe=()=>[Ks,"none","subgrid",be,ye],Ne=()=>["auto",{span:["full",Ks,be,ye]},Ks,be,ye],Pe=()=>[Ks,"auto",be,ye],st=()=>["auto","min","max","fr",be,ye],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...J()],ne=()=>[Zi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...J()],X=()=>[t,be,ye],Ee=()=>[...Q(),G0,Q0,{position:[be,ye]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],tt=()=>["auto","cover","contain",f4,c4,{size:[be,ye]}],le=()=>[Mm,Sl,Ar],g=()=>["","none","full",v,be,ye],S=()=>["",He,Sl,Ar],w=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>[He,Mm,G0,Q0],U=()=>["","none",M,be,ye],Z=()=>["none",He,be,ye],G=()=>["none",He,be,ye],ie=()=>[He,be,ye],ue=()=>[Zi,"full",...J()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[s4],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[l4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",He],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zi,ye,be,C]}],container:["container"],columns:[{columns:[He,ye,be,h]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ce()}],"inset-x":[{"inset-x":ce()}],"inset-y":[{"inset-y":ce()}],start:[{start:ce()}],end:[{end:ce()}],top:[{top:ce()}],right:[{right:ce()}],bottom:[{bottom:ce()}],left:[{left:ce()}],visibility:["visible","invisible","collapse"],z:[{z:[Ks,"auto",be,ye]}],basis:[{basis:[Zi,"full","auto",h,...J()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Zi,"auto","initial","none",ye]}],grow:[{grow:["",He,be,ye]}],shrink:[{shrink:["",He,be,ye]}],order:[{order:[Ks,"first","last","none",be,ye]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:Ne()}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:Ne()}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":st()}],"auto-rows":[{"auto-rows":st()}],gap:[{gap:J()}],"gap-x":[{"gap-x":J()}],"gap-y":[{"gap-y":J()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:J()}],px:[{px:J()}],py:[{py:J()}],ps:[{ps:J()}],pe:[{pe:J()}],pt:[{pt:J()}],pr:[{pr:J()}],pb:[{pb:J()}],pl:[{pl:J()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":J()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":J()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[h,"screen",...ne()]}],"min-w":[{"min-w":[h,"screen","none",...ne()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",a,Sl,Ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,Am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mm,ye]}],"font-family":[{font:[d4,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,be,ye]}],"line-clamp":[{"line-clamp":[He,"none",be,Am]}],leading:[{leading:[u,...J()]}],"list-image":[{"list-image":["none",be,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",be,Ar]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[He,"auto",be,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:tt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ks,be,ye],radial:["",be,ye],conic:[Ks,be,ye]},h4,u4]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:g()}],"rounded-s":[{"rounded-s":g()}],"rounded-e":[{"rounded-e":g()}],"rounded-t":[{"rounded-t":g()}],"rounded-r":[{"rounded-r":g()}],"rounded-b":[{"rounded-b":g()}],"rounded-l":[{"rounded-l":g()}],"rounded-ss":[{"rounded-ss":g()}],"rounded-se":[{"rounded-se":g()}],"rounded-ee":[{"rounded-ee":g()}],"rounded-es":[{"rounded-es":g()}],"rounded-tl":[{"rounded-tl":g()}],"rounded-tr":[{"rounded-tr":g()}],"rounded-br":[{"rounded-br":g()}],"rounded-bl":[{"rounded-bl":g()}],"border-w":[{border:S()}],"border-w-x":[{"border-x":S()}],"border-w-y":[{"border-y":S()}],"border-w-s":[{"border-s":S()}],"border-w-e":[{"border-e":S()}],"border-w-t":[{"border-t":S()}],"border-w-r":[{"border-r":S()}],"border-w-b":[{"border-b":S()}],"border-w-l":[{"border-l":S()}],"divide-x":[{"divide-x":S()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":S()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...w(),"hidden","none"]}],"divide-style":[{divide:[...w(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...w(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,be,ye]}],"outline-w":[{outline:["",He,Sl,Ar]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",y,Ou,Au]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",_,Ou,Au]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[He,Ar]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":S()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",T,Ou,Au]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[He,be,ye]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":E()}],"mask-image-linear-to-pos":[{"mask-linear-to":E()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":E()}],"mask-image-t-to-pos":[{"mask-t-to":E()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":E()}],"mask-image-r-to-pos":[{"mask-r-to":E()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":E()}],"mask-image-b-to-pos":[{"mask-b-to":E()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":E()}],"mask-image-l-to-pos":[{"mask-l-to":E()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":E()}],"mask-image-x-to-pos":[{"mask-x-to":E()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":E()}],"mask-image-y-to-pos":[{"mask-y-to":E()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[be,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":E()}],"mask-image-radial-to-pos":[{"mask-radial-to":E()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":E()}],"mask-image-conic-to-pos":[{"mask-conic-to":E()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:tt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ye]}],filter:[{filter:["","none",be,ye]}],blur:[{blur:U()}],brightness:[{brightness:[He,be,ye]}],contrast:[{contrast:[He,be,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,Ou,Au]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",He,be,ye]}],"hue-rotate":[{"hue-rotate":[He,be,ye]}],invert:[{invert:["",He,be,ye]}],saturate:[{saturate:[He,be,ye]}],sepia:[{sepia:["",He,be,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ye]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[He,be,ye]}],"backdrop-contrast":[{"backdrop-contrast":[He,be,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,be,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,be,ye]}],"backdrop-invert":[{"backdrop-invert":["",He,be,ye]}],"backdrop-opacity":[{"backdrop-opacity":[He,be,ye]}],"backdrop-saturate":[{"backdrop-saturate":[He,be,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",He,be,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":J()}],"border-spacing-x":[{"border-spacing-x":J()}],"border-spacing-y":[{"border-spacing-y":J()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",be,ye]}],ease:[{ease:["linear","initial",k,be,ye]}],delay:[{delay:[He,be,ye]}],animate:[{animate:["none",D,be,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,be,ye]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[be,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ye]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[He,Sl,Ar,Am]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v4=JO(g4);function _e(...t){return v4(S1(t))}const y4=CM,Q1=x.forwardRef(({className:t,...e},a)=>l.jsx(p1,{ref:a,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Q1.displayName=p1.displayName;const b4=Rd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),G1=x.forwardRef(({className:t,variant:e,...a},r)=>l.jsx(g1,{ref:r,className:_e(b4({variant:e}),t),...a}));G1.displayName=g1.displayName;const x4=x.forwardRef(({className:t,...e},a)=>l.jsx(b1,{ref:a,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));x4.displayName=b1.displayName;const Y1=x.forwardRef(({className:t,...e},a)=>l.jsx(x1,{ref:a,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(lo,{className:"h-4 w-4"})}));Y1.displayName=x1.displayName;const Z1=x.forwardRef(({className:t,...e},a)=>l.jsx(v1,{ref:a,className:_e("text-sm font-semibold",t),...e}));Z1.displayName=v1.displayName;const J1=x.forwardRef(({className:t,...e},a)=>l.jsx(y1,{ref:a,className:_e("text-sm opacity-90",t),...e}));J1.displayName=y1.displayName;function w4(){const{toasts:t}=ba();return l.jsxs(y4,{children:[t.map(function({id:e,title:a,description:r,action:o,...u}){return l.jsxs(G1,{...u,children:[l.jsxs("div",{className:"grid gap-1",children:[a&&l.jsx(Z1,{children:a}),r&&l.jsx(J1,{children:r})]}),o,l.jsx(Y1,{})]},e)}),l.jsx(Q1,{})]})}var S4=Symbol("radix.slottable");function _4(t){const e=({children:a})=>l.jsx(l.Fragment,{children:a});return e.displayName=`${t}.Slottable`,e.__radixId=S4,e}var[zd]=So("Tooltip",[kd]),Id=kd(),K1="TooltipProvider",j4=700,vp="tooltip.open",[N4,Tg]=zd(K1),X1=t=>{const{__scopeTooltip:e,delayDuration:a=j4,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:u}=t,d=x.useRef(!0),h=x.useRef(!1),p=x.useRef(0);return x.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),l.jsx(N4,{scope:e,isOpenDelayedRef:d,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(p.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:x.useCallback(v=>{h.current=v},[]),disableHoverableContent:o,children:u})};X1.displayName=K1;var zl="Tooltip",[T4,ac]=zd(zl),W1=t=>{const{__scopeTooltip:e,children:a,open:r,defaultOpen:o,onOpenChange:u,disableHoverableContent:d,delayDuration:h}=t,p=Tg(zl,t.__scopeTooltip),v=Id(e),[y,_]=x.useState(null),T=Ed(),A=x.useRef(0),M=d??p.disableHoverableContent,j=h??p.delayDuration,C=x.useRef(!1),[k,D]=Rl({prop:r,defaultProp:o??!1,onChange:Y=>{Y?(p.onOpen(),document.dispatchEvent(new CustomEvent(vp))):p.onClose(),u?.(Y)},caller:zl}),P=x.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),Q=x.useCallback(()=>{window.clearTimeout(A.current),A.current=0,C.current=!1,D(!0)},[D]),F=x.useCallback(()=>{window.clearTimeout(A.current),A.current=0,D(!1)},[D]),H=x.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>{C.current=!0,D(!0),A.current=0},j)},[j,D]);return x.useEffect(()=>()=>{A.current&&(window.clearTimeout(A.current),A.current=0)},[]),l.jsx(f_,{...v,children:l.jsx(T4,{scope:e,contentId:T,open:k,stateAttribute:P,trigger:y,onTriggerChange:_,onTriggerEnter:x.useCallback(()=>{p.isOpenDelayedRef.current?H():Q()},[p.isOpenDelayedRef,H,Q]),onTriggerLeave:x.useCallback(()=>{M?F():(window.clearTimeout(A.current),A.current=0)},[F,M]),onOpen:Q,onClose:F,disableHoverableContent:M,children:a})})};W1.displayName=zl;var yp="TooltipTrigger",ej=x.forwardRef((t,e)=>{const{__scopeTooltip:a,...r}=t,o=ac(yp,a),u=Tg(yp,a),d=Id(a),h=x.useRef(null),p=kt(e,h,o.onTriggerChange),v=x.useRef(!1),y=x.useRef(!1),_=x.useCallback(()=>v.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),l.jsx(h_,{asChild:!0,...d,children:l.jsx(vt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:p,onPointerMove:Ue(t.onPointerMove,T=>{T.pointerType!=="touch"&&!y.current&&!u.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ue(t.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Ue(t.onPointerDown,()=>{o.open&&o.onClose(),v.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Ue(t.onFocus,()=>{v.current||o.onOpen()}),onBlur:Ue(t.onBlur,o.onClose),onClick:Ue(t.onClick,o.onClose)})})});ej.displayName=yp;var Cg="TooltipPortal",[C4,k4]=zd(Cg,{forceMount:void 0}),tj=t=>{const{__scopeTooltip:e,forceMount:a,children:r,container:o}=t,u=ac(Cg,e);return l.jsx(C4,{scope:e,forceMount:a,children:l.jsx(li,{present:a||u.open,children:l.jsx(rg,{asChild:!0,container:o,children:r})})})};tj.displayName=Cg;var co="TooltipContent",nj=x.forwardRef((t,e)=>{const a=k4(co,t.__scopeTooltip),{forceMount:r=a.forceMount,side:o="top",...u}=t,d=ac(co,t.__scopeTooltip);return l.jsx(li,{present:r||d.open,children:d.disableHoverableContent?l.jsx(aj,{side:o,...u,ref:e}):l.jsx(E4,{side:o,...u,ref:e})})}),E4=x.forwardRef((t,e)=>{const a=ac(co,t.__scopeTooltip),r=Tg(co,t.__scopeTooltip),o=x.useRef(null),u=kt(e,o),[d,h]=x.useState(null),{trigger:p,onClose:v}=a,y=o.current,{onPointerInTransitChange:_}=r,T=x.useCallback(()=>{h(null),_(!1)},[_]),A=x.useCallback((M,j)=>{const C=M.currentTarget,k={x:M.clientX,y:M.clientY},D=R4(k,C.getBoundingClientRect()),P=P4(k,D),Q=L4(j.getBoundingClientRect()),F=I4([...P,...Q]);h(F),_(!0)},[_]);return x.useEffect(()=>()=>T(),[T]),x.useEffect(()=>{if(p&&y){const M=C=>A(C,y),j=C=>A(C,p);return p.addEventListener("pointerleave",M),y.addEventListener("pointerleave",j),()=>{p.removeEventListener("pointerleave",M),y.removeEventListener("pointerleave",j)}}},[p,y,A,T]),x.useEffect(()=>{if(d){const M=j=>{const C=j.target,k={x:j.clientX,y:j.clientY},D=p?.contains(C)||y?.contains(C),P=!z4(k,d);D?T():P&&(T(),v())};return document.addEventListener("pointermove",M),()=>document.removeEventListener("pointermove",M)}},[p,y,d,v,T]),l.jsx(aj,{...t,ref:u})}),[M4,A4]=zd(zl,{isInside:!1}),O4=_4("TooltipContent"),aj=x.forwardRef((t,e)=>{const{__scopeTooltip:a,children:r,"aria-label":o,onEscapeKeyDown:u,onPointerDownOutside:d,...h}=t,p=ac(co,a),v=Id(a),{onClose:y}=p;return x.useEffect(()=>(document.addEventListener(vp,y),()=>document.removeEventListener(vp,y)),[y]),x.useEffect(()=>{if(p.trigger){const _=T=>{T.target?.contains(p.trigger)&&y()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[p.trigger,y]),l.jsx(u_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:_=>_.preventDefault(),onDismiss:y,children:l.jsxs(d_,{"data-state":p.stateAttribute,...v,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(O4,{children:r}),l.jsx(M4,{scope:a,isInside:!0,children:l.jsx(cM,{id:p.contentId,role:"tooltip",children:o||r})})]})})});nj.displayName=co;var sj="TooltipArrow",D4=x.forwardRef((t,e)=>{const{__scopeTooltip:a,...r}=t,o=Id(a);return A4(sj,a).isInside?null:l.jsx(m_,{...o,...r,ref:e})});D4.displayName=sj;function R4(t,e){const a=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),u=Math.abs(e.left-t.x);switch(Math.min(a,r,o,u)){case u:return"left";case o:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function P4(t,e,a=5){const r=[];switch(e){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function L4(t){const{top:e,right:a,bottom:r,left:o}=t;return[{x:o,y:e},{x:a,y:e},{x:a,y:r},{x:o,y:r}]}function z4(t,e){const{x:a,y:r}=t;let o=!1;for(let u=0,d=e.length-1;u<e.length;d=u++){const h=e[u],p=e[d],v=h.x,y=h.y,_=p.x,T=p.y;y>r!=T>r&&a<(_-v)*(r-y)/(T-y)+v&&(o=!o)}return o}function I4(t){const e=t.slice();return e.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),U4(e)}function U4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const u=e[e.length-1],d=e[e.length-2];if((u.x-d.x)*(o.y-d.y)>=(u.y-d.y)*(o.x-d.x))e.pop();else break}e.push(o)}e.pop();const a=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;a.length>=2;){const u=a[a.length-1],d=a[a.length-2];if((u.x-d.x)*(o.y-d.y)>=(u.y-d.y)*(o.x-d.x))a.pop();else break}a.push(o)}return a.pop(),e.length===1&&a.length===1&&e[0].x===a[0].x&&e[0].y===a[0].y?e:e.concat(a)}var B4=X1,V4=W1,F4=ej,q4=tj,rj=nj;const ij=B4,Y0=V4,Z0=F4,bp=x.forwardRef(({className:t,sideOffset:e=4,...a},r)=>l.jsx(q4,{children:l.jsx(rj,{ref:r,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a})}));bp.displayName=rj.displayName;const oj=x.createContext(void 0);function H4({children:t}){const[e,a]=x.useState("saved"),[r,o]=x.useState(null),u=x.useCallback(()=>{a("saving")},[]),d=x.useCallback(()=>{a("saved"),o(new Date)},[]),h=x.useCallback(()=>{a("error")},[]);return l.jsx(oj.Provider,{value:{status:e,lastSaved:r,setSaving:u,setSaved:d,setError:h},children:t})}function Ud(){const t=x.useContext(oj);if(!t)throw new Error("useSaveStatus must be used within SaveStatusProvider");return t}const We=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("rounded-xl border bg-card text-card-foreground shadow",t),...e}));We.displayName="Card";const Dt=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));Dt.displayName="CardHeader";const zt=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("font-semibold leading-none tracking-tight",t),...e}));zt.displayName="CardTitle";const gn=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));gn.displayName="CardDescription";const ut=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("p-6 pt-0",t),...e}));ut.displayName="CardContent";const $4=x.forwardRef(({className:t,...e},a)=>l.jsx("div",{ref:a,className:_e("flex items-center p-6 pt-0",t),...e}));$4.displayName="CardFooter";function Q4(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(We,{className:"w-full max-w-md mx-4",children:l.jsxs(ut,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Sg,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const lj="/assets/minimalist_legal_logo_navy_gold-B-0pkTJY.png",G4=x.createContext({isOpen:!1,setIsOpen:()=>{}});function J0({onClose:t}){const[e]=ec(),a=[{icon:MA,label:"Dashboard",href:"/"},{icon:N1,label:"My Cases",href:"/cases"},{icon:Ld,label:"Trial Prep",href:"/trial-prep"},{icon:wg,label:"Calendar",href:"/calendar"},{icon:O1,label:"Legal Research",href:"/research"},{icon:mO,label:"Settings",href:"/settings"}],r=()=>{t&&t()};return l.jsxs("div",{className:"w-64 h-screen bg-sidebar text-sidebar-foreground border-r border-sidebar-border flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"p-4 md:p-6 flex items-center justify-between border-b border-sidebar-border/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-sidebar-primary/10 flex items-center justify-center p-1",children:l.jsx("img",{src:lj,alt:"CaseBuddy Logo",className:"w-full h-full object-contain"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-serif font-bold text-lg text-sidebar-primary tracking-wide",children:"CaseBuddy"}),l.jsx("p",{className:"text-xs text-sidebar-foreground/60 uppercase tracking-wider",children:"Legal AI OS"})]})]}),t&&l.jsx("button",{onClick:t,className:"md:hidden p-2 rounded-lg hover:bg-sidebar-accent transition-colors","data-testid":"button-close-sidebar",children:l.jsx(lo,{className:"w-5 h-5"})})]}),l.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-2 md:mt-4 overflow-y-auto",children:a.map(o=>{const u=e===o.href||o.href!=="/"&&e.startsWith(o.href);return l.jsxs(Pl,{href:o.href,onClick:r,className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group
                ${u?"bg-sidebar-primary text-sidebar-primary-foreground font-medium shadow-md shadow-sidebar-primary/20":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-white"}
              `,children:[l.jsx(o.icon,{className:`w-5 h-5 ${u?"text-sidebar-primary-foreground":"text-sidebar-foreground/60 group-hover:text-white"}`}),l.jsx("span",{children:o.label})]},o.href)})}),l.jsx("div",{className:"p-4 border-t border-sidebar-border/50",children:l.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-sidebar-foreground/60 hover:bg-destructive/10 hover:text-destructive transition-colors",children:[l.jsx(LA,{className:"w-5 h-5"}),l.jsx("span",{children:"Sign Out"})]})})]})}function Y4(){const{status:t,lastSaved:e}=Ud(),a=r=>r?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/50 text-xs","data-testid":"save-status-indicator",children:[t==="saving"&&l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-3 h-3 animate-spin text-blue-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Saving..."})]}),t==="saved"&&l.jsxs(l.Fragment,{children:[l.jsx(qa,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-green-600 font-medium",children:"Saved"}),e&&l.jsx("span",{className:"text-muted-foreground",children:a(e)})]}),t==="error"&&l.jsxs(l.Fragment,{children:[l.jsx(oA,{className:"w-3 h-3 text-red-500"}),l.jsx("span",{className:"text-red-600 font-medium",children:"Save failed"})]})]})}function xs({children:t}){const[e,a]=x.useState(!1),[r]=ec();return x.useEffect(()=>{a(!1)},[r]),x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),l.jsx(G4.Provider,{value:{isOpen:e,setIsOpen:a},children:l.jsxs("div",{className:"min-h-screen bg-background font-sans flex",children:[l.jsx("div",{className:"hidden md:block fixed left-0 top-0 z-20",children:l.jsx(J0,{})}),e&&l.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-30 animate-in fade-in duration-200",onClick:()=>a(!1)}),l.jsx("div",{className:`
          md:hidden fixed left-0 top-0 z-40 transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:l.jsx(J0,{onClose:()=>a(!1)})}),l.jsxs("main",{className:"flex-1 md:ml-64 min-h-screen relative w-full",children:[l.jsxs("header",{className:"h-14 md:h-16 border-b bg-background/80 backdrop-blur-sm sticky top-0 z-10 px-4 md:px-8 flex items-center justify-between gap-2 md:gap-4",children:[l.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 -ml-2 rounded-lg hover:bg-secondary transition-colors","data-testid":"button-open-sidebar",children:l.jsx(BA,{className:"w-5 h-5"})}),l.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[l.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center p-0.5",children:l.jsx("img",{src:lj,alt:"CaseBuddy",className:"w-full h-full object-contain"})}),l.jsx("span",{className:"font-serif font-bold text-primary text-sm",children:"CaseBuddy"})]}),l.jsxs("div",{className:"hidden sm:block flex-1 max-w-[200px] md:max-w-[384px] relative",children:[l.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-secondary/50 border-none rounded-full text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all","data-testid":"input-global-search"})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx("button",{className:"sm:hidden p-2 rounded-full hover:bg-secondary transition-colors","data-testid":"button-mobile-search",children:l.jsx(Zr,{className:"w-5 h-5 text-muted-foreground"})}),l.jsx("div",{className:"hidden sm:block",children:l.jsx(Y4,{})}),l.jsxs("button",{className:"relative p-2 rounded-full hover:bg-secondary transition-colors","data-testid":"button-notifications",children:[l.jsx(j1,{className:"w-5 h-5 text-muted-foreground"}),l.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full border-2 border-background"})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-serif font-bold text-xs",children:"JD"})]})]}),l.jsx("div",{className:"p-4 md:p-8",children:t})]})]})})}var Z4=Symbol.for("react.lazy"),rd=l_[" use ".trim().toString()];function J4(t){return typeof t=="object"&&t!==null&&"then"in t}function cj(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Z4&&"_payload"in t&&J4(t._payload)}function Bd(t){const e=X4(t),a=x.forwardRef((r,o)=>{let{children:u,...d}=r;cj(u)&&typeof rd=="function"&&(u=rd(u._payload));const h=x.Children.toArray(u),p=h.find(eD);if(p){const v=p.props.children,y=h.map(_=>_===p?x.Children.count(v)>1?x.Children.only(null):x.isValidElement(v)?v.props.children:null:_);return l.jsx(e,{...d,ref:o,children:x.isValidElement(v)?x.cloneElement(v,void 0,y):null})}return l.jsx(e,{...d,ref:o,children:u})});return a.displayName=`${t}.Slot`,a}var K4=Bd("Slot");function X4(t){const e=x.forwardRef((a,r)=>{let{children:o,...u}=a;if(cj(o)&&typeof rd=="function"&&(o=rd(o._payload)),x.isValidElement(o)){const d=nD(o),h=tD(u,o.props);return o.type!==x.Fragment&&(h.ref=r?p_(r,d):d),x.cloneElement(o,h)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W4=Symbol("radix.slottable");function eD(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W4}function tD(t,e){const a={...e};for(const r in e){const o=t[r],u=e[r];/^on[A-Z]/.test(r)?o&&u?a[r]=(...h)=>{const p=u(...h);return o(...h),p}:o&&(a[r]=o):r==="style"?a[r]={...o,...u}:r==="className"&&(a[r]=[o,u].filter(Boolean).join(" "))}return{...t,...a}}function nD(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const kg=Rd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),me=x.forwardRef(({className:t,variant:e,size:a,asChild:r=!1,...o},u)=>{const d=r?K4:"button";return l.jsx(d,{className:_e(kg({variant:e,size:a,className:t})),ref:u,...o})});me.displayName="Button";const $t=x.forwardRef(({className:t,type:e,...a},r)=>l.jsx("input",{type:e,className:_e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));$t.displayName="Input";const Ct="/api";async function Eg(){const t=await fetch(`${Ct}/cases`);if(!t.ok)throw new Error("Failed to fetch cases");return t.json()}async function aD(t){const e=await fetch(`${Ct}/cases/${t}`);if(!e.ok)throw new Error("Failed to fetch case");return e.json()}async function uj(t){const e=await fetch(`${Ct}/cases`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create case");return e.json()}async function sD(t){const e=await fetch(`${Ct}/cases/${t}/discovery`);if(!e.ok)throw new Error("Failed to fetch discovery files");return e.json()}async function rD(t,e,a,r){const o=new FormData;o.append("file",e);const u=await fetch(`${Ct}/cases/${t}/discovery/upload`,{method:"POST",body:o});if(!u.ok)throw new Error("Failed to upload file");return u.json()}async function iD(t){const e=await fetch(`${Ct}/cases/${t}/timeline`);if(!e.ok)throw new Error("Failed to fetch timeline");return e.json()}async function oD(t){const e=t?`${Ct}/drive/folders?parentId=${encodeURIComponent(t)}`:`${Ct}/drive/folders`,a=await fetch(e);if(!a.ok)throw a.status===401?new Error("Google Drive not connected"):new Error("Failed to fetch Drive folders");return a.json()}async function lD(t){const e=await fetch(`${Ct}/cases/${t}/cloud-folders`);if(!e.ok)throw new Error("Failed to fetch cloud folders");return e.json()}async function cD(t,e,a,r){const o=await fetch(`${Ct}/cases/${t}/cloud-folders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folderId:e,folderName:a,batesPrefix:r})});if(!o.ok)throw new Error("Failed to link cloud folder");return o.json()}async function uD(t){const e=await fetch(`${Ct}/cloud-folders/${t}/sync`,{method:"POST"});if(!e.ok)throw e.status===401?new Error("Google Drive not connected"):new Error("Failed to sync cloud folder");return e.json()}async function dD(t=3){const e=await fetch(`${Ct}/news/latest?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch news");return e.json()}async function fD(t=2){const e=await fetch(`${Ct}/news/featured?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch featured news");return e.json()}async function hD(t){const e=await fetch(`${Ct}/cases/${t}/briefs`);if(!e.ok)throw new Error("Failed to fetch legal briefs");return e.json()}async function mD(){const t=await fetch(`${Ct}/briefs/types`);if(!t.ok)throw new Error("Failed to fetch brief types");return t.json()}async function pD(t,e,a,r){const o=await fetch(`${Ct}/cases/${t}/briefs/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({briefType:e,title:a,additionalInstructions:r})});if(!o.ok)throw new Error("Failed to generate legal brief");return o.json()}async function gD(t){if(!(await fetch(`${Ct}/briefs/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete legal brief")}async function vD(){const t=await fetch(`${Ct}/conversations`);if(!t.ok)throw new Error("Failed to fetch conversations");return t.json()}async function yD(t){const e=await fetch(`${Ct}/conversations/${t}`);if(!e.ok)throw new Error("Failed to fetch conversation");return e.json()}async function K0(t,e){const a=await fetch(`${Ct}/conversations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,caseId:e})});if(!a.ok)throw new Error("Failed to create conversation");return a.json()}async function bD(t){if(!(await fetch(`${Ct}/conversations/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete conversation")}async function xD(t,e,a){const r=await fetch(`${Ct}/conversations/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!r.ok)throw new Error("Failed to send message");const o=r.body?.getReader();if(!o)throw new Error("No response body");const u=new TextDecoder;for(;;){const{done:d,value:h}=await o.read();if(d)break;const v=u.decode(h).split(`
`);for(const y of v)if(y.startsWith("data: "))try{const _=JSON.parse(y.slice(6));_.content&&a(_.content)}catch{}}}async function dj(t){if(!(await fetch(`${Ct}/cases/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete case")}async function wD(t){const e=await fetch(`${Ct}/cases/${t}/export`);if(!e.ok)throw new Error("Failed to export case data");return e.blob()}const Mg=v_,Ag=y_,SD=g_,fj=x.forwardRef(({className:t,...e},a)=>l.jsx(ig,{ref:a,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fj.displayName=ig.displayName;const Vd=x.forwardRef(({className:t,children:e,...a},r)=>l.jsxs(SD,{children:[l.jsx(fj,{}),l.jsxs(og,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[e,l.jsxs(lg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(lo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vd.displayName=og.displayName;const Fd=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fd.displayName="DialogHeader";const hj=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hj.displayName="DialogFooter";const qd=x.forwardRef(({className:t,...e},a)=>l.jsx(cg,{ref:a,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));qd.displayName=cg.displayName;const Hd=x.forwardRef(({className:t,...e},a)=>l.jsx(ug,{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));Hd.displayName=ug.displayName;function _D(){const{toast:t}=ba(),[,e]=ec(),{data:a,isLoading:r}=pn({queryKey:["cases"],queryFn:Eg}),{data:o=[]}=pn({queryKey:["news","latest"],queryFn:()=>dD(3),refetchInterval:300*1e3});x.useEffect(()=>{if(a&&a.length>0){const h=a.reduce((p,v)=>p+(v.filesCount||0),0);h>0&&t({title:"System Ready",description:`CaseBuddy AI has successfully indexed ${h.toLocaleString()} documents.`})}},[]);const u=a?.filter(h=>h.nextDeadline&&new Date(h.nextDeadline)>new Date).length||0,d=a?.reduce((h,p)=>h+(p.filesCount||0),0)||0;return l.jsx(xs,{children:l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-serif font-bold text-primary mb-1 sm:mb-2",children:"Good Morning, Counselor."}),l.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:["Here is your case overview for today, ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),"."]})]}),l.jsx(X0,{onSuccess:h=>e(`/case/${h}`)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(We,{className:"border-l-4 border-l-primary bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[l.jsx(Dt,{className:"pb-2",children:l.jsx(zt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Active Matters"})}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:a?.filter(h=>h.status==="active").length||0}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-green-600",children:[l.jsx(bO,{className:"w-3 h-3"}),l.jsxs("span",{children:[a?.length||0," total cases"]})]})]})]}),l.jsxs(We,{className:"border-l-4 border-l-accent bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[l.jsx(Dt,{className:"pb-2",children:l.jsx(zt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Upcoming Deadlines"})}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:u}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-orange-600",children:[l.jsx(Sg,{className:"w-3 h-3"}),l.jsx("span",{children:"Cases with deadlines set"})]})]})]}),l.jsxs(We,{className:"border-l-4 border-l-slate-400 bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[l.jsx(Dt,{className:"pb-2",children:l.jsx(zt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Documents Processed"})}),l.jsxs(ut,{children:[l.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:d>=1e3?(d/1e3).toFixed(1)+"k":d}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[l.jsx(RM,{className:"w-3 h-3"}),l.jsx("span",{children:"Total documents in system"})]})]})]})]}),o.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(mp,{className:"w-5 h-5 text-muted-foreground"}),l.jsx("h2",{className:"text-lg font-medium text-muted-foreground",children:"Legal News & Updates"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(h=>l.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"group bg-muted/30 border border-border/50 rounded-lg p-4 hover:bg-muted/50 hover:border-primary/20 transition-all","data-testid":`news-article-${h.id}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsx("h3",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:h.title}),l.jsx(ar,{className:"w-3 h-3 text-muted-foreground flex-shrink-0 mt-0.5"})]}),h.summary&&l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:h.summary}),l.jsx("div",{className:"text-xs text-muted-foreground/70",children:h.publishedAt?new Date(h.publishedAt).toLocaleDateString():"We The People News"})]},h.id))})]}),l.jsxs("section",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold font-serif text-primary",children:"Recent Activity"}),l.jsxs(me,{variant:"ghost",size:"sm",className:"text-sm text-primary",children:[l.jsx("span",{className:"hidden sm:inline",children:"View All Cases"}),l.jsx("span",{className:"sm:hidden",children:"View All"}),l.jsx(LM,{className:"w-4 h-4 ml-1"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[r&&l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading cases..."}),!r&&(!a||a.length===0)&&l.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[l.jsx(ga,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No cases yet. Create your first case to get started."}),l.jsx(X0,{onSuccess:h=>e(`/case/${h}`)})]}),a&&a.slice(0,5).map(h=>l.jsx(Pl,{href:`/case/${h.id}`,children:l.jsxs("div",{className:"group bg-card border hover:border-accent/50 p-4 sm:p-6 rounded-xl shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden","data-testid":`case-card-${h.id}`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary group-hover:bg-accent transition-colors"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1 flex-wrap",children:[l.jsx("span",{className:"text-xs font-mono text-muted-foreground bg-secondary px-2 py-0.5 rounded border border-border",children:h.caseNumber}),l.jsx("h3",{className:"text-base sm:text-lg font-bold text-foreground group-hover:text-primary transition-colors truncate",children:h.title}),h.status==="active"&&l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse flex-shrink-0"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2 sm:mb-3 line-clamp-2",children:h.description||"No description"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(ga,{className:"w-3 h-3"}),h.filesCount.toLocaleString()," Docs"]}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(_g,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden sm:inline",children:"Last active:"})," ",h.lastActivity?new Date(h.lastActivity).toLocaleDateString():"Never"]})]})]}),l.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-center pt-2 sm:pt-0 border-t sm:border-t-0 sm:text-right",children:[l.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-0 sm:mb-1",children:"Next Deadline"}),l.jsxs("div",{className:"text-sm font-medium text-destructive flex items-center gap-1 justify-end",children:[l.jsx(jD,{className:"w-3 h-3"}),h.nextDeadline?new Date(h.nextDeadline).toLocaleDateString():"None set"]})]})]})]})},h.id))]})]})]})})}function X0({onSuccess:t}){const[e,a]=x.useState(!1),[r,o]=x.useState(""),[u,d]=x.useState(""),[h,p]=x.useState(""),[v,y]=x.useState(""),{toast:_}=ba(),T=Pa(),A=Xn({mutationFn:()=>uj({title:r,caseNumber:u,client:h,description:v}),onSuccess:j=>{T.invalidateQueries({queryKey:["cases"]}),_({title:"Case Created",description:`${j.title} has been created successfully.`}),a(!1),o(""),d(""),p(""),y(""),t?.(j.id)},onError:()=>{_({title:"Failed to Create Case",description:"Please check your input and try again.",variant:"destructive"})}}),M=j=>{if(j.preventDefault(),!r||!u||!h){_({title:"Missing Required Fields",description:"Please fill in case title, case number, and client name.",variant:"destructive"});return}A.mutate()};return l.jsxs(Mg,{open:e,onOpenChange:a,children:[l.jsx(Ag,{asChild:!0,children:l.jsxs(me,{size:"default",className:"w-full sm:w-auto bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-new-case",children:[l.jsx(Yr,{className:"w-4 h-4 mr-2"})," New Case Intake"]})}),l.jsxs(Vd,{className:"max-w-[95vw] sm:max-w-[500px]",children:[l.jsxs(Fd,{children:[l.jsx(qd,{className:"font-serif text-xl",children:"New Case Intake"}),l.jsx(Hd,{children:"Enter the case details to create a new matter in CaseBuddy."})]}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Case Title *"}),l.jsx($t,{placeholder:"e.g., Smith v. Johnson",value:r,onChange:j=>o(j.target.value),required:!0,"data-testid":"input-case-title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Case Number *"}),l.jsx($t,{placeholder:"e.g., 2024-CV-12345",value:u,onChange:j=>d(j.target.value),required:!0,"data-testid":"input-case-number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Client Name *"}),l.jsx($t,{placeholder:"e.g., John Smith",value:h,onChange:j=>p(j.target.value),required:!0,"data-testid":"input-client-name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Description"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background min-h-[80px] text-sm",placeholder:"Brief description of the case...",value:v,onChange:j=>y(j.target.value),"data-testid":"input-case-description"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(me,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(me,{type:"submit",disabled:A.isPending,"data-testid":"button-create-case",children:A.isPending?l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Case"})]})]})]})]})}function jD({className:t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[l.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),l.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),l.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]})}const $d=zk,sc=x.forwardRef(({className:t,...e},a)=>l.jsx(b_,{ref:a,className:_e("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));sc.displayName=b_.displayName;const jn=x.forwardRef(({className:t,...e},a)=>l.jsx(x_,{ref:a,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));jn.displayName=x_.displayName;const Nn=x.forwardRef(({className:t,...e},a)=>l.jsx(w_,{ref:a,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nn.displayName=w_.displayName;const ND=Rd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Kt({className:t,variant:e,...a}){return l.jsx("div",{className:_e(ND({variant:e}),t),...a})}function xp(t,[e,a]){return Math.min(a,Math.max(e,t))}function TD(t,e){return x.useReducer((a,r)=>e[a][r]??a,t)}var Og="ScrollArea",[mj]=So(Og),[CD,xa]=mj(Og),pj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,type:r="hover",dir:o,scrollHideDelay:u=600,...d}=t,[h,p]=x.useState(null),[v,y]=x.useState(null),[_,T]=x.useState(null),[A,M]=x.useState(null),[j,C]=x.useState(null),[k,D]=x.useState(0),[P,Q]=x.useState(0),[F,H]=x.useState(!1),[Y,J]=x.useState(!1),ce=kt(e,Ne=>p(Ne)),pe=S_(o);return l.jsx(CD,{scope:a,type:r,dir:pe,scrollHideDelay:u,scrollArea:h,viewport:v,onViewportChange:y,content:_,onContentChange:T,scrollbarX:A,onScrollbarXChange:M,scrollbarXEnabled:F,onScrollbarXEnabledChange:H,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:Y,onScrollbarYEnabledChange:J,onCornerWidthChange:D,onCornerHeightChange:Q,children:l.jsx(vt.div,{dir:pe,...d,ref:ce,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":P+"px",...t.style}})})});pj.displayName=Og;var gj="ScrollAreaViewport",vj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,children:r,nonce:o,...u}=t,d=xa(gj,a),h=x.useRef(null),p=kt(e,h,d.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),l.jsx(vt.div,{"data-radix-scroll-area-viewport":"",...u,ref:p,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});vj.displayName=gj;var Ga="ScrollAreaScrollbar",Dg=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,o=xa(Ga,t.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:d}=o,h=t.orientation==="horizontal";return x.useEffect(()=>(h?u(!0):d(!0),()=>{h?u(!1):d(!1)}),[h,u,d]),o.type==="hover"?l.jsx(kD,{...r,ref:e,forceMount:a}):o.type==="scroll"?l.jsx(ED,{...r,ref:e,forceMount:a}):o.type==="auto"?l.jsx(yj,{...r,ref:e,forceMount:a}):o.type==="always"?l.jsx(Rg,{...r,ref:e}):null});Dg.displayName=Ga;var kD=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,o=xa(Ga,t.__scopeScrollArea),[u,d]=x.useState(!1);return x.useEffect(()=>{const h=o.scrollArea;let p=0;if(h){const v=()=>{window.clearTimeout(p),d(!0)},y=()=>{p=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return h.addEventListener("pointerenter",v),h.addEventListener("pointerleave",y),()=>{window.clearTimeout(p),h.removeEventListener("pointerenter",v),h.removeEventListener("pointerleave",y)}}},[o.scrollArea,o.scrollHideDelay]),l.jsx(li,{present:a||u,children:l.jsx(yj,{"data-state":u?"visible":"hidden",...r,ref:e})})}),ED=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,o=xa(Ga,t.__scopeScrollArea),u=t.orientation==="horizontal",d=Gd(()=>p("SCROLL_END"),100),[h,p]=TD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(h==="idle"){const v=window.setTimeout(()=>p("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(v)}},[h,o.scrollHideDelay,p]),x.useEffect(()=>{const v=o.viewport,y=u?"scrollLeft":"scrollTop";if(v){let _=v[y];const T=()=>{const A=v[y];_!==A&&(p("SCROLL"),d()),_=A};return v.addEventListener("scroll",T),()=>v.removeEventListener("scroll",T)}},[o.viewport,u,p,d]),l.jsx(li,{present:a||h!=="hidden",children:l.jsx(Rg,{"data-state":h==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),yj=x.forwardRef((t,e)=>{const a=xa(Ga,t.__scopeScrollArea),{forceMount:r,...o}=t,[u,d]=x.useState(!1),h=t.orientation==="horizontal",p=Gd(()=>{if(a.viewport){const v=a.viewport.offsetWidth<a.viewport.scrollWidth,y=a.viewport.offsetHeight<a.viewport.scrollHeight;d(h?v:y)}},10);return uo(a.viewport,p),uo(a.content,p),l.jsx(li,{present:r||u,children:l.jsx(Rg,{"data-state":u?"visible":"hidden",...o,ref:e})})}),Rg=x.forwardRef((t,e)=>{const{orientation:a="vertical",...r}=t,o=xa(Ga,t.__scopeScrollArea),u=x.useRef(null),d=x.useRef(0),[h,p]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=_j(h.viewport,h.content),y={...r,sizes:h,onSizesChange:p,hasThumb:v>0&&v<1,onThumbChange:T=>u.current=T,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:T=>d.current=T};function _(T,A){return PD(T,d.current,h,A)}return a==="horizontal"?l.jsx(MD,{...y,ref:e,onThumbPositionChange:()=>{if(o.viewport&&u.current){const T=o.viewport.scrollLeft,A=W0(T,h,o.dir);u.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:T=>{o.viewport&&(o.viewport.scrollLeft=T)},onDragScroll:T=>{o.viewport&&(o.viewport.scrollLeft=_(T,o.dir))}}):a==="vertical"?l.jsx(AD,{...y,ref:e,onThumbPositionChange:()=>{if(o.viewport&&u.current){const T=o.viewport.scrollTop,A=W0(T,h);u.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:T=>{o.viewport&&(o.viewport.scrollTop=T)},onDragScroll:T=>{o.viewport&&(o.viewport.scrollTop=_(T))}}):null}),MD=x.forwardRef((t,e)=>{const{sizes:a,onSizesChange:r,...o}=t,u=xa(Ga,t.__scopeScrollArea),[d,h]=x.useState(),p=x.useRef(null),v=kt(e,p,u.onScrollbarXChange);return x.useEffect(()=>{p.current&&h(getComputedStyle(p.current))},[p]),l.jsx(xj,{"data-orientation":"horizontal",...o,ref:v,sizes:a,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qd(a)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,_)=>{if(u.viewport){const T=u.viewport.scrollLeft+y.deltaX;t.onWheelScroll(T),Nj(T,_)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&r({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:od(d.paddingLeft),paddingEnd:od(d.paddingRight)}})}})}),AD=x.forwardRef((t,e)=>{const{sizes:a,onSizesChange:r,...o}=t,u=xa(Ga,t.__scopeScrollArea),[d,h]=x.useState(),p=x.useRef(null),v=kt(e,p,u.onScrollbarYChange);return x.useEffect(()=>{p.current&&h(getComputedStyle(p.current))},[p]),l.jsx(xj,{"data-orientation":"vertical",...o,ref:v,sizes:a,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qd(a)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,_)=>{if(u.viewport){const T=u.viewport.scrollTop+y.deltaY;t.onWheelScroll(T),Nj(T,_)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&r({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:od(d.paddingTop),paddingEnd:od(d.paddingBottom)}})}})}),[OD,bj]=mj(Ga),xj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:o,onThumbChange:u,onThumbPointerUp:d,onThumbPointerDown:h,onThumbPositionChange:p,onDragScroll:v,onWheelScroll:y,onResize:_,...T}=t,A=xa(Ga,a),[M,j]=x.useState(null),C=kt(e,ce=>j(ce)),k=x.useRef(null),D=x.useRef(""),P=A.viewport,Q=r.content-r.viewport,F=Zn(y),H=Zn(p),Y=Gd(_,10);function J(ce){if(k.current){const pe=ce.clientX-k.current.left,Ne=ce.clientY-k.current.top;v({x:pe,y:Ne})}}return x.useEffect(()=>{const ce=pe=>{const Ne=pe.target;M?.contains(Ne)&&F(pe,Q)};return document.addEventListener("wheel",ce,{passive:!1}),()=>document.removeEventListener("wheel",ce,{passive:!1})},[P,M,Q,F]),x.useEffect(H,[r,H]),uo(M,Y),uo(A.content,Y),l.jsx(OD,{scope:a,scrollbar:M,hasThumb:o,onThumbChange:Zn(u),onThumbPointerUp:Zn(d),onThumbPositionChange:H,onThumbPointerDown:Zn(h),children:l.jsx(vt.div,{...T,ref:C,style:{position:"absolute",...T.style},onPointerDown:Ue(t.onPointerDown,ce=>{ce.button===0&&(ce.target.setPointerCapture(ce.pointerId),k.current=M.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A.viewport&&(A.viewport.style.scrollBehavior="auto"),J(ce))}),onPointerMove:Ue(t.onPointerMove,J),onPointerUp:Ue(t.onPointerUp,ce=>{const pe=ce.target;pe.hasPointerCapture(ce.pointerId)&&pe.releasePointerCapture(ce.pointerId),document.body.style.webkitUserSelect=D.current,A.viewport&&(A.viewport.style.scrollBehavior=""),k.current=null})})})}),id="ScrollAreaThumb",wj=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,o=bj(id,t.__scopeScrollArea);return l.jsx(li,{present:a||o.hasThumb,children:l.jsx(DD,{ref:e,...r})})}),DD=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,style:r,...o}=t,u=xa(id,a),d=bj(id,a),{onThumbPositionChange:h}=d,p=kt(e,_=>d.onThumbChange(_)),v=x.useRef(void 0),y=Gd(()=>{v.current&&(v.current(),v.current=void 0)},100);return x.useEffect(()=>{const _=u.viewport;if(_){const T=()=>{if(y(),!v.current){const A=LD(_,h);v.current=A,h()}};return h(),_.addEventListener("scroll",T),()=>_.removeEventListener("scroll",T)}},[u.viewport,y,h]),l.jsx(vt.div,{"data-state":d.hasThumb?"visible":"hidden",...o,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,_=>{const A=_.target.getBoundingClientRect(),M=_.clientX-A.left,j=_.clientY-A.top;d.onThumbPointerDown({x:M,y:j})}),onPointerUp:Ue(t.onPointerUp,d.onThumbPointerUp)})});wj.displayName=id;var Pg="ScrollAreaCorner",Sj=x.forwardRef((t,e)=>{const a=xa(Pg,t.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?l.jsx(RD,{...t,ref:e}):null});Sj.displayName=Pg;var RD=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,...r}=t,o=xa(Pg,a),[u,d]=x.useState(0),[h,p]=x.useState(0),v=!!(u&&h);return uo(o.scrollbarX,()=>{const y=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(y),p(y)}),uo(o.scrollbarY,()=>{const y=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(y),d(y)}),v?l.jsx(vt.div,{...r,ref:e,style:{width:u,height:h,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function od(t){return t?parseInt(t,10):0}function _j(t,e){const a=t/e;return isNaN(a)?0:a}function Qd(t){const e=_j(t.viewport,t.content),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-a)*e;return Math.max(r,18)}function PD(t,e,a,r="ltr"){const o=Qd(a),u=o/2,d=e||u,h=o-d,p=a.scrollbar.paddingStart+d,v=a.scrollbar.size-a.scrollbar.paddingEnd-h,y=a.content-a.viewport,_=r==="ltr"?[0,y]:[y*-1,0];return jj([p,v],_)(t)}function W0(t,e,a="ltr"){const r=Qd(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,u=e.scrollbar.size-o,d=e.content-e.viewport,h=u-r,p=a==="ltr"?[0,d]:[d*-1,0],v=xp(t,p);return jj([0,d],[0,h])(v)}function jj(t,e){return a=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(a-t[0])}}function Nj(t,e){return t>0&&t<e}var LD=(t,e=()=>{})=>{let a={left:t.scrollLeft,top:t.scrollTop},r=0;return(function o(){const u={left:t.scrollLeft,top:t.scrollTop},d=a.left!==u.left,h=a.top!==u.top;(d||h)&&e(),a=u,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function Gd(t,e){const a=Zn(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,e)},[a,e])}function uo(t,e){const a=Zn(e);Kn(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,a])}var Tj=pj,zD=vj,ID=Sj;const Jr=x.forwardRef(({className:t,children:e,...a},r)=>l.jsxs(Tj,{ref:r,className:_e("relative overflow-hidden",t),...a,children:[l.jsx(zD,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(Cj,{}),l.jsx(ID,{})]}));Jr.displayName=Tj.displayName;const Cj=x.forwardRef(({className:t,orientation:e="vertical",...a},r)=>l.jsx(Dg,{ref:r,orientation:e,className:_e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:l.jsx(wj,{className:"relative flex-1 rounded-full bg-border"})}));Cj.displayName=Dg.displayName;var UD=Symbol("radix.slottable");function BD(t){const e=({children:a})=>l.jsx(l.Fragment,{children:a});return e.displayName=`${t}.Slottable`,e.__radixId=UD,e}var kj="AlertDialog",[VD]=So(kj,[__]),js=__(),Ej=t=>{const{__scopeAlertDialog:e,...a}=t,r=js(e);return l.jsx(v_,{...r,...a,modal:!0})};Ej.displayName=kj;var FD="AlertDialogTrigger",Mj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,o=js(a);return l.jsx(y_,{...o,...r,ref:e})});Mj.displayName=FD;var qD="AlertDialogPortal",Aj=t=>{const{__scopeAlertDialog:e,...a}=t,r=js(e);return l.jsx(g_,{...r,...a})};Aj.displayName=qD;var HD="AlertDialogOverlay",Oj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,o=js(a);return l.jsx(ig,{...o,...r,ref:e})});Oj.displayName=HD;var no="AlertDialogContent",[$D,QD]=VD(no),GD=BD("AlertDialogContent"),Dj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,children:r,...o}=t,u=js(a),d=x.useRef(null),h=kt(e,d),p=x.useRef(null);return l.jsx(Ik,{contentName:no,titleName:Rj,docsSlug:"alert-dialog",children:l.jsx($D,{scope:a,cancelRef:p,children:l.jsxs(og,{role:"alertdialog",...u,...o,ref:h,onOpenAutoFocus:Ue(o.onOpenAutoFocus,v=>{v.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[l.jsx(GD,{children:r}),l.jsx(ZD,{contentRef:d})]})})})});Dj.displayName=no;var Rj="AlertDialogTitle",Pj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,o=js(a);return l.jsx(cg,{...o,...r,ref:e})});Pj.displayName=Rj;var Lj="AlertDialogDescription",zj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,o=js(a);return l.jsx(ug,{...o,...r,ref:e})});zj.displayName=Lj;var YD="AlertDialogAction",Ij=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,o=js(a);return l.jsx(lg,{...o,...r,ref:e})});Ij.displayName=YD;var Uj="AlertDialogCancel",Bj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:o}=QD(Uj,a),u=js(a),d=kt(e,o);return l.jsx(lg,{...u,...r,ref:d})});Bj.displayName=Uj;var ZD=({contentRef:t})=>{const e=`\`${no}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${no}\` by passing a \`${Lj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${no}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},JD=Ej,KD=Mj,XD=Aj,Vj=Oj,Fj=Dj,qj=Ij,Hj=Bj,$j=Pj,Qj=zj;const Gj=JD,Yj=KD,WD=XD,Zj=x.forwardRef(({className:t,...e},a)=>l.jsx(Vj,{className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:a}));Zj.displayName=Vj.displayName;const Lg=x.forwardRef(({className:t,...e},a)=>l.jsxs(WD,{children:[l.jsx(Zj,{}),l.jsx(Fj,{ref:a,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Lg.displayName=Fj.displayName;const zg=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",t),...e});zg.displayName="AlertDialogHeader";const Ig=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ig.displayName="AlertDialogFooter";const Ug=x.forwardRef(({className:t,...e},a)=>l.jsx($j,{ref:a,className:_e("text-lg font-semibold",t),...e}));Ug.displayName=$j.displayName;const Bg=x.forwardRef(({className:t,...e},a)=>l.jsx(Qj,{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));Bg.displayName=Qj.displayName;const Vg=x.forwardRef(({className:t,...e},a)=>l.jsx(qj,{ref:a,className:_e(kg(),t),...e}));Vg.displayName=qj.displayName;const Fg=x.forwardRef(({className:t,...e},a)=>l.jsx(Hj,{ref:a,className:_e(kg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Fg.displayName=Hj.displayName;function e3({variant:t="sidebar",limit:e=1}){const{data:a=[]}=pn({queryKey:["news","featured"],queryFn:()=>fD(2),refetchInterval:3e5}),r=a.slice(0,e);return r.length===0?null:t==="inline"?l.jsxs("div",{className:"mt-6 pt-6 border-t border-border/50",children:[l.jsx("div",{className:"text-xs uppercase tracking-wider text-muted-foreground/70 mb-3",children:"Related Reading"}),r.map(o=>l.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"group flex items-start gap-3 p-3 rounded-lg bg-muted/20 hover:bg-muted/40 transition-colors","data-testid":`featured-news-${o.id}`,children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:o.title}),o.summary&&l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:o.summary})]}),l.jsx(ar,{className:"w-3 h-3 text-muted-foreground flex-shrink-0 mt-1"})]},o.id))]}):l.jsxs("div",{className:"bg-muted/30 border border-border/50 rounded-lg p-4",children:[l.jsx("div",{className:"text-xs uppercase tracking-wider text-muted-foreground/70 mb-3",children:"From WTP News"}),l.jsx("div",{className:"space-y-3",children:r.map(o=>l.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"group block","data-testid":`featured-news-sidebar-${o.id}`,children:[l.jsx("h4",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:o.title}),l.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[l.jsx("span",{children:o.publishedAt?new Date(o.publishedAt).toLocaleDateString():"We The People News"}),l.jsx(ar,{className:"w-2.5 h-2.5"})]})]},o.id))})]})}function t3(){const t=localStorage.getItem("casebuddy_user_id");if(t)return t;const e=`user_${Math.random().toString(36).slice(2,10)}`;return localStorage.setItem("casebuddy_user_id",e),e}function n3(){const t=localStorage.getItem("casebuddy_user_name");if(t)return t;const e=["Alex","Jordan","Sam","Taylor","Morgan","Casey","Riley","Quinn"],a=e[Math.floor(Math.random()*e.length)];return localStorage.setItem("casebuddy_user_name",a),a}function a3(t){const[e,a]=x.useState([]),[r,o]=x.useState(!1),u=x.useRef(null),d=Pa(),h=x.useRef(null),p=x.useRef(null),v=x.useRef(!0),y=x.useRef(t3()),_=x.useRef(n3()),T=x.useCallback(()=>{if(!t||u.current?.readyState===WebSocket.OPEN)return;v.current=!0;const C=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/collaboration`,k=new WebSocket(C);u.current=k,k.onopen=()=>{o(!0),k.send(JSON.stringify({type:"join",caseId:t,userId:y.current,userName:_.current})),p.current=setInterval(()=>{k.readyState===WebSocket.OPEN&&k.send(JSON.stringify({type:"ping"}))},3e4)},k.onmessage=D=>{try{const P=JSON.parse(D.data);switch(P.type){case"presence":P.users&&a(P.users.filter(Q=>Q.id!==y.current));break;case"update":P.data?.updateType&&d.invalidateQueries({queryKey:[P.data.updateType,String(t)]});break}}catch(P){console.error("Failed to parse collaboration message:",P)}},k.onclose=()=>{o(!1),a([]),p.current&&clearInterval(p.current),v.current&&(h.current=setTimeout(()=>{T()},3e3))},k.onerror=()=>{k.close()}},[t,d]),A=x.useCallback(()=>{v.current=!1,h.current&&clearTimeout(h.current),p.current&&clearInterval(p.current),u.current&&(u.current.close(),u.current=null),o(!1),a([])},[]),M=x.useCallback((j,C)=>{u.current?.readyState===WebSocket.OPEN&&u.current.send(JSON.stringify({type:"update",data:{updateType:j,...C}}))},[]);return x.useEffect(()=>(t&&T(),()=>{A()}),[t,T,A]),{collaborators:e,isConnected:r,userId:y.current,userName:_.current,notifyUpdate:M}}function s3(t,e=[]){let a=[];function r(u,d){const h=x.createContext(d);h.displayName=u+"Context";const p=a.length;a=[...a,d];const v=_=>{const{scope:T,children:A,...M}=_,j=T?.[t]?.[p]||h,C=x.useMemo(()=>M,Object.values(M));return l.jsx(j.Provider,{value:C,children:A})};v.displayName=u+"Provider";function y(_,T){const A=T?.[t]?.[p]||h,M=x.useContext(A);if(M)return M;if(d!==void 0)return d;throw new Error(`\`${_}\` must be used within \`${u}\``)}return[v,y]}const o=()=>{const u=a.map(d=>x.createContext(d));return function(h){const p=h?.[t]||u;return x.useMemo(()=>({[`__scope${t}`]:{...h,[t]:p}}),[h,p])}};return o.scopeName=t,[r,r3(o,...e)]}function r3(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const d=r.reduce((h,{useScope:p,scopeName:v})=>{const _=p(u)[`__scope${v}`];return{...h,..._}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}var i3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qg=i3.reduce((t,e)=>{const a=Bd(`Primitive.${e}`),r=x.forwardRef((o,u)=>{const{asChild:d,...h}=o,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function o3(){return R_.useSyncExternalStore(l3,()=>!0,()=>!1)}function l3(){return()=>{}}var Hg="Avatar",[c3]=s3(Hg),[u3,Jj]=c3(Hg),Kj=x.forwardRef((t,e)=>{const{__scopeAvatar:a,...r}=t,[o,u]=x.useState("idle");return l.jsx(u3,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:u,children:l.jsx(qg.span,{...r,ref:e})})});Kj.displayName=Hg;var Xj="AvatarImage",Wj=x.forwardRef((t,e)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:o=()=>{},...u}=t,d=Jj(Xj,a),h=d3(r,u),p=Zn(v=>{o(v),d.onImageLoadingStatusChange(v)});return Kn(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?l.jsx(qg.img,{...u,ref:e,src:r}):null});Wj.displayName=Xj;var eN="AvatarFallback",tN=x.forwardRef((t,e)=>{const{__scopeAvatar:a,delayMs:r,...o}=t,u=Jj(eN,a),[d,h]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),d&&u.imageLoadingStatus!=="loaded"?l.jsx(qg.span,{...o,ref:e}):null});tN.displayName=eN;function ew(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function d3(t,{referrerPolicy:e,crossOrigin:a}){const r=o3(),o=x.useRef(null),u=r?(o.current||(o.current=new window.Image),o.current):null,[d,h]=x.useState(()=>ew(u,t));return Kn(()=>{h(ew(u,t))},[u,t]),Kn(()=>{const p=_=>()=>{h(_)};if(!u)return;const v=p("loaded"),y=p("error");return u.addEventListener("load",v),u.addEventListener("error",y),e&&(u.referrerPolicy=e),typeof a=="string"&&(u.crossOrigin=a),()=>{u.removeEventListener("load",v),u.removeEventListener("error",y)}},[u,a,e]),d}var nN=Kj,aN=Wj,sN=tN;const ld=x.forwardRef(({className:t,...e},a)=>l.jsx(nN,{ref:a,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ld.displayName=nN.displayName;const f3=x.forwardRef(({className:t,...e},a)=>l.jsx(aN,{ref:a,className:_e("aspect-square h-full w-full",t),...e}));f3.displayName=aN.displayName;const cd=x.forwardRef(({className:t,...e},a)=>l.jsx(sN,{ref:a,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));cd.displayName=sN.displayName;function tw({collaborators:t,isConnected:e}){return e?t.length===0?l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Only you"})]}):l.jsx(ij,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsxs("div",{className:"flex -space-x-2",children:[t.slice(0,3).map(a=>l.jsxs(Y0,{children:[l.jsx(Z0,{asChild:!0,children:l.jsx(ld,{className:"w-7 h-7 border-2 border-background cursor-default","data-testid":`collaborator-${a.id}`,children:l.jsx(cd,{className:"text-[10px] font-semibold text-white",style:{backgroundColor:a.color},children:a.name.slice(0,2).toUpperCase()})})}),l.jsxs(bp,{side:"bottom",className:"text-xs",children:[a.name," is viewing this case"]})]},a.id)),t.length>3&&l.jsxs(Y0,{children:[l.jsx(Z0,{asChild:!0,children:l.jsx(ld,{className:"w-7 h-7 border-2 border-background cursor-default",children:l.jsxs(cd,{className:"text-[10px] font-semibold bg-muted text-muted-foreground",children:["+",t.length-3]})})}),l.jsxs(bp,{side:"bottom",className:"text-xs",children:[t.slice(3).map(a=>a.name).join(", ")," also viewing"]})]})]}),l.jsxs("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:[l.jsx(ad,{className:"w-3 h-3 inline mr-1"}),t.length+1," active"]})]})}):l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),l.jsx("span",{className:"hidden sm:inline",children:"Connecting..."})]})}function nw(t,e){if(t==null)return{};var a,r,o=(function(d,h){if(d==null)return{};var p={};for(var v in d)if({}.hasOwnProperty.call(d,v)){if(h.indexOf(v)!==-1)continue;p[v]=d[v]}return p})(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)a=u[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function Wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t){return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(t)}function rN(t){var e=(function(a,r){if(nt(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,r);if(nt(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t,"string");return nt(e)=="symbol"?e:e+""}function aw(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rN(r.key),r)}}function ea(t,e,a){return e&&aw(t.prototype,e),a&&aw(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yd(t,e){if(e&&(nt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(t)}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Da(t)}function Il(t,e){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Il(t,e)}function Zd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Il(t,e)}function Fa(t,e,a){return(e=rN(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function sw(t,e,a,r,o,u,d){try{var h=t[u](d),p=h.value}catch(v){return void a(v)}h.done?e(p):Promise.resolve(p).then(r,o)}function Re(t){return function(){var e=this,a=arguments;return new Promise((function(r,o){var u=t.apply(e,a);function d(p){sw(u,r,o,d,h,"next",p)}function h(p){sw(u,r,o,d,h,"throw",p)}d(void 0)}))}}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function yn(t,e){return(function(a){if(Array.isArray(a))return a})(t)||(function(a,r){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var u,d,h,p,v=[],y=!0,_=!1;try{if(h=(o=o.call(a)).next,r===0){if(Object(o)!==o)return;y=!1}else for(;!(y=(u=h.call(o)).done)&&(v.push(u.value),v.length!==r);y=!0);}catch(T){_=!0,d=T}finally{try{if(!y&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(_)throw d}}return v}})(t,e)||(function(a,r){if(a){if(typeof a=="string")return rw(a,r);var o={}.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?rw(a,r):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function h3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iw,Du={exports:{}},wp=(function(){if(iw)return Du.exports;iw=1;var t,e=typeof Reflect=="object"?Reflect:null,a=e&&typeof e.apply=="function"?e.apply:function(j,C,k){return Function.prototype.apply.call(j,C,k)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.getOwnPropertyNames(j)};var r=Number.isNaN||function(j){return j!=j};function o(){o.init.call(this)}Du.exports=o,Du.exports.once=function(j,C){return new Promise((function(k,D){function P(F){j.removeListener(C,Q),D(F)}function Q(){typeof j.removeListener=="function"&&j.removeListener("error",P),k([].slice.call(arguments))}M(j,C,Q,{once:!0}),C!=="error"&&(function(F,H,Y){typeof F.on=="function"&&M(F,"error",H,Y)})(j,P,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function d(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}function h(j){return j._maxListeners===void 0?o.defaultMaxListeners:j._maxListeners}function p(j,C,k,D){var P,Q,F,H;if(d(k),(Q=j._events)===void 0?(Q=j._events=Object.create(null),j._eventsCount=0):(Q.newListener!==void 0&&(j.emit("newListener",C,k.listener?k.listener:k),Q=j._events),F=Q[C]),F===void 0)F=Q[C]=k,++j._eventsCount;else if(typeof F=="function"?F=Q[C]=D?[k,F]:[F,k]:D?F.unshift(k):F.push(k),(P=h(j))>0&&F.length>P&&!F.warned){F.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=j,Y.type=C,Y.count=F.length,H=Y,console&&console.warn&&console.warn(H)}return j}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(j,C,k){var D={fired:!1,wrapFn:void 0,target:j,type:C,listener:k},P=v.bind(D);return P.listener=k,D.wrapFn=P,P}function _(j,C,k){var D=j._events;if(D===void 0)return[];var P=D[C];return P===void 0?[]:typeof P=="function"?k?[P.listener||P]:[P]:k?(function(Q){for(var F=new Array(Q.length),H=0;H<F.length;++H)F[H]=Q[H].listener||Q[H];return F})(P):A(P,P.length)}function T(j){var C=this._events;if(C!==void 0){var k=C[j];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}function A(j,C){for(var k=new Array(C),D=0;D<C;++D)k[D]=j[D];return k}function M(j,C,k,D){if(typeof j.on=="function")D.once?j.once(C,k):j.on(C,k);else{if(typeof j.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j);j.addEventListener(C,(function P(Q){D.once&&j.removeEventListener(C,P),k(Q)}))}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||r(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");u=j}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||r(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(j){for(var C=[],k=1;k<arguments.length;k++)C.push(arguments[k]);var D=j==="error",P=this._events;if(P!==void 0)D=D&&P.error===void 0;else if(!D)return!1;if(D){var Q;if(C.length>0&&(Q=C[0]),Q instanceof Error)throw Q;var F=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw F.context=Q,F}var H=P[j];if(H===void 0)return!1;if(typeof H=="function")a(H,this,C);else{var Y=H.length,J=A(H,Y);for(k=0;k<Y;++k)a(J[k],this,C)}return!0},o.prototype.addListener=function(j,C){return p(this,j,C,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(j,C){return p(this,j,C,!0)},o.prototype.once=function(j,C){return d(C),this.on(j,y(this,j,C)),this},o.prototype.prependOnceListener=function(j,C){return d(C),this.prependListener(j,y(this,j,C)),this},o.prototype.removeListener=function(j,C){var k,D,P,Q,F;if(d(C),(D=this._events)===void 0)return this;if((k=D[j])===void 0)return this;if(k===C||k.listener===C)--this._eventsCount==0?this._events=Object.create(null):(delete D[j],D.removeListener&&this.emit("removeListener",j,k.listener||C));else if(typeof k!="function"){for(P=-1,Q=k.length-1;Q>=0;Q--)if(k[Q]===C||k[Q].listener===C){F=k[Q].listener,P=Q;break}if(P<0)return this;P===0?k.shift():(function(H,Y){for(;Y+1<H.length;Y++)H[Y]=H[Y+1];H.pop()})(k,P),k.length===1&&(D[j]=k[0]),D.removeListener!==void 0&&this.emit("removeListener",j,F||C)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(j){var C,k,D;if((k=this._events)===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[j]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete k[j]),this;if(arguments.length===0){var P,Q=Object.keys(k);for(D=0;D<Q.length;++D)(P=Q[D])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(C=k[j])=="function")this.removeListener(j,C);else if(C!==void 0)for(D=C.length-1;D>=0;D--)this.removeListener(j,C[D]);return this},o.prototype.listeners=function(j){return _(this,j,!0)},o.prototype.rawListeners=function(j){return _(this,j,!1)},o.listenerCount=function(j,C){return typeof j.listenerCount=="function"?j.listenerCount(C):T.call(j,C)},o.prototype.listenerCount=T,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},Du.exports})(),Ru=h3(wp),ow=Object.prototype.hasOwnProperty;function lw(t,e,a){for(a of t.keys())if(_n(a,e))return a}function _n(t,e){var a,r,o;if(t===e)return!0;if(t&&e&&(a=t.constructor)===e.constructor){if(a===Date)return t.getTime()===e.getTime();if(a===RegExp)return t.toString()===e.toString();if(a===Array){if((r=t.length)===e.length)for(;r--&&_n(t[r],e[r]););return r===-1}if(a===Set){if(t.size!==e.size)return!1;for(r of t)if((o=r)&&typeof o=="object"&&!(o=lw(e,o))||!e.has(o))return!1;return!0}if(a===Map){if(t.size!==e.size)return!1;for(r of t)if((o=r[0])&&typeof o=="object"&&!(o=lw(e,o))||!_n(r[1],e.get(o)))return!1;return!0}if(a===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(a===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!a||typeof t=="object"){for(a in r=0,t)if(ow.call(t,a)&&++r&&!ow.call(e,a)||!(a in e)||!_n(t[a],e[a]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const m3={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},iN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Vt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},wn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},er={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ae{static getFirstMatch(e,a){const r=a.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,a){const r=a.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,a,r){if(e.test(a))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const a=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const a=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,a,r=!1){const o=ae.getVersionPrecision(e),u=ae.getVersionPrecision(a);let d=Math.max(o,u),h=0;const p=ae.map([e,a],(v=>{const y=d-ae.getVersionPrecision(v),_=v+new Array(y+1).join(".0");return ae.map(_.split("."),(T=>new Array(20-T.length).join("0")+T)).reverse()}));for(r&&(h=d-Math.min(o,u)),d-=1;d>=h;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===h)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}}static map(e,a){const r=[];let o;if(Array.prototype.map)return Array.prototype.map.call(e,a);for(o=0;o<e.length;o+=1)r.push(a(e[o]));return r}static find(e,a){let r,o;if(Array.prototype.find)return Array.prototype.find.call(e,a);for(r=0,o=e.length;r<o;r+=1){const u=e[r];if(a(u,r))return u}}static assign(e,...a){const r=e;let o,u;if(Object.assign)return Object.assign(e,...a);for(o=0,u=a.length;o<u;o+=1){const d=a[o];typeof d=="object"&&d!==null&&Object.keys(d).forEach((h=>{r[h]=d[h]}))}return e}static getBrowserAlias(e){return m3[e]}static getBrowserTypeByAlias(e){return iN[e]||""}}const xt=/version\/(\d+(\.?_?\d+)+)/i,p3=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},a=ae.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},a=ae.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},a=ae.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},a=ae.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},a=ae.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},a=ae.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},a=ae.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},a=ae.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},a=ae.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},a=ae.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},a=ae.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},a=ae.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},a=ae.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},a=ae.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},a=ae.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return a&&(e.version=a),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},a=ae.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},a=ae.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},a=ae.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},a=ae.getFirstMatch(xt,t)||ae.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},a=ae.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},a=ae.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},a=ae.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},a=ae.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},a=ae.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},a=ae.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},a=ae.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},a=ae.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},a=ae.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test(t){const e=!t.test(/like android/i),a=t.test(/android/i);return e&&a},describe(t){const e={name:"Android Browser"},a=ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},a=ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},a=ae.getFirstMatch(xt,t);return a&&(e.version=a),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ae.getFirstMatch(e,t),version:ae.getSecondMatch(e,t)}}}];var g3=[{test:[/Roku\/DVP/],describe(t){const e=ae.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:wn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ae.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:wn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ae.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),a=ae.getWindowsVersionName(e);return{name:wn.Windows,version:e,versionName:a}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:wn.iOS},a=ae.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return a&&(e.version=a),e}},{test:[/macintosh/i],describe(t){const e=ae.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),a=ae.getMacOSVersionName(e),r={name:wn.MacOS,version:e};return a&&(r.versionName=a),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ae.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:wn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),a=t.test(/android/i);return e&&a},describe(t){const e=ae.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),a=ae.getAndroidVersionName(e),r={name:wn.Android,version:e};return a&&(r.versionName=a),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ae.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),a={name:wn.WebOS};return e&&e.length&&(a.version=e),a}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ae.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ae.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ae.getFirstMatch(/\bbb(\d+)/i,t);return{name:wn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ae.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:wn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ae.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:wn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:wn.Linux})},{test:[/CrOS/],describe:()=>({name:wn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=ae.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:wn.PlayStation4,version:e}}}],v3=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=ae.getFirstMatch(/(can-l01)/i,t)&&"Nova",a={type:Vt.mobile,vendor:"Huawei"};return e&&(a.model=e),a}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Vt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Vt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Vt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Vt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Vt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Vt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),a=t.test(/like (ipod|iphone)/i);return e&&!a},describe(t){const e=ae.getFirstMatch(/(ipod|iphone)/i,t);return{type:Vt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Vt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Vt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Vt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Vt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Vt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Vt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Vt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Vt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Vt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Vt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Vt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Vt.tv})}],y3=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:er.Blink};const e=ae.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:er.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:er.Trident},a=ae.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:er.Presto},a=ae.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test(t){const e=t.test(/gecko/i),a=t.test(/like gecko/i);return e&&!a},describe(t){const e={name:er.Gecko},a=ae.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:er.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:er.WebKit},a=ae.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}}];class cw{constructor(e,a=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},a!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ae.find(p3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ae.find(g3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:a}=this.getOS();return e?String(a).toLowerCase()||"":a||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:a}=this.getPlatform();return e?String(a).toLowerCase()||"":a||""}parsePlatform(){this.parsedResult.platform={};const e=ae.find(v3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ae.find(y3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ae.assign({},this.parsedResult)}satisfies(e){const a={};let r=0;const o={};let u=0;if(Object.keys(e).forEach((d=>{const h=e[d];typeof h=="string"?(o[d]=h,u+=1):typeof h=="object"&&(a[d]=h,r+=1)})),r>0){const d=Object.keys(a),h=ae.find(d,(v=>this.isOS(v)));if(h){const v=this.satisfies(a[h]);if(v!==void 0)return v}const p=ae.find(d,(v=>this.isPlatform(v)));if(p){const v=this.satisfies(a[p]);if(v!==void 0)return v}}if(u>0){const d=Object.keys(o),h=ae.find(d,(p=>this.isBrowser(p,!0)));if(h!==void 0)return this.compareVersion(o[h])}}isBrowser(e,a=!1){const r=this.getBrowserName().toLowerCase();let o=e.toLowerCase();const u=ae.getBrowserTypeByAlias(o);return a&&u&&(o=u.toLowerCase()),o===r}compareVersion(e){let a=[0],r=e,o=!1;const u=this.getBrowserVersion();if(typeof u=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(o=!0,r=e.substr(2)):a=[],e[0]===">"?a.push(1):a.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(o=!0,r=e.substr(1)),a.indexOf(ae.compareVersions(u,r,o))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,a=!1){return this.isBrowser(e,a)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((a=>this.is(a)))}}class b3{static getParser(e,a=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new cw(e,a)}static parse(e){return new cw(e).getResult()}static get BROWSER_MAP(){return iN}static get ENGINE_MAP(){return er}static get OS_MAP(){return wn}static get PLATFORMS_MAP(){return Vt}}function Jd(){return Date.now()+Math.random().toString()}function _l(){throw new Error("Method must be implemented in subclass")}function oN(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function ud(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:oN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function dd(t){try{new URL(t)}catch{return!1}return!0}const St=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fr="8.55.0",lt=globalThis;function fd(t,e,a){const r=lt,o=r.__SENTRY__=r.__SENTRY__||{},u=o[Fr]=o[Fr]||{};return u[t]||(u[t]=e())}const ci=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Sp=["debug","info","warn","error","log","assert","trace"],hd={};function rc(t){if(!("console"in lt))return t();const e=lt.console,a={},r=Object.keys(hd);r.forEach((o=>{const u=hd[o];a[o]=e[o],e[o]=u}));try{return t()}finally{r.forEach((o=>{e[o]=a[o]}))}}const ze=fd("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return ci?Sp.forEach((a=>{e[a]=(...r)=>{t&&rc((()=>{lt.console[a](`Sentry Logger [${a}]:`,...r)}))}})):Sp.forEach((a=>{e[a]=()=>{}})),e})),Vr="?",uw=/\(error: (.*)\)/,dw=/captureMessage|captureException/;function Pu(t){return t[t.length-1]||{}}const fw="<anonymous>";function rr(t){try{return t&&typeof t=="function"&&t.name||fw}catch{return fw}}function hw(t){const e=t.exception;if(e){const a=[];try{return e.values.forEach((r=>{r.stacktrace.frames&&a.push(...r.stacktrace.frames)})),a}catch{return}}}const Ku={},mw={};function qr(t,e){Ku[t]=Ku[t]||[],Ku[t].push(e)}function Hr(t,e){if(!mw[t]){mw[t]=!0;try{e()}catch(a){ci&&ze.error(`Error while instrumenting ${t}`,a)}}}function Aa(t,e){const a=t&&Ku[t];if(a)for(const r of a)try{r(e)}catch(o){ci&&ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${rr(r)}
Error:`,o)}}let Om=null;function x3(){Om=lt.onerror,lt.onerror=function(t,e,a,r,o){return Aa("error",{column:r,error:o,line:a,msg:t,url:e}),!!Om&&Om.apply(this,arguments)},lt.onerror.__SENTRY_INSTRUMENTED__=!0}let Dm=null;function w3(){Dm=lt.onunhandledrejection,lt.onunhandledrejection=function(t){return Aa("unhandledrejection",t),!Dm||Dm.apply(this,arguments)},lt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Kd(){return $g(lt),lt}function $g(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Fr,e[Fr]=e[Fr]||{}}const lN=Object.prototype.toString;function Qg(t){switch(lN.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Kr(t,Error)}}function Co(t,e){return lN.call(t)===`[object ${e}]`}function cN(t){return Co(t,"ErrorEvent")}function pw(t){return Co(t,"DOMError")}function ys(t){return Co(t,"String")}function Gg(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function _p(t){return t===null||Gg(t)||typeof t!="object"&&typeof t!="function"}function fo(t){return Co(t,"Object")}function Xd(t){return typeof Event<"u"&&Kr(t,Event)}function Wd(t){return!!(t&&t.then&&typeof t.then=="function")}function Kr(t,e){try{return t instanceof e}catch{return!1}}function uN(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const Yg=lt;function dN(t,e={}){if(!t)return"<unknown>";try{let a=t;const r=5,o=[];let u=0,d=0;const h=" > ",p=h.length;let v;const y=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||80;for(;a&&u++<r&&(v=S3(a,y),!(v==="html"||u>1&&d+o.length*p+v.length>=_));)o.push(v),d+=v.length,a=a.parentNode;return o.reverse().join(h)}catch{return"<unknown>"}}function S3(t,e){const a=t,r=[];if(!a||!a.tagName)return"";if(Yg.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}r.push(a.tagName.toLowerCase());const o=e&&e.length?e.filter((d=>a.getAttribute(d))).map((d=>[d,a.getAttribute(d)])):null;if(o&&o.length)o.forEach((d=>{r.push(`[${d[0]}="${d[1]}"]`)}));else{a.id&&r.push(`#${a.id}`);const d=a.className;if(d&&ys(d)){const h=d.split(/\s+/);for(const p of h)r.push(`.${p}`)}}const u=["aria-label","type","name","title","alt"];for(const d of u){const h=a.getAttribute(d);h&&r.push(`[${d}="${h}"]`)}return r.join("")}function ao(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function gw(t,e){if(!Array.isArray(t))return"";const a=[];for(let r=0;r<t.length;r++){const o=t[r];try{uN(o)?a.push("[VueViewModel]"):a.push(String(o))}catch{a.push("[value cannot be serialized]")}}return a.join(e)}function _3(t,e,a=!1){return!!ys(t)&&(Co(e,"RegExp")?e.test(t):!!ys(e)&&(a?t===e:t.includes(e)))}function Lu(t,e=[],a=!1){return e.some((r=>_3(t,r,a)))}function Jn(t,e,a){if(!(e in t))return;const r=t[e],o=a(r);typeof o=="function"&&fN(o,r);try{t[e]=o}catch{ci&&ze.log(`Failed to replace method "${e}" in object`,t)}}function Xr(t,e,a){try{Object.defineProperty(t,e,{value:a,writable:!0,configurable:!0})}catch{ci&&ze.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function fN(t,e){try{const a=e.prototype||{};t.prototype=e.prototype=a,Xr(t,"__sentry_original__",e)}catch{}}function Zg(t){return t.__sentry_original__}function hN(t){if(Qg(t))return{message:t.message,name:t.name,stack:t.stack,...yw(t)};if(Xd(t)){const e={type:t.type,target:vw(t.target),currentTarget:vw(t.currentTarget),...yw(t)};return typeof CustomEvent<"u"&&Kr(t,CustomEvent)&&(e.detail=t.detail),e}return t}function vw(t){try{return e=t,typeof Element<"u"&&Kr(e,Element)?dN(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function yw(t){if(typeof t=="object"&&t!==null){const e={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}return{}}function pa(t){return jp(t,new Map)}function jp(t,e){if((function(a){if(!fo(a))return!1;try{const r=Object.getPrototypeOf(a).constructor.name;return!r||r==="Object"}catch{return!0}})(t)){const a=e.get(t);if(a!==void 0)return a;const r={};e.set(t,r);for(const o of Object.getOwnPropertyNames(t))t[o]!==void 0&&(r[o]=jp(t[o],e));return r}if(Array.isArray(t)){const a=e.get(t);if(a!==void 0)return a;const r=[];return e.set(t,r),t.forEach((o=>{r.push(jp(o,e))})),r}return t}function ic(){return Date.now()/1e3}const ws=(function(){const{performance:t}=lt;if(!t||!t.now)return ic;const e=Date.now()-t.now(),a=t.timeOrigin==null?e:t.timeOrigin;return()=>(a+t.now())/1e3})();function va(){const t=lt,e=t.crypto||t.msCrypto;let a=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(a=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,(r=>(r^(15&a())>>r/4).toString(16)))}function mN(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function tr(t){const{message:e,event_id:a}=t;if(e)return e;const r=mN(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||a||"<unknown>":a||"<unknown>"}function Np(t,e,a){const r=t.exception=t.exception||{},o=r.values=r.values||[],u=o[0]=o[0]||{};u.value||(u.value=e||""),u.type||(u.type="Error")}function ho(t,e){const a=mN(t);if(!a)return;const r=a.mechanism;if(a.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const o={...r&&r.data,...e.data};a.mechanism.data=o}}function bw(t){if((function(e){try{return e.__sentry_captured__}catch{}})(t))return!0;try{Xr(t,"__sentry_captured__",!0)}catch{}return!1}var ps;function Wr(t){return new ma((e=>{e(t)}))}function md(t){return new ma(((e,a)=>{a(t)}))}(()=>{const{performance:t}=lt;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(ps||(ps={}));class ma{constructor(e){ma.prototype.__init.call(this),ma.prototype.__init2.call(this),ma.prototype.__init3.call(this),ma.prototype.__init4.call(this),this._state=ps.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(a){this._reject(a)}}then(e,a){return new ma(((r,o)=>{this._handlers.push([!1,u=>{if(e)try{r(e(u))}catch(d){o(d)}else r(u)},u=>{if(a)try{r(a(u))}catch(d){o(d)}else o(u)}]),this._executeHandlers()}))}catch(e){return this.then((a=>a),e)}finally(e){return new ma(((a,r)=>{let o,u;return this.then((d=>{u=!1,o=d,e&&e()}),(d=>{u=!0,o=d,e&&e()})).then((()=>{u?r(o):a(o)}))}))}__init(){this._resolve=e=>{this._setResult(ps.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ps.REJECTED,e)}}__init3(){this._setResult=(e,a)=>{this._state===ps.PENDING&&(Wd(a)?a.then(this._resolve,this._reject):(this._state=e,this._value=a,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ps.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((a=>{a[0]||(this._state===ps.RESOLVED&&a[1](this._value),this._state===ps.REJECTED&&a[2](this._value),a[0]=!0)}))}}}function j3(t){const e=ws(),a={sid:va(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(r){return pa({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})})(a)};return t&&mo(a,t),a}function mo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ws(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:va()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const a=t.timestamp-t.started;t.duration=a>=0?a:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function xw(){return va()}function Tp(){return va().substring(16)}function ef(t,e,a=2){if(!e||typeof e!="object"||a<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=ef(r[o],e[o],a-1));return r}const Cp="_sentrySpan";function ww(t,e){e?Xr(t,Cp,e):delete t[Cp]}function Sw(t){return t[Cp]}class Jg{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:xw(),spanId:Tp()}}clone(){const e=new Jg;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ww(e,Sw(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&mo(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,a){return this._tags={...this._tags,[e]:a},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,a){return this._extra={...this._extra,[e]:a},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,a){return a===null?delete this._contexts[e]:this._contexts[e]=a,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const a=typeof e=="function"?e(this):e,[r,o]=a instanceof ir?[a.getScopeData(),a.getRequestSession()]:fo(a)?[e,e.requestSession]:[],{tags:u,extra:d,user:h,contexts:p,level:v,fingerprint:y=[],propagationContext:_}=r||{};return this._tags={...this._tags,...u},this._extra={...this._extra,...d},this._contexts={...this._contexts,...p},h&&Object.keys(h).length&&(this._user=h),v&&(this._level=v),y.length&&(this._fingerprint=y),_&&(this._propagationContext=_),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ww(this,void 0),this._attachments=[],this.setPropagationContext({traceId:xw()}),this._notifyScopeListeners(),this}addBreadcrumb(e,a){const r=typeof a=="number"?a:100;if(r<=0)return this;const o={timestamp:ic(),...e};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Sw(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ef(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Tp(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,a){const r=a&&a.event_id?a.event_id:va();if(!this._client)return ze.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...a,event_id:r},this),r}captureMessage(e,a,r){const o=r&&r.event_id?r.event_id:va();if(!this._client)return ze.warn("No client configured on scope - will not capture message!"),o;const u=new Error(e);return this._client.captureMessage(e,a,{originalException:e,syntheticException:u,...r,event_id:o},this),o}captureEvent(e,a){const r=a&&a.event_id?a.event_id:va();return this._client?(this._client.captureEvent(e,{...a,event_id:r},this),r):(ze.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const ir=Jg;class N3{constructor(e,a){let r,o;r=e||new ir,o=a||new ir,this._stack=[{scope:r}],this._isolationScope=o}withScope(e){const a=this._pushScope();let r;try{r=e(a)}catch(o){throw this._popScope(),o}return Wd(r)?r.then((o=>(this._popScope(),o)),(o=>{throw this._popScope(),o})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function po(){const t=$g(Kd());return t.stack=t.stack||new N3(fd("defaultCurrentScope",(()=>new ir)),fd("defaultIsolationScope",(()=>new ir)))}function T3(t){return po().withScope(t)}function C3(t,e){const a=po();return a.withScope((()=>(a.getStackTop().scope=t,e(t))))}function _w(t){return po().withScope((()=>t(po().getIsolationScope())))}function Kg(t){const e=$g(t);return e.acs?e.acs:{withIsolationScope:_w,withScope:T3,withSetScope:C3,withSetIsolationScope:(a,r)=>_w(r),getCurrentScope:()=>po().getScope(),getIsolationScope:()=>po().getIsolationScope()}}function ui(){return Kg(Kd()).getCurrentScope()}function oc(){return Kg(Kd()).getIsolationScope()}function vn(){return ui().getClient()}function k3(t){const e=t.getPropagationContext(),{traceId:a,spanId:r,parentSpanId:o}=e;return pa({trace_id:a,span_id:r,parent_span_id:o})}function E3(t){const e=t._sentryMetrics;if(!e)return;const a={};for(const[,[r,o]]of e)(a[r]||(a[r]=[])).push(pa(o));return a}const M3=/^sentry-/;function A3(t){const e=(function(r){if(!(!r||!ys(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce(((o,u)=>{const d=jw(u);return Object.entries(d).forEach((([h,p])=>{o[h]=p})),o}),{}):jw(r)})(t);if(!e)return;const a=Object.entries(e).reduce(((r,[o,u])=>(o.match(M3)&&(r[o.slice(7)]=u),r)),{});return Object.keys(a).length>0?a:void 0}function jw(t){return t.split(",").map((e=>e.split("=").map((a=>decodeURIComponent(a.trim()))))).reduce(((e,[a,r])=>(a&&r&&(e[a]=r),e)),{})}let Nw=!1;function O3(t){const{spanId:e,traceId:a,isRemote:r}=t.spanContext();return pa({parent_span_id:r?e:Xg(t).parent_span_id,span_id:r?Tp():e,trace_id:a})}function Tw(t){return typeof t=="number"?Cw(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Cw(t.getTime()):ws()}function Cw(t){return t>9999999999?t/1e3:t}function Xg(t){if((function(e){return typeof e.getSpanJSON=="function"})(t))return t.getSpanJSON();try{const{spanId:e,traceId:a}=t.spanContext();if((function(r){const o=r;return!!(o.attributes&&o.startTime&&o.name&&o.endTime&&o.status)})(t)){const{attributes:r,startTime:o,name:u,endTime:d,parentSpanId:h,status:p}=t;return pa({span_id:e,trace_id:a,data:r,description:u,parent_span_id:h,start_timestamp:Tw(o),timestamp:Tw(d)||void 0,status:D3(p),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:E3(t)})}return{span_id:e,trace_id:a}}catch{return{}}}function D3(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function pN(t){return t._sentryRootSpan||t}function R3(){Nw||(rc((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),Nw=!0)}const Wg="production";function gN(t,e){const a=e.getOptions(),{publicKey:r}=e.getDsn()||{},o=pa({environment:a.environment||Wg,release:a.release,public_key:r,trace_id:t});return e.emit("createDsc",o),o}function P3(t){const e=vn();if(!e)return{};const a=pN(t),r=a._frozenDsc;if(r)return r;const o=a.spanContext().traceState,u=o&&o.get("sentry.dsc"),d=u&&A3(u);if(d)return d;const h=gN(t.spanContext().traceId,e),p=Xg(a),v=p.data||{},y=v["sentry.sample_rate"];y!=null&&(h.sample_rate=`${y}`);const _=v["sentry.source"],T=p.description;return _!=="url"&&T&&(h.transaction=T),(function(A){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const M=vn(),j=M&&M.getOptions();return!!j&&(j.enableTracing||"tracesSampleRate"in j||"tracesSampler"in j)})()&&(h.sampled=String((function(A){const{traceFlags:M}=A.spanContext();return M===1})(a))),e.emit("createDsc",h,a),h}const L3=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pd(t,e=!1){const{host:a,path:r,pass:o,port:u,projectId:d,protocol:h,publicKey:p}=t;return`${h}://${p}${e&&o?`:${o}`:""}@${a}${u?`:${u}`:""}/${r&&`${r}/`}${d}`}function kw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function z3(t){const e=typeof t=="string"?(function(a){const r=L3.exec(a);if(!r)return void rc((()=>{console.error(`Invalid Sentry Dsn: ${a}`)}));const[o,u,d="",h="",p="",v=""]=r.slice(1);let y="",_=v;const T=_.split("/");if(T.length>1&&(y=T.slice(0,-1).join("/"),_=T.pop()),_){const A=_.match(/^\d+/);A&&(_=A[0])}return kw({host:h,pass:d,path:y,projectId:_,port:p,protocol:o,publicKey:u})})(t):kw(t);if(e&&(function(a){if(!ci)return!0;const{port:r,projectId:o,protocol:u}=a;return!(["protocol","publicKey","host","projectId"].find((d=>!a[d]&&(ze.error(`Invalid Sentry Dsn: ${d} missing`),!0)))||(o.match(/^\d+$/)?(function(d){return d==="http"||d==="https"})(u)?r&&isNaN(parseInt(r,10))&&(ze.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ze.error(`Invalid Sentry Dsn: Invalid protocol ${u}`),1):(ze.error(`Invalid Sentry Dsn: Invalid projectId ${o}`),1)))})(e))return e}function gs(t,e=100,a=1/0){try{return kp("",t,e,a)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function vN(t,e=3,a=102400){const r=gs(t,e);return o=r,(function(u){return~-encodeURI(u).split(/%..|./).length})(JSON.stringify(o))>a?vN(t,e-1,a):r;var o}function kp(t,e,a=1/0,r=1/0,o=(function(){const u=typeof WeakSet=="function",d=u?new WeakSet:[];return[function(h){if(u)return!!d.has(h)||(d.add(h),!1);for(let p=0;p<d.length;p++)if(d[p]===h)return!0;return d.push(h),!1},function(h){if(u)d.delete(h);else for(let p=0;p<d.length;p++)if(d[p]===h){d.splice(p,1);break}}]})()){const[u,d]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const h=(function(A,M){try{if(A==="domain"&&M&&typeof M=="object"&&M._events)return"[Domain]";if(A==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&M===global)return"[Global]";if(typeof window<"u"&&M===window)return"[Window]";if(typeof document<"u"&&M===document)return"[Document]";if(uN(M))return"[VueViewModel]";if(fo(j=M)&&"nativeEvent"in j&&"preventDefault"in j&&"stopPropagation"in j)return"[SyntheticEvent]";if(typeof M=="number"&&!Number.isFinite(M))return`[${M}]`;if(typeof M=="function")return`[Function: ${rr(M)}]`;if(typeof M=="symbol")return`[${String(M)}]`;if(typeof M=="bigint")return`[BigInt: ${String(M)}]`;const C=(function(k){const D=Object.getPrototypeOf(k);return D?D.constructor.name:"null prototype"})(M);return/^HTML(\w*)Element$/.test(C)?`[HTMLElement: ${C}]`:`[object ${C}]`}catch(C){return`**non-serializable** (${C})`}var j})(t,e);if(!h.startsWith("[object "))return h;if(e.__sentry_skip_normalization__)return e;const p=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:a;if(p===0)return h.replace("object ","");if(u(e))return"[Circular ~]";const v=e;if(v&&typeof v.toJSON=="function")try{return kp("",v.toJSON(),p-1,r,o)}catch{}const y=Array.isArray(e)?[]:{};let _=0;const T=hN(e);for(const A in T){if(!Object.prototype.hasOwnProperty.call(T,A))continue;if(_>=r){y[A]="[MaxProperties ~]";break}const M=T[A];y[A]=kp(A,M,p-1,r,o),_++}return d(e),y}function Ul(t,e=[]){return[t,e]}function I3(t,e){const[a,r]=t;return[a,[...r,e]]}function Ew(t,e){const a=t[1];for(const r of a)if(e(r,r[0].type))return!0;return!1}function Ep(t){return lt.__SENTRY__&&lt.__SENTRY__.encodePolyfill?lt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function U3(t){const[e,a]=t;let r=JSON.stringify(e);function o(u){typeof r=="string"?r=typeof u=="string"?r+u:[Ep(r),u]:r.push(typeof u=="string"?Ep(u):u)}for(const u of a){const[d,h]=u;if(o(`
${JSON.stringify(d)}
`),typeof h=="string"||h instanceof Uint8Array)o(h);else{let p;try{p=JSON.stringify(h)}catch{p=JSON.stringify(gs(h))}o(p)}}return typeof r=="string"?r:(function(u){const d=u.reduce(((v,y)=>v+y.length),0),h=new Uint8Array(d);let p=0;for(const v of u)h.set(v,p),p+=v.length;return h})(r)}function B3(t){const e=typeof t.data=="string"?Ep(t.data):t.data;return[pa({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const V3={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Mw(t){return V3[t]}function yN(t){if(!t||!t.sdk)return;const{name:e,version:a}=t.sdk;return{name:e,version:a}}function F3(t,e,a,r){const o=yN(a),u=t.type&&t.type!=="replay_event"?t.type:"event";(function(h,p){p&&(h.sdk=h.sdk||{},h.sdk.name=h.sdk.name||p.name,h.sdk.version=h.sdk.version||p.version,h.sdk.integrations=[...h.sdk.integrations||[],...p.integrations||[]],h.sdk.packages=[...h.sdk.packages||[],...p.packages||[]])})(t,a&&a.sdk);const d=(function(h,p,v,y){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:h.event_id,sent_at:new Date().toISOString(),...p&&{sdk:p},...!!v&&y&&{dsn:pd(y)},..._&&{trace:pa({..._})}}})(t,o,r,e);return delete t.sdkProcessingMetadata,Ul(d,[[{type:u},t]])}function Mp(t,e,a,r=0){return new ma(((o,u)=>{const d=t[r];if(e===null||typeof d!="function")o(e);else{const h=d({...e},a);St&&d.id&&h===null&&ze.log(`Event processor "${d.id}" dropped event`),Wd(h)?h.then((p=>Mp(t,p,a,r+1).then(o))).then(null,u):Mp(t,h,a,r+1).then(o).then(null,u)}}))}let zu,Aw,Rm;function q3(t,e){const{fingerprint:a,span:r,breadcrumbs:o,sdkProcessingMetadata:u}=e;(function(d,h){const{extra:p,tags:v,user:y,contexts:_,level:T,transactionName:A}=h,M=pa(p);M&&Object.keys(M).length&&(d.extra={...M,...d.extra});const j=pa(v);j&&Object.keys(j).length&&(d.tags={...j,...d.tags});const C=pa(y);C&&Object.keys(C).length&&(d.user={...C,...d.user});const k=pa(_);k&&Object.keys(k).length&&(d.contexts={...k,...d.contexts}),T&&(d.level=T),A&&d.type!=="transaction"&&(d.transaction=A)})(t,e),r&&(function(d,h){d.contexts={trace:O3(h),...d.contexts},d.sdkProcessingMetadata={dynamicSamplingContext:P3(h),...d.sdkProcessingMetadata};const p=pN(h),v=Xg(p).description;v&&!d.transaction&&d.type==="transaction"&&(d.transaction=v)})(t,r),(function(d,h){d.fingerprint=d.fingerprint?Array.isArray(d.fingerprint)?d.fingerprint:[d.fingerprint]:[],h&&(d.fingerprint=d.fingerprint.concat(h)),d.fingerprint&&!d.fingerprint.length&&delete d.fingerprint})(t,a),(function(d,h){const p=[...d.breadcrumbs||[],...h];d.breadcrumbs=p.length?p:void 0})(t,o),(function(d,h){d.sdkProcessingMetadata={...d.sdkProcessingMetadata,...h}})(t,u)}function Ow(t,e){const{extra:a,tags:r,user:o,contexts:u,level:d,sdkProcessingMetadata:h,breadcrumbs:p,fingerprint:v,eventProcessors:y,attachments:_,propagationContext:T,transactionName:A,span:M}=e;Iu(t,"extra",a),Iu(t,"tags",r),Iu(t,"user",o),Iu(t,"contexts",u),t.sdkProcessingMetadata=ef(t.sdkProcessingMetadata,h,2),d&&(t.level=d),A&&(t.transactionName=A),M&&(t.span=M),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),v.length&&(t.fingerprint=[...t.fingerprint,...v]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...T}}function Iu(t,e,a){t[e]=ef(t[e],a,1)}function H3(t,e,a,r,o,u){const{normalizeDepth:d=3,normalizeMaxBreadth:h=1e3}=t,p={...e,event_id:e.event_id||a.event_id||va(),timestamp:e.timestamp||ic()},v=a.integrations||t.integrations.map((M=>M.name));(function(M,j){const{environment:C,release:k,dist:D,maxValueLength:P=250}=j;M.environment=M.environment||C||Wg,!M.release&&k&&(M.release=k),!M.dist&&D&&(M.dist=D),M.message&&(M.message=ao(M.message,P));const Q=M.exception&&M.exception.values&&M.exception.values[0];Q&&Q.value&&(Q.value=ao(Q.value,P));const F=M.request;F&&F.url&&(F.url=ao(F.url,P))})(p,t),(function(M,j){j.length>0&&(M.sdk=M.sdk||{},M.sdk.integrations=[...M.sdk.integrations||[],...j])})(p,v),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&(function(M,j){const C=(function(k){const D=lt._sentryDebugIds;if(!D)return{};const P=Object.keys(D);return Rm&&P.length===Aw||(Aw=P.length,Rm=P.reduce(((Q,F)=>{zu||(zu={});const H=zu[F];if(H)Q[H[0]]=H[1];else{const Y=k(F);for(let J=Y.length-1;J>=0;J--){const ce=Y[J],pe=ce&&ce.filename,Ne=D[F];if(pe&&Ne){Q[pe]=Ne,zu[F]=[pe,Ne];break}}}return Q}),{})),Rm})(j);try{M.exception.values.forEach((k=>{k.stacktrace.frames.forEach((D=>{C&&D.filename&&(D.debug_id=C[D.filename])}))}))}catch{}})(p,t.stackParser);const y=(function(M,j){if(!j)return M;const C=M?M.clone():new ir;return C.update(j),C})(r,a.captureContext);a.mechanism&&ho(p,a.mechanism);const _=o?o.getEventProcessors():[],T=fd("globalScope",(()=>new ir)).getScopeData();u&&Ow(T,u.getScopeData()),y&&Ow(T,y.getScopeData());const A=[...a.attachments||[],...T.attachments];return A.length&&(a.attachments=A),q3(p,T),Mp([..._,...T.eventProcessors],p,a).then((M=>(M&&(function(j){const C={};try{j.exception.values.forEach((D=>{D.stacktrace.frames.forEach((P=>{P.debug_id&&(P.abs_path?C[P.abs_path]=P.debug_id:P.filename&&(C[P.filename]=P.debug_id),delete P.debug_id)}))}))}catch{}if(Object.keys(C).length===0)return;j.debug_meta=j.debug_meta||{},j.debug_meta.images=j.debug_meta.images||[];const k=j.debug_meta.images;Object.entries(C).forEach((([D,P])=>{k.push({type:"sourcemap",code_file:D,debug_id:P})}))})(M),typeof d=="number"&&d>0?(function(j,C,k){if(!j)return null;const D={...j,...j.breadcrumbs&&{breadcrumbs:j.breadcrumbs.map((P=>({...P,...P.data&&{data:gs(P.data,C,k)}})))},...j.user&&{user:gs(j.user,C,k)},...j.contexts&&{contexts:gs(j.contexts,C,k)},...j.extra&&{extra:gs(j.extra,C,k)}};return j.contexts&&j.contexts.trace&&D.contexts&&(D.contexts.trace=j.contexts.trace,j.contexts.trace.data&&(D.contexts.trace.data=gs(j.contexts.trace.data,C,k))),j.spans&&(D.spans=j.spans.map((P=>({...P,...P.data&&{data:gs(P.data,C,k)}})))),j.contexts&&j.contexts.flags&&D.contexts&&(D.contexts.flags=gs(j.contexts.flags,3,k)),D})(M,d,h):M)))}function Dw(t,e){return ui().captureEvent(t,e)}function Rw(t){const e=vn(),a=oc(),r=ui(),{release:o,environment:u=Wg}=e&&e.getOptions()||{},{userAgent:d}=lt.navigator||{},h=j3({release:o,environment:u,user:r.getUser()||a.getUser(),...d&&{userAgent:d},...t}),p=a.getSession();return p&&p.status==="ok"&&mo(p,{status:"exited"}),bN(),a.setSession(h),r.setSession(h),h}function bN(){const t=oc(),e=ui(),a=e.getSession()||t.getSession();a&&(function(r,o){let u={};r.status==="ok"&&(u={status:"exited"}),mo(r,u)})(a),xN(),t.setSession(),e.setSession()}function xN(){const t=oc(),e=ui(),a=vn(),r=e.getSession()||t.getSession();r&&a&&a.captureSession(r)}function Pw(t=!1){t?bN():xN()}function $3(t,e,a){return e||`${(function(r){return`${(function(o){const u=o.protocol?`${o.protocol}:`:"",d=o.port?`:${o.port}`:"";return`${u}//${o.host}${d}${o.path?`/${o.path}`:""}/api/`})(r)}${r.projectId}/envelope/`})(t)}?${(function(r,o){const u={sentry_version:"7"};return r.publicKey&&(u.sentry_key=r.publicKey),o&&(u.sentry_client=`${o.name}/${o.version}`),new URLSearchParams(u).toString()})(t,a)}`}const Lw=[];function zw(t,e){for(const a of e)a&&a.afterAllSetup&&a.afterAllSetup(t)}function Iw(t,e,a){if(a[e.name])St&&ze.log(`Integration skipped because it was already installed: ${e.name}`);else{if(a[e.name]=e,Lw.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Lw.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((o,u)=>r(o,u,t)))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),o=Object.assign(((u,d)=>r(u,d,t)),{id:e.name});t.addEventProcessor(o)}St&&ze.log(`Integration installed: ${e.name}`)}}class Ta extends Error{constructor(e,a="warn"){super(e),this.message=e,this.logLevel=a}}const Uw="Not capturing exception because it's already been captured.";class Q3{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=z3(e.dsn):St&&ze.warn("No DSN provided, client will not send events."),this._dsn){const r=$3(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const a=["enableTracing","tracesSampleRate","tracesSampler"].find((r=>r in e&&e[r]==null));a&&rc((()=>{console.warn(`[Sentry] Deprecation warning: \`${a}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(e,a,r){const o=va();if(bw(e))return St&&ze.log(Uw),o;const u={event_id:o,...a};return this._process(this.eventFromException(e,u).then((d=>this._captureEvent(d,u,r)))),u.event_id}captureMessage(e,a,r,o){const u={event_id:va(),...r},d=Gg(e)?e:String(e),h=_p(e)?this.eventFromMessage(d,a,u):this.eventFromException(e,u);return this._process(h.then((p=>this._captureEvent(p,u,o)))),u.event_id}captureEvent(e,a,r){const o=va();if(a&&a.originalException&&bw(a.originalException))return St&&ze.log(Uw),o;const u={event_id:o,...a},d=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,u,d||r)),u.event_id}captureSession(e){typeof e.release!="string"?St&&ze.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),mo(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const a=this._transport;return a?(this.emit("flush"),this._isClientDoneProcessing(e).then((r=>a.flush(e).then((o=>r&&o))))):Wr(!0)}close(e){return this.flush(e).then((a=>(this.getOptions().enabled=!1,this.emit("close"),a)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const a=this._integrations[e.name];Iw(this,e,this._integrations),a||zw(this,[e])}sendEvent(e,a={}){this.emit("beforeSendEvent",e,a);let r=F3(e,this._dsn,this._options._metadata,this._options.tunnel);for(const u of a.attachments||[])r=I3(r,B3(u));const o=this.sendEnvelope(r);o&&o.then((u=>this.emit("afterSendEvent",e,u)),null)}sendSession(e){const a=(function(r,o,u,d){const h=yN(u);return Ul({sent_at:new Date().toISOString(),...h&&{sdk:h},...!!d&&o&&{dsn:pd(o)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(e,a,r){if(this._options.sendClientReports){const o=typeof r=="number"?r:1,u=`${e}:${a}`;St&&ze.log(`Recording outcome: "${u}"${o>1?` (${o} times)`:""}`),this._outcomes[u]=(this._outcomes[u]||0)+o}}on(e,a){const r=this._hooks[e]=this._hooks[e]||[];return r.push(a),()=>{const o=r.indexOf(a);o>-1&&r.splice(o,1)}}emit(e,...a){const r=this._hooks[e];r&&r.forEach((o=>o(...a)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(a=>(St&&ze.error("Error while sending envelope:",a),a))):(St&&ze.error("Transport disabled"),Wr({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(function(a,r){const o={};return r.forEach((u=>{u&&Iw(a,u,o)})),o})(this,e),zw(this,e)}_updateSessionFromEvent(e,a){let r=a.level==="fatal",o=!1;const u=a.exception&&a.exception.values;if(u){o=!0;for(const h of u){const p=h.mechanism;if(p&&p.handled===!1){r=!0;break}}}const d=e.status==="ok";(d&&e.errors===0||d&&r)&&(mo(e,{...r&&{status:"crashed"},errors:e.errors||Number(o||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ma((a=>{let r=0;const o=setInterval((()=>{this._numProcessing==0?(clearInterval(o),a(!0)):(r+=1,e&&r>=e&&(clearInterval(o),a(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,a,r=ui(),o=oc()){const u=this.getOptions(),d=Object.keys(this._integrations);return!a.integrations&&d.length>0&&(a.integrations=d),this.emit("preprocessEvent",e,a),e.type||o.setLastEventId(e.event_id||a.event_id),H3(u,e,a,r,this,o).then((h=>{if(h===null)return h;h.contexts={trace:k3(r),...h.contexts};const p=(function(v,y){const _=y.getPropagationContext();return _.dsc||gN(_.traceId,v)})(this,r);return h.sdkProcessingMetadata={dynamicSamplingContext:p,...h.sdkProcessingMetadata},h}))}_captureEvent(e,a={},r){return this._processEvent(e,a,r).then((o=>o.event_id),(o=>{St&&(o instanceof Ta&&o.logLevel==="log"?ze.log(o.message):ze.warn(o))}))}_processEvent(e,a,r){const o=this.getOptions(),{sampleRate:u}=o,d=Vw(e),h=Bw(e),p=e.type||"error",v=`before send for type \`${p}\``,y=u===void 0?void 0:(function(A){if(typeof A=="boolean")return Number(A);const M=typeof A=="string"?parseFloat(A):A;if(!(typeof M!="number"||isNaN(M)||M<0||M>1))return M;St&&ze.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(A)} of type ${JSON.stringify(typeof A)}.`)})(u);if(h&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),md(new Ta(`Discarding event because it's not included in the random sample (sampling rate = ${u})`,"log"));const _=p==="replay_event"?"replay":p,T=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,a,r,T).then((A=>{if(A===null)throw this.recordDroppedEvent("event_processor",_,e),new Ta("An event processor returned `null`, will not send event.","log");if(a.data&&a.data.__sentry__===!0)return A;const M=(function(j,C,k,D){const{beforeSend:P,beforeSendTransaction:Q,beforeSendSpan:F}=C;if(Bw(k)&&P)return P(k,D);if(Vw(k)){if(k.spans&&F){const H=[];for(const Y of k.spans){const J=F(Y);J?H.push(J):(R3(),j.recordDroppedEvent("before_send","span"))}k.spans=H}if(Q){if(k.spans){const H=k.spans.length;k.sdkProcessingMetadata={...k.sdkProcessingMetadata,spanCountBeforeProcessing:H}}return Q(k,D)}}return k})(this,o,A,a);return(function(j,C){const k=`${C} must return \`null\` or a valid event.`;if(Wd(j))return j.then((D=>{if(!fo(D)&&D!==null)throw new Ta(k);return D}),(D=>{throw new Ta(`${C} rejected with ${D}`)}));if(!fo(j)&&j!==null)throw new Ta(k);return j})(M,v)})).then((A=>{if(A===null){if(this.recordDroppedEvent("before_send",_,e),d){const C=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw new Ta(`${v} returned \`null\`, will not send event.`,"log")}const M=r&&r.getSession();if(!d&&M&&this._updateSessionFromEvent(M,A),d){const C=(A.sdkProcessingMetadata&&A.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(A.spans?A.spans.length:0);C>0&&this.recordDroppedEvent("before_send","span",C)}const j=A.transaction_info;if(d&&j&&A.transaction!==e.transaction){const C="custom";A.transaction_info={...j,source:C}}return this.sendEvent(A,a),A})).then(null,(A=>{throw A instanceof Ta?A:(this.captureException(A,{data:{__sentry__:!0},originalException:A}),new Ta(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${A}`))}))}_process(e){this._numProcessing++,e.then((a=>(this._numProcessing--,a)),(a=>(this._numProcessing--,a)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([a,r])=>{const[o,u]=a.split(":");return{reason:o,category:u,quantity:r}}))}_flushOutcomes(){St&&ze.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(St&&ze.log("No outcomes to send"));if(!this._dsn)return void(St&&ze.log("No dsn provided, will not send outcomes"));St&&ze.log("Sending outcomes:",e);const a=(r=e,Ul((o=this._options.tunnel&&pd(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:u||ic(),discarded_events:r}]]));var r,o,u;this.sendEnvelope(a)}}function Bw(t){return t.type===void 0}function Vw(t){return t.type==="transaction"}function G3(t){const e=[];function a(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return md(new Ta("Not adding Promise because buffer limit was reached."));const o=r();return e.indexOf(o)===-1&&e.push(o),o.then((()=>a(o))).then(null,(()=>a(o).then(null,(()=>{})))),o},drain:function(r){return new ma(((o,u)=>{let d=e.length;if(!d)return o(!0);const h=setTimeout((()=>{r&&r>0&&o(!1)}),r);e.forEach((p=>{Wr(p).then((()=>{--d||(clearTimeout(h),o(!0))}),u)}))}))}}}function Y3(t,{statusCode:e,headers:a},r=Date.now()){const o={...t},u=a&&a["x-sentry-rate-limits"],d=a&&a["retry-after"];if(u)for(const h of u.trim().split(",")){const[p,v,,,y]=h.split(":",5),_=parseInt(p,10),T=1e3*(isNaN(_)?60:_);if(v)for(const A of v.split(";"))A==="metric_bucket"&&y&&!y.split(";").includes("custom")||(o[A]=r+T);else o.all=r+T}else d?o.all=r+(function(h,p=Date.now()){const v=parseInt(`${h}`,10);if(!isNaN(v))return 1e3*v;const y=Date.parse(`${h}`);return isNaN(y)?6e4:y-p})(d,r):e===429&&(o.all=r+6e4);return o}function Z3(t,e,a=G3(t.bufferSize||64)){let r={};return{send:function(o){const u=[];if(Ew(o,((p,v)=>{const y=Mw(v);if((function(_,T,A=Date.now()){return(function(M,j){return M[j]||M.all||0})(_,T)>A})(r,y)){const _=Fw(p,v);t.recordDroppedEvent("ratelimit_backoff",y,_)}else u.push(p)})),u.length===0)return Wr({});const d=Ul(o[0],u),h=p=>{Ew(d,((v,y)=>{const _=Fw(v,y);t.recordDroppedEvent(p,Mw(y),_)}))};return a.add((()=>e({body:U3(d)}).then((p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&St&&ze.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=Y3(r,p),p)),(p=>{throw h("network_error"),p})))).then((p=>p),(p=>{if(p instanceof Ta)return St&&ze.error("Skipped sending event because buffer is full."),h("queue_overflow"),Wr({});throw p}))},flush:o=>a.drain(o)}}function Fw(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const J3=100;function Or(t,e){const a=vn(),r=oc();if(!a)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:u=J3}=a.getOptions();if(u<=0)return;const d={timestamp:ic(),...t},h=o?rc((()=>o(d,e))):d;h!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",h,e),r.addBreadcrumb(h,u))}let qw;const Hw=new WeakMap,K3=()=>({name:"FunctionToString",setupOnce(){qw=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Zg(this),a=Hw.has(vn())&&e!==void 0?e:this;return qw.apply(a,t)}}catch{}},setup(t){Hw.set(t,!0)}}),X3=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],W3=(t={})=>({name:"InboundFilters",processEvent(e,a,r){const o=r.getOptions(),u=(function(d={},h={}){return{allowUrls:[...d.allowUrls||[],...h.allowUrls||[]],denyUrls:[...d.denyUrls||[],...h.denyUrls||[]],ignoreErrors:[...d.ignoreErrors||[],...h.ignoreErrors||[],...d.disableErrorDefaults?[]:X3],ignoreTransactions:[...d.ignoreTransactions||[],...h.ignoreTransactions||[]],ignoreInternal:d.ignoreInternal===void 0||d.ignoreInternal}})(t,o);return(function(d,h){return h.ignoreInternal&&(function(p){try{return p.exception.values[0].type==="SentryError"}catch{}return!1})(d)?(St&&ze.warn(`Event dropped due to being internal Sentry Error.
Event: ${tr(d)}`),!0):(function(p,v){return p.type||!v||!v.length?!1:(function(y){const _=[];y.message&&_.push(y.message);let T;try{T=y.exception.values[y.exception.values.length-1]}catch{}return T&&T.value&&(_.push(T.value),T.type&&_.push(`${T.type}: ${T.value}`)),_})(p).some((y=>Lu(y,v)))})(d,h.ignoreErrors)?(St&&ze.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${tr(d)}`),!0):(function(p){return p.type||!p.exception||!p.exception.values||p.exception.values.length===0?!1:!p.message&&!p.exception.values.some((v=>v.stacktrace||v.type&&v.type!=="Error"||v.value))})(d)?(St&&ze.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${tr(d)}`),!0):(function(p,v){if(p.type!=="transaction"||!v||!v.length)return!1;const y=p.transaction;return!!y&&Lu(y,v)})(d,h.ignoreTransactions)?(St&&ze.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${tr(d)}`),!0):(function(p,v){if(!v||!v.length)return!1;const y=Uu(p);return!!y&&Lu(y,v)})(d,h.denyUrls)?(St&&ze.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${tr(d)}.
Url: ${Uu(d)}`),!0):(function(p,v){if(!v||!v.length)return!0;const y=Uu(p);return!y||Lu(y,v)})(d,h.allowUrls)?!1:(St&&ze.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${tr(d)}.
Url: ${Uu(d)}`),!0)})(e,u)?null:e}});function Uu(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(a=[]){for(let r=a.length-1;r>=0;r--){const o=a[r];if(o&&o.filename!=="<anonymous>"&&o.filename!=="[native code]")return o.filename||null}return null})(e):null}catch{return St&&ze.error(`Cannot extract url for event ${tr(t)}`),null}}function eR(t,e,a=250,r,o,u,d){if(!(u.exception&&u.exception.values&&d&&Kr(d.originalException,Error)))return;const h=u.exception.values.length>0?u.exception.values[u.exception.values.length-1]:void 0;var p,v;h&&(u.exception.values=(p=Ap(t,e,o,d.originalException,r,u.exception.values,h,0),v=a,p.map((y=>(y.value&&(y.value=ao(y.value,v)),y)))))}function Ap(t,e,a,r,o,u,d,h){if(u.length>=a+1)return u;let p=[...u];if(Kr(r[o],Error)){$w(d,h);const v=t(e,r[o]),y=p.length;Qw(v,o,y,h),p=Ap(t,e,a,r[o],o,[v,...p],v,y)}return Array.isArray(r.errors)&&r.errors.forEach(((v,y)=>{if(Kr(v,Error)){$w(d,h);const _=t(e,v),T=p.length;Qw(_,`errors[${y}]`,T,h),p=Ap(t,e,a,v,o,[_,...p],_,T)}})),p}function $w(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Qw(t,e,a,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:a,parent_id:r}}function Pm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const a=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:a,hash:r,relative:e[5]+a+r}}function tR(){"console"in lt&&Sp.forEach((function(t){t in lt.console&&Jn(lt.console,t,(function(e){return hd[t]=e,function(...a){Aa("console",{args:a,level:t});const r=hd[t];r&&r.apply(lt.console,a)}}))}))}function nR(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const aR=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if((function(a,r){return r?!!((function(o,u){const d=o.message,h=u.message;return!(!d&&!h||d&&!h||!d&&h||d!==h||!Yw(o,u)||!Gw(o,u))})(a,r)||(function(o,u){const d=Zw(u),h=Zw(o);return!(!d||!h||d.type!==h.type||d.value!==h.value||!Yw(o,u)||!Gw(o,u))})(a,r)):!1})(e,t))return St&&ze.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function Gw(t,e){let a=hw(t),r=hw(e);if(!a&&!r)return!0;if(a&&!r||!a&&r||r.length!==a.length)return!1;for(let o=0;o<r.length;o++){const u=r[o],d=a[o];if(u.filename!==d.filename||u.lineno!==d.lineno||u.colno!==d.colno||u.function!==d.function)return!1}return!0}function Yw(t,e){let a=t.fingerprint,r=e.fingerprint;if(!a&&!r)return!0;if(a&&!r||!a&&r)return!1;try{return a.join("")===r.join("")}catch{return!1}}function Zw(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Jw(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Lm=lt;function Op(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function sR(){if(typeof EdgeRuntime=="string")return!0;if(!(function(){if(!("fetch"in Lm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(Op(Lm.fetch))return!0;let t=!1;const e=Lm.document;if(e&&typeof e.createElement=="function")try{const a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(t=Op(a.contentWindow.fetch)),e.head.removeChild(a)}catch(a){ci&&ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return t}function rR(t,e){const a="fetch";qr(a,t),Hr(a,(()=>(function(r,o=!1){o&&!sR()||Jn(lt,"fetch",(function(u){return function(...d){const h=new Error,{method:p,url:v}=(function(_){if(_.length===0)return{method:"GET",url:""};if(_.length===2){const[A,M]=_;return{url:Kw(A),method:Dp(M,"method")?String(M.method).toUpperCase():"GET"}}const T=_[0];return{url:Kw(T),method:Dp(T,"method")?String(T.method).toUpperCase():"GET"}})(d),y={args:d,fetchData:{method:p,url:v},startTimestamp:1e3*ws(),virtualError:h};return r||Aa("fetch",{...y}),u.apply(lt,d).then((async _=>(r?r(_):Aa("fetch",{...y,endTimestamp:1e3*ws(),response:_}),_)),(_=>{throw Aa("fetch",{...y,endTimestamp:1e3*ws(),error:_}),Qg(_)&&_.stack===void 0&&(_.stack=h.stack,Xr(_,"framesToPop",1)),_}))}}))})(void 0,e)))}function Dp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Kw(t){return typeof t=="string"?t:t?Dp(t,"url")?t.url:t.toString?t.toString():"":""}const Bu=lt,sn=lt;let Rp=0;function Xw(){return Rp>0}function go(t,e={}){if(!(function(r){return typeof r=="function"})(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(Zg(t))return t}catch{return t}const a=function(...r){try{const o=r.map((u=>go(u,e)));return t.apply(this,o)}catch(o){throw Rp++,setTimeout((()=>{Rp--})),(function(...u){const d=Kg(Kd());if(u.length===2){const[h,p]=u;return h?d.withSetScope(h,p):d.withScope(p)}d.withScope(u[0])})((u=>{var d;u.addEventProcessor((h=>(e.mechanism&&(Np(h,void 0),ho(h,e.mechanism)),h.extra={...h.extra,arguments:r},h))),d=o,ui().captureException(d,void 0)})),o}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])}catch{}fN(a,t),Xr(t,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get:()=>t.name})}catch{}return a}const tf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ev(t,e){const a=tv(t,e),r={type:lR(e),value:cR(e)};return a.length&&(r.stacktrace={frames:a}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iR(t,e,a,r){const o=vn(),u=o&&o.getOptions().normalizeDepth,d=(function(v){for(const y in v)if(Object.prototype.hasOwnProperty.call(v,y)){const _=v[y];if(_ instanceof Error)return _}})(e),h={__serialized__:vN(e,u)};if(d)return{exception:{values:[ev(t,d)]},extra:h};const p={exception:{values:[{type:Xd(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:uR(e,{isUnhandledRejection:r})}]},extra:h};if(a){const v=tv(t,a);v.length&&(p.exception.values[0].stacktrace={frames:v})}return p}function zm(t,e){return{exception:{values:[ev(t,e)]}}}function tv(t,e){const a=e.stacktrace||e.stack||"",r=(function(u){return u&&oR.test(u.message)?1:0})(e),o=(function(u){return typeof u.framesToPop=="number"?u.framesToPop:0})(e);try{return t(a,r,o)}catch{}return[]}const oR=/Minified React error #\d+;/i;function wN(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function lR(t){const e=t&&t.name;return!e&&wN(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function cR(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:wN(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function Pp(t,e,a,r,o){let u;if(cN(e)&&e.error)return zm(t,e.error);if(pw(e)||Co(e,"DOMException")){const d=e;if("stack"in e)u=zm(t,e);else{const h=d.name||(pw(d)?"DOMError":"DOMException"),p=d.message?`${h}: ${d.message}`:h;u=Lp(t,p,a,r),Np(u,p)}return"code"in d&&(u.tags={...u.tags,"DOMException.code":`${d.code}`}),u}return Qg(e)?zm(t,e):fo(e)||Xd(e)?(u=iR(t,e,a,o),ho(u,{synthetic:!0}),u):(u=Lp(t,e,a,r),Np(u,`${e}`),ho(u,{synthetic:!0}),u)}function Lp(t,e,a,r){const o={};if(r&&a){const u=tv(t,a);u.length&&(o.exception={values:[{value:e,stacktrace:{frames:u}}]}),ho(o,{synthetic:!0})}if(Gg(e)){const{__sentry_template_string__:u,__sentry_template_values__:d}=e;return o.logentry={message:u,params:d},o}return o.message=e,o}function uR(t,{isUnhandledRejection:e}){const a=(function(o,u=40){const d=Object.keys(hN(o));d.sort();const h=d[0];if(!h)return"[object has no keys]";if(h.length>=u)return ao(h,u);for(let p=d.length;p>0;p--){const v=d.slice(0,p).join(", ");if(!(v.length>u))return p===d.length?v:ao(v,u)}return""})(t),r=e?"promise rejection":"exception";return cN(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Xd(t)?`Event \`${(function(o){try{const u=Object.getPrototypeOf(o);return u?u.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${a}`}class dR extends Q3{constructor(e){const a={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,o,u=[o],d="npm"){const h=r._metadata||{};h.sdk||(h.sdk={name:`sentry.javascript.${o}`,packages:u.map((p=>({name:`${d}:@sentry/${p}`,version:Fr}))),version:Fr}),r._metadata=h})(a,"browser",["browser"],sn.SENTRY_SDK_SOURCE||"npm"),super(a),a.sendClientReports&&sn.document&&sn.document.addEventListener("visibilitychange",(()=>{sn.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,a){return(function(r,o,u,d){const h=Pp(r,o,u&&u.syntheticException||void 0,d);return ho(h),h.level="error",u&&u.event_id&&(h.event_id=u.event_id),Wr(h)})(this._options.stackParser,e,a,this._options.attachStacktrace)}eventFromMessage(e,a="info",r){return(function(o,u,d="info",h,p){const v=Lp(o,u,h&&h.syntheticException||void 0,p);return v.level=d,h&&h.event_id&&(v.event_id=h.event_id),Wr(v)})(this._options.stackParser,e,a,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(tf&&ze.warn("SDK not enabled, will not capture user feedback."));const a=(function(r,{metadata:o,tunnel:u,dsn:d}){const h={event_id:r.event_id,sent_at:new Date().toISOString(),...o&&o.sdk&&{sdk:{name:o.sdk.name,version:o.sdk.version}},...!!u&&!!d&&{dsn:pd(d)}};return Ul(h,[(function(v){return[{type:"user_report"},v]})(r)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(a)}_prepareEvent(e,a,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,a,r)}}const fR=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tn=lt;let Ww,Im,Um,Vu;function hR(){if(!Tn.document)return;const t=Aa.bind(null,"dom"),e=eS(t,!0);Tn.document.addEventListener("click",e,!1),Tn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((a=>{const r=Tn[a],o=r&&r.prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(Jn(o,"addEventListener",(function(u){return function(d,h,p){if(d==="click"||d=="keypress")try{const v=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=v[d]=v[d]||{refCount:0};if(!y.handler){const _=eS(t);y.handler=_,u.call(this,d,_,p)}y.refCount++}catch{}return u.call(this,d,h,p)}})),Jn(o,"removeEventListener",(function(u){return function(d,h,p){if(d==="click"||d=="keypress")try{const v=this.__sentry_instrumentation_handlers__||{},y=v[d];y&&(y.refCount--,y.refCount<=0&&(u.call(this,d,y.handler,p),y.handler=void 0,delete v[d]),Object.keys(v).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return u.call(this,d,h,p)}})))}))}function eS(t,e=!1){return a=>{if(!a||a._sentryCaptured)return;const r=(function(u){try{return u.target}catch{return null}})(a);if((function(u,d){return u==="keypress"&&(!d||!d.tagName||d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!d.isContentEditable)})(a.type,r))return;Xr(a,"_sentryCaptured",!0),r&&!r._sentryId&&Xr(r,"_sentryId",va());const o=a.type==="keypress"?"input":a.type;(function(u){if(u.type!==Im)return!1;try{if(!u.target||u.target._sentryId!==Um)return!1}catch{}return!0})(a)||(t({event:a,name:o,global:e}),Im=a.type,Um=r?r._sentryId:void 0),clearTimeout(Ww),Ww=Tn.setTimeout((()=>{Um=void 0,Im=void 0}),1e3)}}function SN(t){const e="history";qr(e,t),Hr(e,mR)}function mR(){if(!(function(){const a=Bu.chrome,r=a&&a.app&&a.app.runtime,o="history"in Bu&&!!Bu.history.pushState&&!!Bu.history.replaceState;return!r&&o})())return;const t=Tn.onpopstate;function e(a){return function(...r){const o=r.length>2?r[2]:void 0;if(o){const u=Vu,d=String(o);Vu=d,Aa("history",{from:u,to:d})}return a.apply(this,r)}}Tn.onpopstate=function(...a){const r=Tn.location.href,o=Vu;if(Vu=r,Aa("history",{from:o,to:r}),t)try{return t.apply(this,a)}catch{}},Jn(Tn.history,"pushState",e),Jn(Tn.history,"replaceState",e)}const Xu={};function tS(t){Xu[t]=void 0}const Cl="__sentry_xhr_v3__";function pR(){if(!Tn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,a,r){const o=new Error,u=1e3*ws(),d=ys(r[0])?r[0].toUpperCase():void 0,h=(function(v){if(ys(v))return v;try{return v.toString()}catch{}})(r[1]);if(!d||!h)return e.apply(a,r);a[Cl]={method:d,url:h,request_headers:{}},d==="POST"&&h.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const p=()=>{const v=a[Cl];if(v&&a.readyState===4){try{v.status_code=a.status}catch{}Aa("xhr",{endTimestamp:1e3*ws(),startTimestamp:u,xhr:a,virtualError:o})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply:(v,y,_)=>(p(),v.apply(y,_))}):a.addEventListener("readystatechange",p),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(v,y,_){const[T,A]=_,M=y[Cl];return M&&ys(T)&&ys(A)&&(M.request_headers[T.toLowerCase()]=A),v.apply(y,_)}}),e.apply(a,r)}}),t.send=new Proxy(t.send,{apply(e,a,r){const o=a[Cl];return o?(r[0]!==void 0&&(o.body=r[0]),Aa("xhr",{startTimestamp:1e3*ws(),xhr:a}),e.apply(a,r)):e.apply(a,r)}})}function gR(t,e=(function(a){const r=Xu[a];if(r)return r;let o=Tn[a];if(Op(o))return Xu[a]=o.bind(Tn);const u=Tn.document;if(u&&typeof u.createElement=="function")try{const d=u.createElement("iframe");d.hidden=!0,u.head.appendChild(d);const h=d.contentWindow;h&&h[a]&&(o=h[a]),u.head.removeChild(d)}catch(d){fR&&ze.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,d)}return o&&(Xu[a]=o.bind(Tn))})("fetch")){let a=0,r=0;return Z3(t,(function(o){const u=o.body.length;a+=u,r++;const d={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:a<=6e4&&r<15,...t.fetchOptions};if(!e)return tS("fetch"),md("No fetch implementation available");try{return e(t.url,d).then((h=>(a-=u,r--,{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}})))}catch(h){return tS("fetch"),a-=u,r--,md(h)}}))}function Bm(t,e,a,r){const o={filename:t,function:e==="<anonymous>"?Vr:e,in_app:!0};return a!==void 0&&(o.lineno=a),r!==void 0&&(o.colno=r),o}const vR=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,yR=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,bR=/\((\S*)(?::(\d+))(?::(\d+))\)/,xR=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,wR=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,SR=(function(...t){const e=t.sort(((a,r)=>a[0]-r[0])).map((a=>a[1]));return(a,r=0,o=0)=>{const u=[],d=a.split(`
`);for(let h=r;h<d.length;h++){const p=d[h];if(p.length>1024)continue;const v=uw.test(p)?p.replace(uw,"$1"):p;if(!v.match(/\S*Error: /)){for(const y of e){const _=y(v);if(_){u.push(_);break}}if(u.length>=50+o)break}}return(function(h){if(!h.length)return[];const p=Array.from(h);return/sentryWrapped/.test(Pu(p).function||"")&&p.pop(),p.reverse(),dw.test(Pu(p).function||"")&&(p.pop(),dw.test(Pu(p).function||"")&&p.pop()),p.slice(0,50).map((v=>({...v,filename:v.filename||Pu(p).filename,function:v.function||Vr})))})(u.slice(o))}})([30,t=>{const e=vR.exec(t);if(e){const[,r,o,u]=e;return Bm(r,Vr,+o,+u)}const a=yR.exec(t);if(a){if(a[2]&&a[2].indexOf("eval")===0){const u=bR.exec(a[2]);u&&(a[2]=u[1],a[3]=u[2],a[4]=u[3])}const[r,o]=nS(a[1]||Vr,a[2]);return Bm(o,r,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}}],[50,t=>{const e=xR.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=wR.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let a=e[3],r=e[1]||Vr;return[r,a]=nS(r,a),Bm(a,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),nS=(t,e)=>{const a=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return a||r?[t.indexOf("@")!==-1?t.split("@")[0]:Vr,a?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},aS=1024,_R=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(a){var r;e.console&&(function(o){const u="console";qr(u,o),Hr(u,tR)})((function(o){return function(u){if(vn()!==o)return;const d={category:"console",data:{arguments:u.args,logger:"console"},level:nR(u.level),message:gw(u.args," ")};if(u.level==="assert"){if(u.args[0]!==!1)return;d.message=`Assertion failed: ${gw(u.args.slice(1)," ")||"console.assert"}`,d.data.arguments=u.args.slice(1)}Or(d,{input:u.args,level:u.level})}})(a)),e.dom&&(r=(function(o,u){return function(d){if(vn()!==o)return;let h,p,v=typeof u=="object"?u.serializeAttribute:void 0,y=typeof u=="object"&&typeof u.maxStringLength=="number"?u.maxStringLength:void 0;y&&y>aS&&(tf&&ze.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${y} was configured. Sentry will use 1024 instead.`),y=aS),typeof v=="string"&&(v=[v]);try{const T=d.event,A=(function(M){return!!M&&!!M.target})(T)?T.target:T;h=dN(A,{keyAttrs:v,maxStringLength:y}),p=(function(M){if(!Yg.HTMLElement)return null;let j=M;for(let C=0;C<5;C++){if(!j)return null;if(j instanceof HTMLElement){if(j.dataset.sentryComponent)return j.dataset.sentryComponent;if(j.dataset.sentryElement)return j.dataset.sentryElement}j=j.parentNode}return null})(A)}catch{h="<unknown>"}if(h.length===0)return;const _={category:`ui.${d.name}`,message:h};p&&(_.data={"ui.component_name":p}),Or(_,{event:d.event,name:d.name,global:d.global})}})(a,e.dom),qr("dom",r),Hr("dom",hR)),e.xhr&&(function(o){qr("xhr",o),Hr("xhr",pR)})((function(o){return function(u){if(vn()!==o)return;const{startTimestamp:d,endTimestamp:h}=u,p=u.xhr[Cl];if(!d||!h||!p)return;const{method:v,url:y,status_code:_,body:T}=p,A={method:v,url:y,status_code:_},M={xhr:u.xhr,input:T,startTimestamp:d,endTimestamp:h};Or({category:"xhr",data:A,type:"http",level:Jw(_)},M)}})(a)),e.fetch&&rR((function(o){return function(u){if(vn()!==o)return;const{startTimestamp:d,endTimestamp:h}=u;if(h&&(!u.fetchData.url.match(/sentry_key/)||u.fetchData.method!=="POST"))if(u.error)Or({category:"fetch",data:u.fetchData,level:"error",type:"http"},{data:u.error,input:u.args,startTimestamp:d,endTimestamp:h});else{const p=u.response,v={...u.fetchData,status_code:p&&p.status},y={input:u.args,response:p,startTimestamp:d,endTimestamp:h};Or({category:"fetch",data:v,type:"http",level:Jw(v.status_code)},y)}}})(a)),e.history&&SN((function(o){return function(u){if(vn()!==o)return;let d=u.from,h=u.to;const p=Pm(sn.location.href);let v=d?Pm(d):void 0;const y=Pm(h);v&&v.path||(v=p),p.protocol===y.protocol&&p.host===y.host&&(h=y.relative),p.protocol===v.protocol&&p.host===v.host&&(d=v.relative),Or({category:"navigation",data:{from:d,to:h}})}})(a)),e.sentry&&a.on("beforeSendEvent",(function(o){return function(u){vn()===o&&Or({category:"sentry."+(u.type==="transaction"?"transaction":"event"),event_id:u.event_id,level:u.level,message:tr(u)},{event:u})}})(a))}}},jR=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],NR=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Jn(sn,"setTimeout",sS),e.setInterval&&Jn(sn,"setInterval",sS),e.requestAnimationFrame&&Jn(sn,"requestAnimationFrame",TR),e.XMLHttpRequest&&"XMLHttpRequest"in sn&&Jn(XMLHttpRequest.prototype,"send",CR);const a=e.eventTarget;a&&(Array.isArray(a)?a:jR).forEach(kR)}}};function sS(t){return function(...e){const a=e[0];return e[0]=go(a,{mechanism:{data:{function:rr(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function TR(t){return function(e){return t.apply(this,[go(e,{mechanism:{data:{function:"requestAnimationFrame",handler:rr(t)},handled:!1,type:"instrument"}})])}}function CR(t){return function(...e){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((r=>{r in a&&typeof a[r]=="function"&&Jn(a,r,(function(o){const u={mechanism:{data:{function:r,handler:rr(o)},handled:!1,type:"instrument"}},d=Zg(o);return d&&(u.mechanism.data.handler=rr(d)),go(o,u)}))})),t.apply(this,e)}}function kR(t){const e=sn[t],a=e&&e.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Jn(a,"addEventListener",(function(r){return function(o,u,d){try{typeof u.handleEvent=="function"&&(u.handleEvent=go(u.handleEvent,{mechanism:{data:{function:"handleEvent",handler:rr(u),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,go(u,{mechanism:{data:{function:"addEventListener",handler:rr(u),target:t},handled:!1,type:"instrument"}}),d])}})),Jn(a,"removeEventListener",(function(r){return function(o,u,d){try{const h=u.__sentry_wrapped__;h&&r.call(this,o,h,d)}catch{}return r.call(this,o,u,d)}})))}const ER=()=>({name:"BrowserSession",setupOnce(){sn.document!==void 0?(Rw({ignoreDuration:!0}),Pw(),SN((({from:t,to:e})=>{t!==void 0&&t!==e&&(Rw({ignoreDuration:!0}),Pw())}))):tf&&ze.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),MR=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){e.onerror&&((function(r){(function(o){const u="error";qr(u,o),Hr(u,x3)})((o=>{const{stackParser:u,attachStacktrace:d}=iS();if(vn()!==r||Xw())return;const{msg:h,url:p,line:v,column:y,error:_}=o,T=(function(A,M,j,C){const k=A.exception=A.exception||{},D=k.values=k.values||[],P=D[0]=D[0]||{},Q=P.stacktrace=P.stacktrace||{},F=Q.frames=Q.frames||[],H=C,Y=j,J=ys(M)&&M.length>0?M:(function(){try{return Yg.document.location.href}catch{return""}})();return F.length===0&&F.push({colno:H,filename:J,function:Vr,in_app:!0,lineno:Y}),A})(Pp(u,_||h,void 0,d,!1),p,v,y);T.level="error",Dw(T,{originalException:_,mechanism:{handled:!1,type:"onerror"}})}))})(a),rS("onerror")),e.onunhandledrejection&&((function(r){(function(o){const u="unhandledrejection";qr(u,o),Hr(u,w3)})((o=>{const{stackParser:u,attachStacktrace:d}=iS();if(vn()!==r||Xw())return;const h=(function(v){if(_p(v))return v;try{if("reason"in v)return v.reason;if("detail"in v&&"reason"in v.detail)return v.detail.reason}catch{}return v})(o),p=_p(h)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(h)}`}]}}:Pp(u,h,void 0,d,!0);p.level="error",Dw(p,{originalException:h,mechanism:{handled:!1,type:"onunhandledrejection"}})}))})(a),rS("onunhandledrejection"))}}};function rS(t){tf&&ze.log(`Global Handler attached: ${t}`)}function iS(){const t=vn();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const AR=()=>({name:"HttpContext",preprocessEvent(t){if(!sn.navigator&&!sn.location&&!sn.document)return;const e=t.request&&t.request.url||sn.location&&sn.location.href,{referrer:a}=sn.document||{},{userAgent:r}=sn.navigator||{},o={...t.request&&t.request.headers,...a&&{Referer:a},...r&&{"User-Agent":r}},u={...t.request,...e&&{url:e},headers:o};t.request=u}}),OR=(t={})=>{const e=t.limit||5,a=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,o,u){const d=u.getOptions();eR(ev,d.stackParser,d.maxValueLength,a,e,r,o)}}};var oS="new",lS="loading",cS="loaded",zp="joining-meeting",zr="joined-meeting",Dr="left-meeting",Xs="error",DR="playable",Vm="unknown",RR="full",PR="base",uS="no-room",LR="end-of-life",zR="connection-error",IR="iframe-ready-for-launch-config",UR="iframe-launch-config",BR="theme-updated",VR="loading",FR="load-attempt-failed",dS="loaded",qR="started-camera",HR="camera-error",$R="joining-meeting",QR="joined-meeting",GR="left-meeting",YR="participant-joined",ZR="participant-updated",JR="participant-left",KR="participant-counts-updated",XR="access-state-updated",WR="meeting-session-summary-updated",e5="meeting-session-state-updated",t5="waiting-participant-added",n5="waiting-participant-updated",a5="waiting-participant-removed",s5="track-started",r5="track-stopped",i5="transcription-started",o5="transcription-stopped",l5="transcription-error",fS="recording-started",hS="recording-stopped",c5="recording-stats",u5="recording-error",d5="recording-upload-completed",f5="recording-data",h5="app-message",m5="transcription-message",p5="remote-media-player-started",g5="remote-media-player-updated",v5="remote-media-player-stopped",y5="local-screen-share-started",b5="local-screen-share-stopped",x5="local-screen-share-canceled",w5="active-speaker-change",S5="active-speaker-mode-change",_5="network-quality-change",j5="network-connection",N5="cpu-load-change",T5="face-counts-updated",Fu="fullscreen",qu="exited-fullscreen",C5="live-streaming-started",k5="live-streaming-updated",E5="live-streaming-stopped",M5="live-streaming-error",A5="lang-updated",O5="receive-settings-updated",mS="input-settings-updated",pS="nonfatal-error",gS="error",Fm=4096,vS=102400,qm="iframe-call-message",yS="local-screen-start",bS="daily-method-update-live-streaming-endpoints",Hu="transmit-log",bs="daily-custom-track",Wu={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},_N={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Ip={PLAY:"play",PAUSE:"pause"},Hm=["jpg","png","jpeg"],D5="add-endpoints",R5="remove-endpoints",xS="sip-call-transfer";function ya(){return!Xe()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Xe(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function jN(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function P5(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(ei(),gd())||Xe())}function wS(){if(Xe()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var Up="none",L5="software",z5="hardware",I5=(function(){try{var t,e=document.createElement("canvas"),a=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(a=!0,t=e.getContext("webgl2"));var r=t!=null;return e.remove(),r?a?L5:z5:Up}catch{return Up}})();function NN(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Xe()&&I5!==Up&&(t?(function(){return SS()?!1:["Chrome","Firefox"].includes(ei())})():(function(){if(SS())return!1;var e=ei();if(e==="Safari"){var a=av();if(a.major<15||a.major===15&&a.minor<4)return!1}return e==="Chrome"?nv().major>=77:e==="Firefox"?sv().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}function TN(){if(Xe()||CN()||typeof AudioWorkletNode>"u")return!1;switch(ei()){case"Chrome":case"Firefox":return!0;case"Safari":var t=gd();return t.major>17||t.major===17&&t.minor>=4}return!1}function $m(){return jN()&&typeof MediaStreamTrack<"u"&&!(function(){var t,e=ei();if(!ya())return!0;switch(e){case"Chrome":return(t=nv()).major&&t.major>0&&t.major<75;case"Firefox":return(t=sv()).major<91;case"Safari":return(t=av()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function CN(){return ya().match(/Linux; Android/)}function SS(){var t,e=ya(),a=e.match(/Mac/)&&(!Xe()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||a)||!!ya().match(/DailyAnd\//)||void 0}function ei(){if(typeof window<"u"){var t=ya();return kN()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||EN()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function gd(){switch(ei()){case"Chrome":return nv();case"Safari":return av();case"Firefox":return sv();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var a=ya().match(/Edge\/(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2])}catch{}}return{major:t,minor:e}})()}}function nv(){var t=0,e=0,a=0,r=0,o=!1;if(typeof window<"u"){var u=ya(),d=u.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(d)try{t=parseInt(d[1]),e=parseInt(d[2]),a=parseInt(d[3]),r=parseInt(d[4]),o=u.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:a,patch:r,opera:o}}function kN(){return!!ya().match(/iPad|iPhone|iPod/i)&&jN()}function EN(){return ya().indexOf("AppleWebKit/605.1.15")>-1}function av(){var t=0,e=0,a=0;if(typeof window<"u"){var r=ya().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),a=parseInt(r[4])}catch{}else(kN()||EN())&&(t=14,e=0,a=3)}return{major:t,minor:e,point:a}}function sv(){var t=0,e=0;if(typeof window<"u"){var a=ya().match(/Firefox\/(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2])}catch{}}return{major:t,minor:e}}var MN=(function(){return ea((function t(){Wn(this,t)}),[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,a){_l()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,a){_l()}},{key:"sendMessageToCallMachine",value:function(t,e,a,r){_l()}},{key:"sendMessageToDailyJs",value:function(t,e){_l()}},{key:"removeListener",value:function(t){_l()}}])})();function _S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.push.apply(a,r)}return a}function Qm(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(a),!0).forEach((function(r){Fa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_S(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function AN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(AN=function(){return!!t})()}var U5=(function(){function t(){var e,a,r,o;return Wn(this,t),a=this,r=Da(r=t),(e=Yd(a,AN()?Reflect.construct(r,[],Da(a).constructor):r.apply(a,o)))._wrappedListeners={},e._messageCallbacks={},e}return Zd(t,MN),ea(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,a,r){var o=this,u=function(d){if(d.data&&d.data.what==="iframe-call-message"&&(!d.data.callClientId||d.data.callClientId===a)&&(!d.data.from||d.data.from!=="module")){var h=Qm({},d.data);if(delete h.from,h.callbackStamp&&o._messageCallbacks[h.callbackStamp]){var p=h.callbackStamp;o._messageCallbacks[p].call(r,h),delete o._messageCallbacks[p]}delete h.what,delete h.callbackStamp,e.call(r,h)}};this._wrappedListeners[e]=u,window.addEventListener("message",u)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,a,r){var o=function(u){var d;if(!(!u.data||u.data.what!==qm||!u.data.action||u.data.from&&u.data.from!=="module"||u.data.callClientId&&a&&u.data.callClientId!==a||u!=null&&(d=u.data)!==null&&d!==void 0&&d.callFrameId)){var h=u.data;e.call(r,h)}};this._wrappedListeners[e]=o,window.addEventListener("message",o)}},{key:"sendMessageToCallMachine",value:function(e,a,r,o){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var u=Qm({},e);if(u.what=qm,u.from="module",u.callClientId=r,a){var d=Jd();this._messageCallbacks[d]=a,u.callbackStamp=d}var h=o?o.contentWindow:window,p=this._callMachineTargetOrigin(o);p&&h.postMessage(u,p)}},{key:"sendMessageToDailyJs",value:function(e,a){e.what=qm,e.callClientId=a,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var a=this._wrappedListeners[e];a&&(window.removeEventListener("message",a),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,a,r){var o=Qm({},e);o.callClientId=r;var u=a?a.contentWindow:window,d=this._callMachineTargetOrigin(a);d&&u.postMessage(o,d)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,a){var r=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===a)&&(!o.data.from||o.data.from!=="module")){var u=o.data;e(u)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var a=this._wrappedListeners[e];a&&(window.removeEventListener("message",a),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])})();function jS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.push.apply(a,r)}return a}function ON(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(ON=function(){return!!t})()}var B5=(function(){function t(){var e,a,r,o;return Wn(this,t),a=this,r=Da(r=t),e=Yd(a,ON()?Reflect.construct(r,[],Da(a).constructor):r.apply(a,o)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new wp.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new wp.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return Zd(t,MN),ea(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,a,r){this._addListener(e,global.callMachineToDailyJsEmitter,a,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,a,r){this._addListener(e,global.dailyJsToCallMachineEmitter,a,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,a,r){this._sendMessage(e,global.dailyJsToCallMachineEmitter,r,a,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,a){this._sendMessage(e,global.callMachineToDailyJsEmitter,a,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var a=this._wrappedListeners[e];a&&(global.callMachineToDailyJsEmitter.removeListener("message",a),global.dailyJsToCallMachineEmitter.removeListener("message",a),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,a,r,o,u){var d=this,h=function(p){if(p.callClientId===r){if(p.callbackStamp&&d._messageCallbacks[p.callbackStamp]){var v=p.callbackStamp;d._messageCallbacks[v].call(o,p),delete d._messageCallbacks[v]}e.call(o,p)}};this._wrappedListeners[e]=h,a.addListener("message",h)}},{key:"_sendMessage",value:function(e,a,r,o,u){var d=(function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?jS(Object(y),!0).forEach((function(_){Fa(p,_,y[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):jS(Object(y)).forEach((function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(y,_))}))}return p})({},e);if(d.callClientId=r,o){var h=Jd();this._messageCallbacks[h]=o,d.callbackStamp=h}a.emit("message",d)}}])})(),Bp="replace",Vp="shallow-merge",NS=[Bp,Vp],V5=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.data,r=e.mergeStrategy,o=r===void 0?Bp:r;Wn(this,t),t._validateMergeStrategy(o),t._validateData(a,o),this.mergeStrategy=o,this.data=a}return ea(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,a){return Object.keys(e).length===0&&a===Vp}},{key:"_validateMergeStrategy",value:function(e){if(!NS.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(NS,"]"))}},{key:"_validateData",value:function(e,a){if(!(function(h){if(h==null||nt(h)!=="object")return!1;var p=Object.getPrototypeOf(h);return p==null||p===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),a===Bp){var o=JSON.parse(r);_n(o,e)||console.warn("The meeting session data provided will be modified when serialized.",o,e)}else if(a===Vp){for(var u in e)if(Object.hasOwnProperty.call(e,u)&&e[u]!==void 0){var d=JSON.parse(JSON.stringify(e[u]));_n(e[u],d)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",d,e[u])}}}catch(h){throw Error("Meeting session data must be serializable to JSON: ".concat(h))}if(r.length>vS)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(vS,"."))}}])})();function DN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(DN=function(){return!!t})()}function Fp(t){var e=typeof Map=="function"?new Map:void 0;return Fp=function(a){if(a===null||!(function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}})(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(a))return e.get(a);e.set(a,r)}function r(){return(function(o,u,d){if(DN())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,u);var p=new(o.bind.apply(o,h));return d&&Il(p,d.prototype),p})(a,arguments,Da(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Il(r,a)},Fp(t)}function RN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(RN=function(){return!!t})()}function TS(t){var e,a=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(a){var r=a.indexOf(t);r!==-1&&a.splice(r,1)}}var F5=(function(){return ea((function t(e){Wn(this,t),this._currentLoad=null,this._callClientId=e}),[{key:"load",value:function(){var t,e=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new q5(a,(function(){r(!1)}),(function(u,d){d||TS(e._callClientId),o(u,d)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),TS(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])})(),q5=(function(){return ea((function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Wn(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=a,this._failureCallback=r}),[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(a){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(a,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout((function(){t._currentAttempt.cancelled||(t._currentAttempt=new CS(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())}),3e3))};this._currentAttempt=new CS(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])})(),Gm=(function(){function t(){return Wn(this,t),e=this,r=arguments,a=Da(a=t),Yd(e,RN()?Reflect.construct(a,r||[],Da(e).constructor):a.apply(e,r));var e,a,r}return Zd(t,Fp(Error)),ea(t)})(),vd=2e4,CS=(function(){return ea((function e(a,r,o){Wn(this,e),this._loadAttemptImpl=Xe()||!a.avoidEval?new H5(a,r,o):new $5(a,r,o)}),[{key:"start",value:(t=Re((function*(){return this._loadAttemptImpl.start()})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t})(),H5=(function(){return ea((function o(u,d,h){Wn(this,o),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=u,this._successCallback=d,this._failureCallback=h}),[{key:"start",value:(r=Re((function*(){var o=ud(this._dailyConfig);!(yield this._tryLoadFromIOSCache(o))&&this._loadFromNetwork(o)})),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(a=Re((function*(o){if(!this._iosCache)return!1;try{var u=yield this._iosCache.get(o);return!!this.cancelled||!!u&&(u.code?(Function('"use strict";'+u.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=u.refetchHeaders,!1))}catch{return!1}})),function(o){return a.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Re((function*(o){var u=this;this._networkTimeout=setTimeout((function(){u._networkTimedOut=!0,u._failureCallback({msg:"Timed out (>".concat(vd," ms) when loading call object bundle ").concat(o),type:"timeout"})}),vd);try{var d=this._refetchHeaders?{headers:this._refetchHeaders}:{},h=yield fetch(o,d);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Gm;var p=yield this._getBundleCodeFromResponse(o,h);if(this.cancelled)throw new Gm;Function('"use strict";'+p)(),this._iosCache&&this._iosCache.set(o,p,h.headers),this.succeeded=!0,this._successCallback()}catch(v){if(clearTimeout(this._networkTimeout),v instanceof Gm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(o,": ").concat(v),type:v.message})}})),function(o){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Re((function*(o,u){if(u.ok)return yield u.text();if(this._iosCache&&u.status===304)return(yield this._iosCache.renew(o,u.headers)).code;throw new Error("Received ".concat(u.status," response"))})),function(o,u){return t.apply(this,arguments)})}]);var t,e,a,r})(),$5=(function(){return ea((function t(e,a,r){Wn(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=a,this._failureCallback=r,this._attemptId=Jd(),this._networkTimeout=null,this._scriptElement=null}),[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=ud(this._dailyConfig);(typeof document>"u"?"undefined":nt(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(vd," ms) when loading call object bundle ").concat(t),type:"timeout"})}),vd);var a=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(o){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(o.target.src),type:o.message})},r.src=t,a.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])})(),$u=function(t,e,a){return G5(t.local,e,a)===!0},Q5=function(t,e,a){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(a==="video"?"Video":"Audio","Tracks")]()[0]},Wi=function(t,e,a,r){var o=Y5(t,e,a,r);return o&&o.pendingTrack},G5=function(t,e,a){if(!t)return!1;var r=function(u){switch(u){case"avatar":return!0;case"staged":return u;default:return!!u}},o=t.public.subscribedTracks;return o&&o[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(a)===-1&&o[e].custom?[!0,"staged"].includes(o[e].custom)?r(o[e].custom):r(o[e].custom[a]):r(o[e][a]):!o||r(o.ALL)},Y5=function(t,e,a,r){var o=Object.values(t.streams||{}).filter((function(u){return u.participantId===e&&u.type===a&&u.pendingTrack&&u.pendingTrack.kind===r})).sort((function(u,d){return new Date(d.starttime)-new Date(u.starttime)}));return o&&o[0]},Z5=function(t,e){var a=t.local.public.customTracks;if(a&&a[e])return a[e].track};function kS(t,e){for(var a=e.getState(),r=0,o=["cam","screen"];r<o.length;r++)for(var u=o[r],d=0,h=["video","audio"];d<h.length;d++){var p=h[d],v=u==="cam"?p:"screen".concat(p.charAt(0).toUpperCase()+p.slice(1)),y=t.tracks[v];if(y){var _=t.local?Q5(a,u,p):Wi(a,t.session_id,u,p);y.state==="playable"&&(y.track=_),y.persistentTrack=_}}}function ES(t,e){try{var a=e.getState();for(var r in t.tracks)if(!J5(r)){var o=t.tracks[r].kind;if(o){var u=t.tracks[r];if(u){var d=t.local?Z5(a,r):Wi(a,t.session_id,r,o);u.state==="playable"&&(t.tracks[r].track=d),u.persistentTrack=d}}else console.error("unknown type for custom track")}}catch(h){console.error(h)}}function J5(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function MS(t,e,a){var r=a.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var o=!0;try{var u=r.participants[t.session_id];u&&u.public&&u.public.rtcType&&u.public.rtcType.impl==="peer-to-peer"&&u.private&&!["connected","completed"].includes(u.private.peeringState)&&(o=!1)}catch(y){console.error(y)}if(!o)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&$u(r,t.session_id,"cam-audio")){var d=Wi(r,t.session_id,"cam","audio");d&&(e&&e.audioTrack&&e.audioTrack.id===d.id?t.audioTrack=d:d.muted||(t.audioTrack=d)),t.audioTrack||(t.audio=!1)}if(t.video&&$u(r,t.session_id,"cam-video")){var h=Wi(r,t.session_id,"cam","video");h&&(e&&e.videoTrack&&e.videoTrack.id===h.id?t.videoTrack=h:h.muted||(t.videoTrack=h)),t.videoTrack||(t.video=!1)}if(t.screen&&$u(r,t.session_id,"screen-audio")){var p=Wi(r,t.session_id,"screen","audio");p&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===p.id?t.screenAudioTrack=p:p.muted||(t.screenAudioTrack=p))}if(t.screen&&$u(r,t.session_id,"screen-video")){var v=Wi(r,t.session_id,"screen","video");v&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===v.id?t.screenVideoTrack=v:v.muted||(t.screenVideoTrack=v))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(y){console.error("unexpected error matching up tracks",y)}}}function K5(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return AS(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?AS(p,v):void 0}})(t))||e){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Ba=new Map,so=null;function X5(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return OS(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?OS(p,v):void 0}})(t))||e){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Va=new Map,Ol=null;function W5(t){PN()?(function(e){Ba.has(e)||(Ba.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(a){Ba.has(e)&&(Ba.get(e).lastDevicesString=JSON.stringify(a),so||(so=(function(){var r=Re((function*(){var o,u=yield navigator.mediaDevices.enumerateDevices(),d=K5(Ba.keys());try{for(d.s();!(o=d.n()).done;){var h=o.value,p=JSON.stringify(u);p!==Ba.get(h).lastDevicesString&&(Ba.get(h).lastDevicesString=p,h(u))}}catch(v){d.e(v)}finally{d.f()}}));return function(){return r.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",so)))})).catch((function(){})))})(t):(function(e){Va.has(e)||(Va.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(a){Va.has(e)&&(Va.get(e).lastDevicesString=JSON.stringify(a),Ol||(Ol=setInterval(Re((function*(){var r,o=yield navigator.mediaDevices.enumerateDevices(),u=X5(Va.keys());try{for(u.s();!(r=u.n()).done;){var d=r.value,h=JSON.stringify(o);h!==Va.get(d).lastDevicesString&&(Va.get(d).lastDevicesString=h,d(o))}}catch(p){u.e(p)}finally{u.f()}})),3e3)))})))})(t)}function eP(t){PN()?(function(e){Ba.has(e)&&(Ba.delete(e),Ba.size===0&&so&&(navigator.mediaDevices.removeEventListener("devicechange",so),so=null))})(t):(function(e){Va.has(e)&&(Va.delete(e),Va.size===0&&Ol&&(clearInterval(Ol),Ol=null))})(t)}function PN(){var t;return Xe()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var tP=new Set;function nP(t,e){return t&&t.readyState==="live"&&!(function(a,r){return a.muted&&!tP.has(a.id)})(t)}function DS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.push.apply(a,r)}return a}function Ws(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(a),!0).forEach((function(r){Fa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DS(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var kl=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),aP=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Dl=Object.values(kl),RS=["v","a","sv","sa","cv","ca"];Object.freeze(Dl.reduce((function(t,e,a){return t[e]=RS[a],t}),{})),Object.freeze(RS.reduce((function(t,e,a){return t[e]=Dl[a],t}),{}));var sP=[kl.VIDEO,kl.AUDIO,kl.SCREEN_VIDEO,kl.SCREEN_AUDIO],PS=Object.values(aP),LS=["p","s","t"];Object.freeze(PS.reduce((function(t,e,a){return t[e]=LS[a],t}),{})),Object.freeze(LS.reduce((function(t,e,a){return t[e]=PS[a],t}),{}));var LN=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.base,r=e.byUserId,o=e.byParticipantId;Wn(this,t),this.base=a,this.byUserId=r,this.byParticipantId=o}return ea(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof hn?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var a in e.byUserId={},this.byUserId){var r=this.byUserId[a];e.byUserId[a]=r instanceof hn?r.clone():r}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var u=this.byParticipantId[o];e.byParticipantId[o]=u instanceof hn?u.clone():u}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof hn&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var a in e.byUserId={},this.byUserId){var r=this.byUserId[a];e.byUserId[a]=r instanceof hn?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var u=this.byParticipantId[o];e.byParticipantId[o]=u instanceof hn?u.toJSONObject():u}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var a in e.u={},this.byUserId){var r=this.byUserId[a];e.u[a]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var o in e.p={},this.byParticipantId){var u=this.byParticipantId[o];e.p[o]=typeof u=="boolean"?u:u.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof hn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var a=yn(e,2),r=a[0],o=a[1];return[r,o instanceof hn?o.normalize():o]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var a=yn(e,2),r=a[0],o=a[1];return[r,o instanceof hn?o.normalize():o]})))),this}}],[{key:"fromJSONObject",value:function(e){var a,r,o;if(e.base!==void 0&&(a=typeof e.base=="boolean"?e.base:hn.fromJSONObject(e.base)),e.byUserId!==void 0)for(var u in r={},e.byUserId){var d=e.byUserId[u];r[u]=typeof d=="boolean"?d:hn.fromJSONObject(d)}if(e.byParticipantId!==void 0)for(var h in o={},e.byParticipantId){var p=e.byParticipantId[h];o[h]=typeof p=="boolean"?p:hn.fromJSONObject(p)}return new t({base:a,byUserId:r,byParticipantId:o})}},{key:"fromMinifiedJSONObject",value:function(e){var a,r,o;if(e.b!==void 0&&(a=typeof e.b=="boolean"?e.b:hn.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var u in r={},e.u){var d=e.u[u];r[u]=typeof d=="boolean"?d:hn.fromMinifiedJSONObject(d)}if(e.p!==void 0)for(var h in o={},e.p){var p=e.p[h];o[h]=typeof p=="boolean"?p:hn.fromMinifiedJSONObject(p)}return new t({base:a,byUserId:r,byParticipantId:o})}},{key:"validateJSONObject",value:function(e){if(nt(e)!=="object")return[!1,"canReceive must be an object"];for(var a=["base","byUserId","byParticipantId"],r=0,o=Object.keys(e);r<o.length;r++){var u=o[r];if(!a.includes(u))return[!1,"canReceive can only contain keys (".concat(a.join(", "),")")];if(u==="base"){var d=yn(hn.validateJSONObject(e.base,!0),2),h=d[0],p=d[1];if(!h)return[!1,p]}else{if(nt(e[u])!=="object")return[!1,"invalid (non-object) value for field '".concat(u,"' in canReceive")];for(var v=0,y=Object.values(e[u]);v<y.length;v++){var _=y[v],T=yn(hn.validateJSONObject(_),2),A=T[0],M=T[1];if(!A)return[!1,M]}}}return[!0]}}])})(),hn=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.video,r=e.audio,o=e.screenVideo,u=e.screenAudio,d=e.customVideo,h=e.customAudio;Wn(this,t),this.video=a,this.audio=r,this.screenVideo=o,this.screenAudio=u,this.customVideo=d,this.customAudio=h}return ea(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Ws({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Ws({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=Ws({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=Ws({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=Ws({},this.customVideo)),this.customAudio!==void 0&&(e.ca=Ws({},this.customAudio)),e}},{key:"normalize",value:function(){function e(a,r){return a&&Object.keys(a).length===1&&a["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?Ws({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?Ws({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,a){if(typeof e=="boolean")return[!0];if(nt(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),o=0,u=r;o<u.length;o++){var d=u[o];if(!Dl.includes(d))return[!1,"invalid media type '".concat(d,"' in canReceive")];if(sP.includes(d)){if(typeof e[d]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(d,"' in canReceive")]}else{if(nt(e[d])!=="object")return[!1,"invalid (non-object) value for media type '".concat(d,"' in canReceive")];for(var h=0,p=Object.values(e[d]);h<p.length;h++)if(typeof p[h]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(d,"' in canReceive")];if(a&&e[d]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(d,"'")]}}return a&&r.length!==Dl.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Dl.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])})(),rP=["result"],iP=["preserveIframe"];function zS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),a.push.apply(a,r)}return a}function je(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(a),!0).forEach((function(r){Fa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zS(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function zN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(zN=function(){return!!t})()}function IS(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return US(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?US(p,v):void 0}})(t))||e){a&&(t=a);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Rr={},BS="video",oP="voice",VS=Xe()?{data:{}}:{data:{},topology:"none"},FS={present:0,hidden:0},IN={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Ym=Object.keys(IN),qS=["state","volume","simulcastEncodings"],HS={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},yd={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},qp={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Pr={customIntegrations:{validate:QN,help:HN()},customTrayButtons:{validate:$N,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(yd))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(a){console.error("Failed to validate dailyConfig",a)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return GN(t,HS)},help:"reactNativeConfig should look like ".concat(JSON.stringify(HS),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return UN(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var a;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,a={customTrack:bs};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;a={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:a}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var a;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,a={customTrack:bs};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;a={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:a}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],a=function(r){for(var o=0,u=Object.keys(r);o<u.length;o++){var d=u[o];if(!e.includes(d))return console.error('unsupported color "'.concat(d,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[d].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(d,' theme color should be provided in valid hex color format. Received: "').concat(r[d],'"')),!1}return!0};return nt(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?a(t.light.colors)&&a(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):a(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return BN(t,{allowAllParticipantsKey:!1})},help:qN({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(a,r){try{return r.validateUpdateSendSettings(a),!0}catch(o){return console.error("Failed to validate send settings",o),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var a;return!!VN(t)&&(e._inputSettings||(e._inputSettings={}),FN(t,(a=e.properties)===null||a===void 0?void 0:a.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Hp()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Qu={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var a in t.cam)if(a!=="div"&&a!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var a=[!0,!1,"staged"];if(a.includes(t)||!Xe()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],o=function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var h in u)if(h==="custom"){if(!a.includes(u[h])&&!o(u[h],!0))return!1}else{var p=!d&&!r.includes(h),v=!a.includes(u[h]);if(p||v)return!1}return!0};return o(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Xe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,a=Object.entries(t);e<a.length;e++){var r=yn(a[e],2),o=r[0],u=r[1];switch(o){case"hasPresence":if(typeof u!="boolean")return!1;break;case"canSend":if(u instanceof Set||u instanceof Array||Array.isArray(u)){var d,h=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],p=IS(u);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(!h.includes(v))return!1}}catch(k){p.e(k)}finally{p.f()}}else if(typeof u!="boolean")return!1;(u instanceof Array||Array.isArray(u))&&(t.canSend=new Set(u));break;case"canReceive":var y=yn(LN.validateJSONObject(u),2),_=y[0],T=y[1];if(!_)return console.error(T),!1;break;case"canAdmin":if(u instanceof Set||u instanceof Array||Array.isArray(u)){var A,M=["participants","streaming","transcription"],j=IS(u);try{for(j.s();!(A=j.n()).done;){var C=A.value;if(!M.includes(C))return!1}}catch(k){j.e(k)}finally{j.f()}}else if(typeof u!="boolean")return!1;(u instanceof Array||Array.isArray(u))&&(t.canAdmin=new Set(u));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=Re((function*(e){return new Promise((function(a,r){var o=[];e.forEach((function(u){return Promise.resolve(u).then((function(d){a(d)})).catch((function(d){o.push(d),o.length===e.length&&r(o)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var lP=(function(){function t(g){var S,w,O,E,U,Z,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Wn(this,t),O=this,E=Da(E=t),Fa(w=Yd(O,zN()?Reflect.construct(E,[],Da(O).constructor):E.apply(O,U)),"startListeningForDeviceChanges",(function(){W5(w.handleDeviceChange)})),Fa(w,"stopListeningForDeviceChanges",(function(){eP(w.handleDeviceChange)})),Fa(w,"handleDeviceChange",(function(ue){ue=ue.map((function(Me){return JSON.parse(JSON.stringify(Me))})),w.emitDailyJSEvent({action:"available-devices-updated",availableDevices:ue})})),Fa(w,"handleNativeAppStateChange",(function(){var ue=Re((function*(Me){if(Me==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield w.destroy());var ct=Me==="active";w.disableReactNativeAutoDeviceManagement("video")||(ct?w.camUnmutedBeforeLosingNativeActiveState&&w.setLocalVideo(!0):(w.camUnmutedBeforeLosingNativeActiveState=w.localVideo(),w.camUnmutedBeforeLosingNativeActiveState&&w.setLocalVideo(!1)))}));return function(Me){return ue.apply(this,arguments)}})()),Fa(w,"handleNativeAudioFocusChange",(function(ue){w.disableReactNativeAutoDeviceManagement("audio")||(w._hasNativeAudioFocus=ue,w.toggleParticipantAudioBasedOnNativeAudioFocus(),w._hasNativeAudioFocus?w.micUnmutedBeforeLosingNativeAudioFocus&&w.setLocalAudio(!0):(w.micUnmutedBeforeLosingNativeAudioFocus=w.localAudio(),w.setLocalAudio(!1)))})),Fa(w,"handleNativeSystemScreenCaptureStop",(function(){w.stopScreenShare()})),!$m()&&!Xe())throw new Error("WebRTC not supported or suppressed");if(w.strictMode=G.strictMode===void 0||G.strictMode,w.allowMultipleCallInstances=(S=G.allowMultipleCallInstances)!==null&&S!==void 0&&S,Object.keys(Rr).length&&(w._logDuplicateInstanceAttempt(),!w.allowMultipleCallInstances)){if(w.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),w.callClientId=Jd(),Rr[(Z=w).callClientId]=Z,window._daily.instances[w.callClientId]={},w._sharedTracks={},window._daily.instances[w.callClientId].tracks=w._sharedTracks,G.dailyJsVersion=t.version(),w._iframe=g,w._callObjectMode=G.layout==="none"&&!w._iframe,w._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},G.showLocalVideo!==void 0?w._callObjectMode?console.error("showLocalVideo is not available in call object mode"):w._showLocalVideo=!!G.showLocalVideo:w._showLocalVideo=!0,G.showParticipantsBar!==void 0?w._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):w._showParticipantsBar=!!G.showParticipantsBar:w._showParticipantsBar=!0,G.customIntegrations!==void 0?w._callObjectMode?console.error("customIntegrations is not available in call object mode"):w._customIntegrations=G.customIntegrations:w._customIntegrations={},G.customTrayButtons!==void 0?w._callObjectMode?console.error("customTrayButtons is not available in call object mode"):w._customTrayButtons=G.customTrayButtons:w._customTrayButtons={},G.activeSpeakerMode!==void 0?w._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):w._activeSpeakerMode=!!G.activeSpeakerMode:w._activeSpeakerMode=!1,G.receiveSettings?w._callObjectMode?w._receiveSettings=G.receiveSettings:console.error("receiveSettings is only available in call object mode"):w._receiveSettings={},w.validateProperties(G),w.properties=je({},G),w._inputSettings||(w._inputSettings={}),w._callObjectLoader=w._callObjectMode?new F5(w.callClientId):null,w._callState=oS,w._isPreparingToJoin=!1,w._accessState={access:Vm},w._meetingSessionSummary={},w._finalSummaryOfPrevSession={},w._meetingSessionState=Km(VS,w._callObjectMode),w._nativeInCallAudioMode=BS,w._participants={},w._isScreenSharing=!1,w._participantCounts=FS,w._rmpPlayerState={},w._waitingParticipants={},w._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},w._activeSpeaker={},w._localAudioLevel=0,w._isLocalAudioLevelObserverRunning=!1,w._remoteParticipantsAudioLevel={},w._isRemoteParticipantsAudioLevelObserverRunning=!1,w._maxAppMessageSize=Fm,w._messageChannel=Xe()?new B5:new U5,w._iframe&&(w._iframe.requestFullscreen?w._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===w._iframe?(w.emitDailyJSEvent({action:Fu}),w.sendMessageToCallMachine({action:Fu})):(w.emitDailyJSEvent({action:qu}),w.sendMessageToCallMachine({action:qu}))})):w._iframe.webkitRequestFullscreen&&w._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===w._iframe?(w.emitDailyJSEvent({action:Fu}),w.sendMessageToCallMachine({action:Fu})):(w.emitDailyJSEvent({action:qu}),w.sendMessageToCallMachine({action:qu}))}))),Xe()){var ie=w.nativeUtils();ie.addAudioFocusChangeListener&&ie.removeAudioFocusChangeListener&&ie.addAppStateChangeListener&&ie.removeAppStateChangeListener&&ie.addSystemScreenCaptureStopListener&&ie.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),w._hasNativeAudioFocus=!0,ie.addAudioFocusChangeListener(w.handleNativeAudioFocusChange),ie.addAppStateChangeListener(w.handleNativeAppStateChange),ie.addSystemScreenCaptureStopListener(w.handleNativeSystemScreenCaptureStop)}return w._callObjectMode&&w.startListeningForDeviceChanges(),w._messageChannel.addListenerForMessagesFromCallMachine(w.handleMessageFromCallMachine,w.callClientId,w),w}return Zd(t,Ru),ea(t,[{key:"destroy",value:(le=Re((function*(){var g;try{yield this.leave()}catch{}var S=this._iframe;if(S){var w=S.parentElement;w&&w.removeChild(S)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Xe()){var O=this.nativeUtils();O.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),O.removeAppStateChangeListener(this.handleNativeAppStateChange),O.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Rr[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return le.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var S=g.bodyClass,w=g.cssFile,O=g.cssText;return Ke(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(w),bodyClass:S,cssText:O}),this}},{key:"iframe",value:function(){return Ke(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Na(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Na(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,S){for(var w in S){if(!Qu[w])throw new Error("unrecognized updateParticipant property ".concat(w));if(Qu[w].validate&&!Qu[w].validate(S[w],this,this._participants[g]))throw new Error(Qu[w].help)}}},{key:"updateParticipant",value:function(g,S){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&S&&(this.validateParticipantProperties(g,S),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:S})),this}},{key:"updateParticipants",value:function(g){var S=this._participants.local&&this._participants.local.session_id;for(var w in g)w===S&&(w="local"),w&&g[w]&&this.validateParticipantProperties(w,g[w]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(tt=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Na(this._callObjectMode,"updateWaitingParticipant()"),wt(this._callState,"updateWaitingParticipant()"),typeof S!="string"||nt(w)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(O,E){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:S,updates:w},(function(U){U.error&&E(U.error),U.id||E(new Error("unknown error in updateWaitingParticipant()")),O({id:U.id})}))}))})),function(){return tt.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Se=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Na(this._callObjectMode,"updateWaitingParticipants()"),wt(this._callState,"updateWaitingParticipants()"),nt(S)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(w,O){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:S},(function(E){E.error&&O(E.error),E.ids||O(new Error("unknown error in updateWaitingParticipants()")),w({ids:E.ids})}))}))})),function(){return Se.apply(this,arguments)})},{key:"requestAccess",value:(Ee=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=S.access,O=w===void 0?{level:RR}:w,E=S.name,U=E===void 0?"":E;return Na(this._callObjectMode,"requestAccess()"),wt(this._callState,"requestAccess()"),new Promise((function(Z,G){g.sendMessageToCallMachine({action:"daily-method-request-access",access:O,name:U},(function(ie){ie.error&&G(ie.error),ie.access||G(new Error("unknown error in requestAccess()")),Z({access:ie.access,granted:ie.granted})}))}))})),function(){return Ee.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in S&&(Xe()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),S={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),S={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:S}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(X=Re((function*(g){var S=this,w=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,O=w!==void 0&&w;if(Na(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(nt(g)){case"string":return new Promise((function(E){S.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:O},(function(U){E(U.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(g){return X.apply(this,arguments)})},{key:"updateReceiveSettings",value:(ne=Re((function*(g){var S=this;if(Na(this._callObjectMode,"updateReceiveSettings()"),!BN(g,{allowAllParticipantsKey:!0}))throw new Error(qN({allowAllParticipantsKey:!0}));return wt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(w){S.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},(function(O){w({receiveSettings:O.receiveSettings})}))}))})),function(g){return ne.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,S){if(g){var w={};if(g.audio){var O,E,U;g.audio.settings&&(!Object.keys(g.audio.settings).length&&S||(w.audio={settings:je({},g.audio.settings)})),S&&(O=w.audio)!==null&&O!==void 0&&(O=O.settings)!==null&&O!==void 0&&O.customTrack&&(w.audio.settings={customTrack:this._sharedTracks.audioTrack});var Z=((E=g.audio.processor)===null||E===void 0?void 0:E.type)==="none"&&((U=g.audio.processor)===null||U===void 0?void 0:U._isDefaultWhenNone);if(g.audio.processor&&!Z){var G=je({},g.audio.processor);delete G._isDefaultWhenNone,w.audio=je(je({},w.audio),{},{processor:G})}}if(g.video){var ie,ue,Me;g.video.settings&&(!Object.keys(g.video.settings).length&&S||(w.video={settings:je({},g.video.settings)})),S&&(ie=w.video)!==null&&ie!==void 0&&(ie=ie.settings)!==null&&ie!==void 0&&ie.customTrack&&(w.video.settings={customTrack:this._sharedTracks.videoTrack});var ct=((ue=g.video.processor)===null||ue===void 0?void 0:ue.type)==="none"&&((Me=g.video.processor)===null||Me===void 0?void 0:Me._isDefaultWhenNone);if(g.video.processor&&!ct){var Xt=je({},g.video.processor);delete Xt._isDefaultWhenNone,w.video=je(je({},w.video),{},{processor:Xt})}}return w}}},{key:"getInputSettings",value:function(){var g=this;return Ke(),new Promise((function(S){S(g._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var g,S,w,O,E,U,Z={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((w=this._inputSettings)===null||w===void 0?void 0:w.video)||Z,S=((O=this._inputSettings)===null||O===void 0?void 0:O.audio)||Z):(g=((E=this._preloadCache)===null||E===void 0||(E=E.inputSettings)===null||E===void 0?void 0:E.video)||Z,S=((U=this._preloadCache)===null||U===void 0||(U=U.inputSettings)===null||U===void 0?void 0:U.audio)||Z);var G={audio:S,video:g};return this._prepInputSettingsForSharing(G,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,S){var w=this._inputSettings||{},O={};if(g.video){var E,U,Z;O.video={},g.video.settings?(O.video.settings={},S||g.video.settings.customTrack||(Z=w.video)===null||Z===void 0||!Z.settings?O.video.settings=g.video.settings:O.video.settings=je(je({},w.video.settings),g.video.settings),Object.keys(O.video.settings).length||delete O.video.settings):(E=w.video)!==null&&E!==void 0&&E.settings&&(O.video.settings=w.video.settings),g.video.processor?O.video.processor=g.video.processor:(U=w.video)!==null&&U!==void 0&&U.processor&&(O.video.processor=w.video.processor)}else w.video&&(O.video=w.video);if(g.audio){var G,ie,ue;O.audio={},g.audio.settings?(O.audio.settings={},S||g.audio.settings.customTrack||(ue=w.audio)===null||ue===void 0||!ue.settings?O.audio.settings=g.audio.settings:O.audio.settings=je(je({},w.audio.settings),g.audio.settings),Object.keys(O.audio.settings).length||delete O.audio.settings):(G=w.audio)!==null&&G!==void 0&&G.settings&&(O.audio.settings=w.audio.settings),g.audio.processor?O.audio.processor=g.audio.processor:(ie=w.audio)!==null&&ie!==void 0&&ie.processor&&(O.audio.processor=w.audio.processor)}else w.audio&&(O.audio=w.audio);this._maybeUpdateInputSettings(O)}},{key:"_devicesFromInputSettings",value:function(g){var S,w,O=(g==null||(S=g.video)===null||S===void 0||(S=S.settings)===null||S===void 0?void 0:S.deviceId)||null,E=(g==null||(w=g.audio)===null||w===void 0||(w=w.settings)===null||w===void 0?void 0:w.deviceId)||null,U=this._preloadCache.outputDeviceId||null;return{camera:O?{deviceId:O}:{},mic:E?{deviceId:E}:{},speaker:U?{deviceId:U}:{}}}},{key:"updateInputSettings",value:(I=Re((function*(g){var S=this;return Ke(),VN(g)?g.video||g.audio?(FN(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise((function(w,O){S.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},(function(E){if(E.error)O(E.error);else{if(E.returnPreloadCache)return S._updatePreloadCacheInputSettings(g,!0),void w(S._getInputSettings());S._maybeUpdateInputSettings(E.inputSettings),w(S._prepInputSettingsForSharing(E.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Hp()),Promise.reject(Hp()))})),function(g){return I.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var S=g.kbs,w=g.trackConstraints;if(Ke(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:S,trackConstraints:w}),this}},{key:"getDailyLang",value:function(){var g=this;if(Ke(),this._callMachineInitialized)return new Promise((function(S){g.sendMessageToCallMachine({action:"get-daily-lang"},(function(w){delete w.action,delete w.callbackStamp,S(w)}))}))}},{key:"setDailyLang",value:function(g){return Ke(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[Dr,Xs].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(De=Re((function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),wt(this._callState,"getMeetingSession()"),new Promise((function(S){g.sendMessageToCallMachine({action:"get-meeting-session"},(function(w){delete w.action,delete w.callbackStamp,S(w)}))}))})),function(){return De.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return wt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Na(this._callObjectMode,"setMeetingSessionData()"),wt(this._callState,"setMeetingSessionData");try{(function(w,O){new V5({data:w,mergeStrategy:O})})(g,S)}catch(w){throw console.error(w),w}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:S})}catch(w){throw new Error("Error setting meeting session data: ".concat(w))}}},{key:"setUserName",value:function(g,S){var w=this;return this.properties.userName=g,new Promise((function(O){w.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:Xe()||!!S&&!!S.thisMeetingOnly},(function(E){delete E.action,delete E.callbackStamp,O(E)}))}))}},{key:"setUserData",value:(ge=Re((function*(g){var S=this;try{UN(g)}catch(w){throw console.error(w),w}if(this.properties.userData=g,this._callMachineInitialized)return new Promise((function(w){try{S.sendMessageToCallMachine({action:"set-user-data",userData:g},(function(O){delete O.action,delete O.callbackStamp,w(O)}))}catch(O){throw new Error("Error setting user data: ".concat(O))}}))})),function(g){return ge.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var S=this;if(typeof AudioWorkletNode>"u"&&!Xe())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(w,O){S.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},(function(E){S._isLocalAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):w()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var S=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(w,O){S.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},(function(E){S._isRemoteParticipantsAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):w()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(st=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Na(this._callObjectMode,"startCamera()"),Zm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(S)}catch(w){return Promise.reject(w)}else{if(this._didPreAuth){if(S.url&&S.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(S.token&&S.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(S),this.properties=je(je({},this.properties),S)}return new Promise((function(w){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Ji(g.properties,g.callClientId),preloadCache:Ji(g._preloadCache,g.callClientId)},(function(O){w({camera:O.camera,mic:O.mic,speaker:O.speaker})}))}))})),function(){return st.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,S,w){if(w&&w.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(S&&S!=="music"&&S!=="speech"&&!(S instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(w&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(w))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Ke(),wt(this._callState,"startCustomTrack()"),this.validateCustomTrack(S.track,S.mode,S.trackName),new Promise((function(w,O){g._sharedTracks.customTrack=S.track,S.track=bs,g.sendMessageToCallMachine({action:"start-custom-track",properties:S},(function(E){E.error?O({error:E.error}):w(E.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(g){var S=this;return Ke(),wt(this._callState,"stopCustomTrack()"),new Promise((function(w){S.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},(function(O){w(O.mediaTag)}))}))}},{key:"setCamera",value:function(g){var S=this;return jl(),Gu(this._callMachineInitialized,"setCamera()"),new Promise((function(w){S.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},(function(O){w({device:O.device})}))}))}},{key:"setAudioDevice",value:(Pe=Re((function*(g){return jl(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(g){return Pe.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(w){g.sendMessageToCallMachine({action:"cycle-camera",properties:S},(function(O){w({device:O.device})}))}))}},{key:"cycleMic",value:function(){var g=this;return Ke(),new Promise((function(S){g.sendMessageToCallMachine({action:"cycle-mic"},(function(w){S({device:w.device})}))}))}},{key:"getCameraFacingMode",value:function(){var g=this;return jl(),new Promise((function(S){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(w){S(w.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(Ne=Re((function*(g){var S=this,w=g.audioDeviceId,O=g.videoDeviceId,E=g.audioSource,U=g.videoSource;if(Ke(),E!==void 0&&(w=E),U!==void 0&&(O=U),typeof w=="boolean"&&(this._setAllowLocalAudio(w),w=void 0),typeof O=="boolean"&&(this._setAllowLocalVideo(O),O=void 0),!w&&!O)return yield this.getInputDevices();var Z={};return w&&(w instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=w,w=bs,Z.audio={settings:{customTrack:w}}):(delete this._sharedTracks.audioTrack,Z.audio={settings:{deviceId:w}})),O&&(O instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=O,O=bs,Z.video={settings:{customTrack:O}}):(delete this._sharedTracks.videoTrack,Z.video={settings:{deviceId:O}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(Z,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(G){S.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:w,videoDeviceId:O},(function(ie){if(delete ie.action,delete ie.callbackStamp,ie.returnPreloadCache)return S._updatePreloadCacheInputSettings(Z,!1),void G(S._devicesFromInputSettings(S._inputSettings));G(ie)}))}))})),function(g){return Ne.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(pe=Re((function*(g){var S=this,w=g.outputDeviceId;if(Ke(),!w||typeof w!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=w,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(O,E){S.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:w},(function(U){if(delete U.action,delete U.callbackStamp,U.error){var Z=new Error(U.error.message);return Z.type=U.error.type,void E(Z)}U.returnPreloadCache?O(S._devicesFromInputSettings(S._inputSettings)):O(U)}))}))})),function(g){return pe.apply(this,arguments)})},{key:"getInputDevices",value:(ce=Re((function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(S){g.sendMessageToCallMachine({action:"get-input-devices"},(function(w){w.returnPreloadCache?S(g._devicesFromInputSettings(g._inputSettings)):S({camera:w.camera,mic:w.mic,speaker:w.speaker})}))}))})),function(){return ce.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return jl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(jl(),[BS,oP].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&ed(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(J=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Na(this._callObjectMode,"preAuth()"),Zm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(S)),!S.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(S),this.properties=je(je({},this.properties),S),new Promise((function(w,O){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ji(g.properties,g.callClientId),preloadCache:Ji(g._preloadCache,g.callClientId)},(function(E){return E.error?O(E.error):E.access?(g._didPreAuth=!0,void w({access:E.access})):O(new Error("unknown error in preAuth()"))}))}))})),function(){return J.apply(this,arguments)})},{key:"load",value:(Y=Re((function*(g){var S=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=je(je({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(lS),this.emitDailyJSEvent({action:VR}),this._callObjectMode?new Promise((function(w,O){S._callObjectLoader.cancel();var E=Date.now();S._callObjectLoader.load(S.properties.dailyConfig,(function(U){S._bundleLoadTime=U?"no-op":Date.now()-E,S._updateCallState(cS),U&&S.emitDailyJSEvent({action:dS}),w()}),(function(U,Z){if(S.emitDailyJSEvent({action:FR}),!Z){S._updateCallState(Xs),S.resetMeetingDependentVars();var G={action:gS,errorMsg:U.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:U,bundleUrl:ud(S.properties.dailyConfig)}}};S._maybeSendToSentry(G),S.emitDailyJSEvent(G),O(U.msg)}}))})):(this._iframe.src=oN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(w,O){S._loadedCallback=function(E){S._callState!==Xs?(S._updateCallState(cS),(S.properties.cssFile||S.properties.cssText)&&S.loadCss(S.properties),w()):O(E)}})))}})),function(g){return Y.apply(this,arguments)})},{key:"join",value:(H=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var w=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(S)}catch(O){return this.updateIsPreparingToJoin(!1),Promise.reject(O)}}else{if(w=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(S.url&&S.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(S.token&&S.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(S.url&&!this._callObjectMode&&S.url&&S.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(S.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(S),this.properties=je(je({},this.properties),S)}return S.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!S.showLocalVideo),S.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!S.showParticipantsBar),this._callState===zr||this._callState===zp?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(zp,!1),this.emitDailyJSEvent({action:$R}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ji(this.properties,this.callClientId),preloadCache:Ji(this._preloadCache,this.callClientId)}),new Promise((function(O,E){g._joinedCallback=function(U,Z){if(g._callState!==Xs){if(g._updateCallState(zr),U)for(var G in U){if(g._callObjectMode){var ie=g._callMachine().store;kS(U[G],ie),ES(U[G],ie),MS(U[G],g._participants[G],ie)}g._participants[G]=je({},U[G]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}w&&g.loadCss(g.properties),O(U)}else E(Z)}})))})),function(){return H.apply(this,arguments)})},{key:"leave",value:(F=Re((function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(S){g._callState===Dr||g._callState===Xs?S():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(Dr),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:Dr}),S()):(g._resolveLeave=S,g.sendMessageToCallMachine({action:"leave-meeting"}))}))})),function(){return F.apply(this,arguments)})},{key:"startScreenShare",value:(Q=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Gu(this._callMachineInitialized,"startScreenShare()"),S.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",S.screenVideoSendSettings),S.mediaStream&&(this._sharedTracks.screenMediaStream=S.mediaStream,S.mediaStream=bs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var w=this.nativeUtils();if(yield w.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:pS,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});w.setSystemScreenCaptureStartCallback((function(){w.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:yS,captureOptions:S})})),w.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:yS,captureOptions:S})})),function(){return Q.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Gu(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=g.type;if(S&&S!=="cloud"&&S!=="raw-tracks"&&S!=="local")throw new Error("invalid type: ".concat(S,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(je({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var S=g.layout,w=S===void 0?{preset:"default"}:S,O=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:w,instanceId:O})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var S=g.layout,w=S===void 0?{preset:"default"}:S,O=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:w,instanceId:O})}},{key:"addLiveStreamingEndpoints",value:function(g){var S=g.endpoints,w=g.instanceId;this.sendMessageToCallMachine({action:bS,endpointsOp:D5,endpoints:S,instanceId:w})}},{key:"removeLiveStreamingEndpoints",value:function(g){var S=g.endpoints,w=g.instanceId;this.sendMessageToCallMachine({action:bS,endpointsOp:R5,endpoints:S,instanceId:w})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),CN()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!ZS(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var O=0;O<g.length;O++){var E=g[O];for(var U in this._validateEncodingLayerHasValidProperties(E),E)if(Ym.includes(U)){if(typeof E[U]!="number")throw new Error("".concat(U," must be a number"));if(S){var Z=S[U],G=Z.min,ie=Z.max;if(!ZS(E[U],G,ie))throw new Error("".concat(U," value not in range. valid range: ").concat(G," to ").concat(ie))}}else if(!["active","scalabilityMode"].includes(U))throw new Error("Invalid key ".concat(U,", valid keys are:")+Object.values(Ym));if(w&&!E.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(P=Re((function*(g){var S=this,w=g.url,O=g.settings,E=O===void 0?{state:Ip.PLAY}:O;try{(function(U){if(typeof U!="string")throw new Error('url parameter must be "string" type')})(w),YS(E),(function(U){for(var Z in U)if(!qS.includes(Z))throw new Error("Invalid key ".concat(Z,", valid keys are: ").concat(qS));U.simulcastEncodings&&this.validateSimulcastEncodings(U.simulcastEncodings,IN,!0)})(E)}catch(U){throw console.error("invalid argument Error: ".concat(U)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),U}return new Promise((function(U,Z){S.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:w,settings:E},(function(G){G.error?Z({error:G.error,errorMsg:G.errorMsg}):U({session_id:G.session_id,remoteMediaPlayerState:{state:G.state,settings:G.settings}})}))}))})),function(g){return P.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(D=Re((function*(g){var S=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(w,O){S.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},(function(E){E.error?O({error:E.error,errorMsg:E.errorMsg}):w()}))}))})),function(g){return D.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(k=Re((function*(g){var S=this,w=g.session_id,O=g.settings;try{YS(O)}catch(E){throw console.error("invalid argument Error: ".concat(E)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),E}return new Promise((function(E,U){S.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:w,settings:O},(function(Z){Z.error?U({error:Z.error,errorMsg:Z.errorMsg}):E({session_id:Z.session_id,remoteMediaPlayerState:{state:Z.state,settings:Z.settings}})}))}))})),function(g){return k.apply(this,arguments)})},{key:"startTranscription",value:function(g){wt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(je({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(wt(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(nt(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(je({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(wt(this._callState,"stopTranscription()"),g&&nt(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(je({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(C=Re((function*(g){var S=this;wt(this._callState,"startDialOut()");var w=function(Z){if(Z){if(!Array.isArray(Z))throw new Error("Error starting dial out: audio codec must be an array");if(Z.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");Z.forEach((function(G){if(typeof G!="string")throw new Error("Error starting dial out: audio codec must be a string");if(G!=="OPUS"&&G!=="PCMU"&&G!=="PCMA"&&G!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(Z){if(Z&&(w(Z.audio),Z.video)){if(!Array.isArray(Z.video))throw new Error("Error starting dial out: video codec must be an array");if(Z.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");Z.video.forEach((function(G){if(typeof G!="string")throw new Error("Error starting dial out: video codec must be a string");if(G!=="H264"&&G!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&w(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if($S(g),g.permissions&&g.permissions.canReceive){var O=yn(LN.validateJSONObject(g.permissions.canReceive),2),E=O[0],U=O[1];if(!E)throw new Error(U)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise((function(Z,G){S.sendMessageToCallMachine(je({action:"dialout-start"},g),(function(ie){ie.error?G(ie.error):Z(ie)}))}))})),function(g){return C.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var S=this;return wt(this._callState,"stopDialOut()"),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:"dialout-stop"},g),(function(E){E.error?O(E.error):w(E)}))}))}},{key:"sipCallTransfer",value:(j=Re((function*(g){var S=this;if(wt(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,GS(g,"sipCallTransfer"),$S(g),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:xS},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return j.apply(this,arguments)})},{key:"sipRefer",value:(M=Re((function*(g){var S=this;if(wt(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,GS(g,"sipRefer"),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:xS},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return M.apply(this,arguments)})},{key:"sendDTMF",value:(A=Re((function*(g){var S=this;return wt(this._callState,"sendDTMF()"),(function(w){var O=w.sessionId,E=w.tones;if(!O||!E)throw new Error("sessionId and tones are mandatory parameter");if(typeof O!="string"||typeof E!="string")throw new Error("sessionId and tones should be of string type");if(E.length>20)throw new Error("tones string must be upto 20 characters");var U=/[^0-9A-D*#]/g,Z=E.match(U);if(Z&&Z[0])throw new Error("".concat(Z[0]," is not valid DTMF tone"))})(g),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:"send-dtmf"},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return A.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==zr?Promise.resolve(je({stats:{latest:{}}},this._network)):new Promise((function(S){g.sendMessageToCallMachine({action:"get-calc-stats"},(function(w){S(je(je({},g._network),{},{stats:w.stats}))}))}))}},{key:"testWebsocketConnectivity",value:(T=Re((function*(){var g=this;if(Jm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(S){return Promise.reject(S)}return new Promise((function(S,w){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(O){O.error?w(O.error):S(O.results)}))}))})),function(){return T.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!nP(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(_=Re((function*(){var g=this;Ke(),Na(this._callObjectMode,"testCallQuality()"),Gu(this._callMachineInitialized,"testCallQuality()",null,!0),Zm(this._callState,this._isPreparingToJoin,"testCallQuality()");var S=this._testCallAlreadyInProgress,w=function(E){S||(g._testCallInProgress=E)};if(w(!0),this.needsLoad())try{var O=this._callState;yield this.load(),this._callState=O}catch(E){return w(!1),Promise.reject(E)}return new Promise((function(E){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},(function(U){var Z=U.results,G=Z.result,ie=nw(Z,rP);if(G==="failed"){var ue,Me=je({},ie);(ue=ie.error)!==null&&ue!==void 0&&ue.details?(ie.error.details=JSON.parse(ie.error.details),Me.error=je(je({},Me.error),{},{details:je({},Me.error.details)}),Me.error.details.duringTest="testCallQuality"):(Me.error=Me.error?je({},Me.error):{},Me.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(Me)}w(!1),E(je({result:G},ie))}))}))})),function(){return _.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(y=Re((function*(g){var S;Xe()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),S=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),S=yield this.testCallQuality());var w={result:S.result,secondsElapsed:S.secondsElapsed};return S.data&&(w.data={maxRTT:S.data.maxRoundTripTime,packetLoss:S.data.avgRecvPacketLoss}),w})),function(g){return y.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(v=Re((function*(g){var S=this;if(Jm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}var w=g.videoTrack,O=g.duration;if(!this._validateVideoTrackForNetworkTests(w))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=w,new Promise((function(E,U){S.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:O},(function(Z){Z.error?U(Z.error):E(Z.results)}))}))})),function(g){return v.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Xe()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(p=Re((function*(g){var S=this;if(Jm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise((function(w,O){S.sendMessageToCallMachine({action:"test-network-connectivity"},(function(E){E.error?O(E.error):w(E.results)}))}))})),function(g){return p.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise((function(S){g._callState===zr?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(w){S(w.cpuStats)})):S({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var S;if(!(((S=Object.keys(g))===null||S===void 0?void 0:S.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Ym))}},{key:"_validateVideoSendSettings",value:function(g,S){var w=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],O="Video send settings should be either an object or one of the supported presets: ".concat(w.join());if(typeof S=="string"){if(!w.includes(S))throw new Error(O)}else{if(nt(S)!=="object")throw new Error(O);if(!S.maxQuality&&!S.encodings&&S.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(S.maxQuality&&["low","medium","high"].indexOf(S.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(S.encodings){var E=!1;switch(Object.keys(S.encodings).length){case 1:E=!S.encodings.low;break;case 2:E=!S.encodings.low||!S.encodings.medium;break;case 3:E=!S.encodings.low||!S.encodings.medium||!S.encodings.high;break;default:E=!0}if(E)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");S.encodings.low&&this._validateEncodingLayerHasValidProperties(S.encodings.low),S.encodings.medium&&this._validateEncodingLayerHasValidProperties(S.encodings.medium),S.encodings.high&&this._validateEncodingLayerHasValidProperties(S.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var S=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach((function(w){var O=yn(w,2),E=O[0],U=O[1];S._validateVideoSendSettings(E,U)}))}},{key:"updateSendSettings",value:function(g){var S=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(w,O){S.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},(function(E){E.error?O(E.error):w(E.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ke(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return Ke(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return Ke(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return wt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(h=Re((function*(){var g=this;if(this._callObjectMode){var S=yield navigator.mediaDevices.enumerateDevices();return ei()==="Firefox"&&gd().major>115&&gd().major<123&&(S=S.filter((function(w){return w.kind!=="audiooutput"}))),{devices:S.map((function(w){var O=JSON.parse(JSON.stringify(w));if(!Xe()&&w.kind==="videoinput"&&w.getCapabilities){var E,U=w.getCapabilities();O.facing=(U==null||(E=U.facingMode)===null||E===void 0?void 0:E.length)>=1?U.facingMode[0]:void 0}return O}))}}return new Promise((function(w){g.sendMessageToCallMachine({action:"enumerate-devices"},(function(O){w({devices:O.devices})}))}))})),function(){return h.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(wt(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:S}),this}},{key:"addFakeParticipant",value:function(g){return Ke(),wt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(je({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return Gn(this._callObjectMode,"setShowNamesMode()"),Ke(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Gn(this._callObjectMode,"setShowLocalVideo()"),Ke(),wt(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return Gn(this._callObjectMode,"showLocalVideo()"),Ke(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Gn(this._callObjectMode,"setShowParticipantsBar()"),Ke(),wt(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return Gn(this._callObjectMode,"showParticipantsBar()"),Ke(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ke(),Gn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return Ke(),Gn(this._callObjectMode,"setCustomIntegrations()"),wt(this._callState,"setCustomIntegrations()"),QN(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var S=this;if(Ke(),Gn(this._callObjectMode,"startCustomIntegrations()"),wt(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some((function(E){return typeof E!="string"}))||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var w=typeof g=="string"?[g]:g,O=w.filter((function(E){return!(E in S._customIntegrations)}));return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:w}),this)}},{key:"stopCustomIntegrations",value:function(g){var S=this;if(Ke(),Gn(this._callObjectMode,"stopCustomIntegrations()"),wt(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some((function(E){return typeof E!="string"}))||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var w=typeof g=="string"?[g]:g,O=w.filter((function(E){return!(E in S._customIntegrations)}));return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:w}),this)}},{key:"customTrayButtons",value:function(){return Gn(this._callObjectMode,"customTrayButtons()"),Ke(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return Gn(this._callObjectMode,"updateCustomTrayButtons()"),Ke(),wt(this._callState,"updateCustomTrayButtons()"),$N(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(yd))),this)}},{key:"theme",value:function(){return Gn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var S=this;return Gn(this._callObjectMode,"setTheme()"),new Promise((function(w,O){try{S.validateProperties({theme:g}),S.properties.theme=je({},g),S.sendMessageToCallMachine({action:"set-theme",theme:S.properties.theme});try{S.emitDailyJSEvent({action:BR,theme:S.properties.theme})}catch(E){console.log("could not emit 'theme-updated'",E)}w(S.properties.theme)}catch(E){O(E)}}))}},{key:"requestFullscreen",value:(d=Re((function*(){if(Ke(),this._iframe&&!document.fullscreenElement&&wS())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}})),function(){return d.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ke(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(u=Re((function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(S){g.sendMessageToCallMachine({action:"get-sidebar-view"},(function(w){S(w.view)}))}))})),function(){return u.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(o=Re((function*(){var g=this,S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,w=S===void 0||S;return this._accessState.access===Vm||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(O){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:w},(function(E){delete E.action,delete E.callbackStamp,O(E)}))}))})),function(){return o.apply(this,arguments)})},{key:"geo",value:(r=Re((function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(S){return console.error("geo lookup failed",S),{current:""}}})),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(a=Re((function*(g){var S=this;return Ke(),wt(this._callState,"setNetworkTopology()"),new Promise((function(w,O){S.sendMessageToCallMachine({action:"set-network-topology",opts:g},(function(E){E.error?O({error:E.error}):w({workerId:E.workerId})}))}))})),function(g){return a.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Re((function*(){var g=this;return new Promise((function(S,w){g.needsLoad()&&S({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},(function(O){O.error?w({error:O.error}):S({topology:O.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(Ke(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,S){return Ru.prototype.on.call(this,g,S)}},{key:"once",value:function(g,S){return Ru.prototype.once.call(this,g,S)}},{key:"off",value:function(g,S){return Ru.prototype.off.call(this,g,S)}},{key:"validateProperties",value:function(g){var S,w;if(g!=null&&(S=g.dailyConfig)!==null&&S!==void 0&&S.userMediaAudioConstraints){var O,E;Xe()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var U=g.inputSettings||{};U.audio=((O=g.inputSettings)===null||O===void 0?void 0:O.audio)||{},U.audio.settings=((E=g.inputSettings)===null||E===void 0||(E=E.audio)===null||E===void 0?void 0:E.settings)||{},U.audio.settings=je(je({},U.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=U,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(w=g.dailyConfig)!==null&&w!==void 0&&w.userMediaVideoConstraints){var Z,G;Xe()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ie=g.inputSettings||{};ie.video=((Z=g.inputSettings)===null||Z===void 0?void 0:Z.video)||{},ie.video.settings=((G=g.inputSettings)===null||G===void 0||(G=G.video)===null||G===void 0?void 0:G.settings)||{},ie.video.settings=je(je({},ie.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=ie,delete g.dailyConfig.userMediaVideoConstraints}for(var ue in g)if(Pr[ue]){if(Pr[ue].validate&&!Pr[ue].validate(g[ue],this))throw new Error("property '".concat(ue,"': ").concat(Pr[ue].help))}else console.warn("Ignoring unrecognized property '".concat(ue,"'")),delete g[ue]}},{key:"assembleMeetingUrl",value:function(){var g,S,w=je(je({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((S=this.properties.dailyConfig)===null||S===void 0?void 0:S.proxyUrl):void 0}),O=w.url.match(/\?/)?"&":"?";return w.url+O+Object.keys(Pr).filter((function(E){return Pr[E].queryString&&w[E]!==void 0})).map((function(E){return"".concat(Pr[E].queryString,"=").concat(w[E])})).join("&")}},{key:"needsLoad",value:function(){return[oS,lS,Dr,Xs].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,S){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,S,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case IR:this.sendMessageToCallMachine(je({action:UR},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var S={action:Hu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:ud(this.properties.dailyConfig)}};this.sendMessageToCallMachine(S),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case dS:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case QR:var w,O=je({},g);delete O.internal,this._maxAppMessageSize=((w=g.internal)===null||w===void 0?void 0:w._maxAppMessageSize)||Fm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(O);break;case YR:case ZR:if(this._callState===Dr)return;if(g.participant&&g.participant.session_id){var E=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var U=this._callMachine().store;kS(g.participant,U),ES(g.participant,U),MS(g.participant,this._participants[E],U)}try{this.maybeParticipantTracksStopped(this._participants[E],g.participant),this.maybeParticipantTracksStarted(this._participants[E],g.participant),this.maybeEventRecordingStopped(this._participants[E],g.participant),this.maybeEventRecordingStarted(this._participants[E],g.participant)}catch(uc){console.error("track events error",uc)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[E])||(this._participants[E]=je({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case JR:if(g.participant&&g.participant.session_id){var Z=this._participants[g.participant.session_id];Z&&this.maybeParticipantTracksStopped(Z,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case KR:_n(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case XR:var G={access:g.access};g.awaitingAccess&&(G.awaitingAccess=g.awaitingAccess),_n(this._accessState,G)||(this._accessState=G,this.emitDailyJSEvent(g));break;case WR:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var ie=je(je({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ie)}break;case gS:var ue;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Xs),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var Me=nw(g,iP);Me!=null&&(ue=Me.error)!==null&&ue!==void 0&&ue.details&&(Me.error.details=JSON.parse(Me.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,Me),this._joinedCallback=null),this.emitDailyJSEvent(Me);break;case GR:this._callState!==Xs&&this._updateCallState(Dr),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case _5:var ct=g.state,Xt=g.threshold,Et=g.quality,te=ct.state,se=ct.reasons;te===this._network.networkState&&_n(se,this._network.networkStateReasons)&&Xt===this._network.threshold&&Et===this._network.quality||(this._network.networkState=te,this._network.networkStateReasons=se,this._network.quality=Et,this._network.threshold=Xt,g.networkState=te,se.length&&(g.networkStateReasons=se),delete g.state,this.emitDailyJSEvent(g));break;case N5:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case T5:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case w5:var $e=g.activeSpeaker;this._activeSpeaker.peerId!==$e.peerId&&(this._activeSpeaker.peerId=$e.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Le=g.show;this._showLocalVideo=Le,this.emitDailyJSEvent({action:g.action,show:Le});break;case S5:var yt=g.enabled;this._activeSpeakerMode!==yt&&(this._activeSpeakerMode=yt,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case t5:case n5:case a5:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case O5:_n(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case mS:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":_n(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case p5:var ht=g.session_id;this._rmpPlayerState[ht]=g.playerState,this.emitDailyJSEvent(g);break;case v5:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case g5:var zn=g.session_id,Rt=this._rmpPlayerState[zn];Rt&&this.compareEqualForRMPUpdateEvent(Rt,g.remoteMediaPlayerState)||(this._rmpPlayerState[zn]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case e5:var cf=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=Km(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||cf)&&this.emitDailyJSEvent(g);break;case y5:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case b5:case x5:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case fS:case hS:case c5:case u5:case d5:case i5:case o5:case l5:case qR:case HR:case h5:case m5:case"test-completed":case j5:case f5:case C5:case k5:case E5:case M5:case pS:case A5:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,S){var w="record";g&&(S.local||S[w]!==!1||g[w]===S[w]||this.emitDailyJSEvent({action:hS}))}},{key:"maybeEventRecordingStarted",value:function(g,S){var w="record";g&&(S.local||S[w]!==!0||g[w]===S[w]||this.emitDailyJSEvent({action:fS}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==DR)}},{key:"_trackChanged",value:function(g,S){return g?.id!==S?.id}},{key:"maybeEventTrackStopped",value:function(g,S,w){var O,E,U=(O=S?.tracks[g])!==null&&O!==void 0?O:null,Z=(E=w?.tracks[g])!==null&&E!==void 0?E:null,G=U?.track;if(G){var ie=this._trackStatePlayable(U),ue=this._trackStatePlayable(Z),Me=this._trackChanged(G,Z?.track);ie&&(ue&&!Me||this.emitDailyJSEvent({action:r5,track:G,participant:w??S,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,S,w){var O,E,U=(O=S?.tracks[g])!==null&&O!==void 0?O:null,Z=(E=w?.tracks[g])!==null&&E!==void 0?E:null,G=Z?.track;if(G){var ie=this._trackStatePlayable(U),ue=this._trackStatePlayable(Z),Me=this._trackChanged(U?.track,G);ue&&(ie&&!Me||this.emitDailyJSEvent({action:s5,track:G,participant:w,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,S){if(g)for(var w in g.tracks)this.maybeEventTrackStopped(w,g,S)}},{key:"maybeParticipantTracksStarted",value:function(g,S){if(S)for(var w in S.tracks)this.maybeEventTrackStarted(w,g,S)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,S){var w,O;return g.state===S.state&&((w=g.settings)===null||w===void 0?void 0:w.volume)===((O=S.settings)===null||O===void 0?void 0:O.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(S){console.log("could not emit",g,S)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,S){return!!_n(g,S)&&(!g.videoTrack||!S.videoTrack||g.videoTrack.id===S.videoTrack.id&&g.videoTrack.muted===S.videoTrack.muted&&g.videoTrack.enabled===S.videoTrack.enabled)&&(!g.audioTrack||!S.audioTrack||g.audioTrack.id===S.audioTrack.id&&g.audioTrack.muted===S.audioTrack.muted&&g.audioTrack.enabled===S.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Xe()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||S!==this._isPreparingToJoin){var w=this._callState,O=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=S;var E=this._callState===zr;this.updateShowAndroidOngoingMeetingNotification(E);var U=ed(w,O),Z=ed(this._callState,this._isPreparingToJoin);U!==Z&&(this.updateKeepDeviceAwake(Z),this.updateDeviceAudioMode(Z),this.updateNoOpRecordingEnsuringBackgroundContinuity(Z))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=FS,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Vm},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Km(VS,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Fm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){Xe()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(Xe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var S=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(S)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(Xe()&&this.nativeUtils().setShowOngoingMeetingNotification){var S,w,O,E;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var U=this.properties.reactNativeConfig.androidInCallNotification;S=U.title,w=U.subtitle,O=U.iconName,E=U.disableForCustomOverride}E&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,S,w,O,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){Xe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(Xe()){var S=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var w in S?.streams){var O=S.streams[w];O&&O.pendingTrack&&O.pendingTrack.kind==="audio"&&(O.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var S=document.createElement("a");return S.href=g,S.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Rr)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var S={action:Hu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(S)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var w={action:Hu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(w,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,S=Object.values(Rr);g<S.length;g++){var w=S[g];w._callMachineInitialized?(w.sendMessageToCallMachine({action:Hu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),w._delayDuplicateInstanceLog=!1):w._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var S,w,O,E;if(!((S=g.error)!==null&&S!==void 0&&S.type&&(![zR,LR,uS].includes(g.error.type)||g.error.type===uS&&g.error.msg.includes("deleted")))){var U=(w=this.properties)!==null&&w!==void 0&&w.url?new URL(this.properties.url):void 0,Z="production";U&&U.host.includes(".staging.daily")&&(Z="staging");var G,ie,ue,Me,ct,Xt=(function(ht){const zn=[W3(),K3(),NR(),_R(),MR(),OR(),aR(),AR()];return ht.autoSessionTracking!==!1&&zn.push(ER()),zn})({}).filter((function(ht){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(ht.name)})),Et=new dR({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:gR,stackParser:SR,integrations:Xt,environment:Z}),te=new ir;if(te.setClient(Et),Et.init(),this.session_id&&te.setExtra("sessionId",this.session_id),this.properties){var se=je({},this.properties);se.userName=se.userName?"[Filtered]":void 0,se.userData=se.userData?"[Filtered]":void 0,se.token=se.token?"[Filtered]":void 0,te.setExtra("properties",se)}if(U){var $e=U.searchParams.get("domain");if(!$e){var Le=U.host.match(/(.*?)\./);$e=Le&&Le[1]||""}$e&&te.setTag("domain",$e)}g.error&&(te.setTag("fatalErrorType",g.error.type),te.setExtra("errorDetails",g.error.details),!((G=g.error.details)===null||G===void 0)&&G.uri&&te.setTag("serverAddress",g.error.details.uri),!((ie=g.error.details)===null||ie===void 0)&&ie.workerGroup&&te.setTag("workerGroup",g.error.details.workerGroup),!((ue=g.error.details)===null||ue===void 0)&&ue.geoGroup&&te.setTag("geoGroup",g.error.details.geoGroup),!((Me=g.error.details)===null||Me===void 0)&&Me.on&&te.setTag("connectionAttempt",g.error.details.on),(ct=g.error.details)!==null&&ct!==void 0&&ct.bundleUrl&&(te.setTag("bundleUrl",g.error.details.bundleUrl),te.setTag("bundleError",g.error.details.sourceError.type))),te.setTags({callMode:this._callObjectMode?Xe()?"reactNative":(O=this.properties)!==null&&O!==void 0&&(O=O.dailyConfig)!==null&&O!==void 0&&(O=O.callMode)!==null&&O!==void 0&&O.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var yt=((E=g.error)===null||E===void 0?void 0:E.msg)||g.errorMsg;te.captureException(new Error(yt))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!_n(this._inputSettings,g)){var S=this._getInputSettings();this._inputSettings=g;var w=this._getInputSettings();_n(S,w)||this.emitDailyJSEvent({action:mS,inputSettings:w})}}}],[{key:"supportedBrowser",value:function(){if(Xe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=b3.getParser(ya());return{supported:!!$m(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!wS(),supportsScreenShare:!!P5(),supportsSfu:!!$m(),supportsVideoProcessing:NN(),supportsAudioProcessing:TN()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new t(null,g)}},{key:"wrap",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ke(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return S.layout||(S.customLayout?S.layout="custom-v1":S.layout="browser"),new t(g,S)}},{key:"createFrame",value:function(g,S){var w,O;Ke(),g&&S?(w=g,O=S):g&&g.append?(w=g,O={}):(w=document.body,O=g||{});var E=O.iframeStyle;E||(E=w===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var U=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?U.allow="microphone, camera":U.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",U.style.visibility="hidden",w.appendChild(U),U.style.visibility=null,Object.keys(E).forEach((function(Z){return U.style[Z]=E[Z]})),O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser");try{return new t(U,O)}catch(Z){throw w.removeChild(U),Z}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke();var S=document.createElement("iframe");return S.allow="microphone; camera; autoplay",S.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(S),g.layout||(g.layout="custom-v1"),t.wrap(S,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Rr[g]:Object.values(Rr)[0]}}]);var e,a,r,o,u,d,h,p,v,y,_,T,A,M,j,C,k,D,P,Q,F,H,Y,J,ce,pe,Ne,Pe,st,ge,De,I,ne,X,Ee,Se,tt,le})();function $S(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ji(t,e){var a={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),a[r]=bs;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var o=window._daily.instances[e].customCallbacks||{};o.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=o,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var u=window._daily.instances[e].customCallbacks||{};u.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=u,delete t[r].modifyRemoteSdpHook}a[r]=t[r]}else a[r]=t[r];return a}function wt(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==zr){var a="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(a+=" ".concat(e)),console.error(a),new Error(a)}}function ed(t,e){return[zp,zr].includes(t)||e}function Zm(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(ed(t,e)){var o="".concat(a," not supported after joining a meeting.");throw r&&(o+=" ".concat(r)),console.error(o),new Error(o)}}function Gu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",a=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw a&&(r+=" ".concat(a)),console.error(r),new Error(r)}}function Jm(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Na(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Gn(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Ke(){if(Xe())throw new Error("This daily-js method is not currently supported in React Native")}function jl(){if(!Xe())throw new Error("This daily-js method is only supported in React Native")}function UN(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),_n(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(a){throw Error("userData must be serializable to JSON: ".concat(a))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function BN(t,e){for(var a=e.allowAllParticipantsKey,r=function(_){var T=["local"];return a||T.push("*"),_&&!T.includes(_)},o=function(_){return!!(_.layer===void 0||Number.isInteger(_.layer)&&_.layer>=0||_.layer==="inherit")},u=function(_){return!!_&&!(_.video&&!o(_.video))&&!(_.screenVideo&&!o(_.screenVideo))},d=0,h=Object.entries(t);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];if(!r(v)||!u(y))return!1}return!0}function VN(t){if(nt(t)!=="object")return!1;for(var e=0,a=Object.entries(t);e<a.length;e++){var r=yn(a[e],2),o=r[0],u=r[1];switch(o){case"video":if(nt(u)!=="object")return!1;for(var d=0,h=Object.entries(u);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];switch(v){case"processor":if(!uP(y))return!1;break;case"settings":if(!QS(y))return!1;break;default:return!1}}break;case"audio":if(nt(u)!=="object")return!1;for(var _=0,T=Object.entries(u);_<T.length;_++){var A=yn(T[_],2),M=A[0],j=A[1];switch(M){case"processor":if(!cP(j))return!1;break;case"settings":if(!QS(j))return!1;break;default:return!1}}break;default:return!1}}return!0}function FN(t,e,a){var r,o=[];t.video&&t.video.processor&&(NN((r=e?.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,o.push("video"))),t.audio&&t.audio.processor&&(TN()||(t.audio.settings?delete t.audio.processor:delete t.audio,o.push("audio"))),o.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(o.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(a.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:bs}):delete a.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(a.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:bs}):delete a.videoTrack)}function cP(t){if(Xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&nt(t)==="object"&&(Object.keys(t).filter((function(a){return!e.includes(a)})).forEach((function(a){console.warn("invalid key inputSettings -> audio -> processor : ".concat(a)),delete t[a]})),!!(function(a){return typeof a!="string"?!1:Object.values(_N).includes(a)?!0:(console.error("inputSettings audio processor type invalid"),!1)})(t.type))}function uP(t){if(Xe())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||nt(t)!=="object"||!(function(a){return typeof a!="string"?!1:Object.values(Wu).includes(a)?!0:(console.error("inputSettings video processor type invalid"),!1)})(t.type)||t.config&&(nt(t.config)!=="object"||!(function(a,r){var o=Object.keys(r);if(o.length===0)return!0;var u="invalid object in inputSettings -> video -> processor -> config";switch(a){case Wu.BGBLUR:return o.length>1||o[0]!=="strength"?(console.error(u),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(u,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Wu.BGIMAGE:return!(r.source!==void 0&&!(function(d){if(d.source==="default")return d.type="default",!0;if(d.source instanceof ArrayBuffer)return!0;if(dd(d.source))return d.type="url",!!(function(v){var y=new URL(v),_=y.pathname;if(y.protocol==="data:")try{var T=_.substring(_.indexOf(":")+1,_.indexOf(";")).split("/")[1];return Hm.includes(T)}catch(M){return console.error("failed to deduce blob content type",M),!1}var A=_.split(".").at(-1).toLowerCase().trim();return Hm.includes(A)})(d.source)||(console.error("invalid image type; supported types: [".concat(Hm.join(", "),"]")),!1);return h=d.source,p=Number(h),isNaN(p)||!Number.isInteger(p)||p<=0||p>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(d.type="daily-preselect",!0);var h,p})(r));default:return!0}})(t.type,t.config))?!1:(Object.keys(t).filter((function(a){return!e.includes(a)})).forEach((function(a){console.warn("invalid key inputSettings -> video -> processor : ".concat(a)),delete t[a]})),!0)}function QS(t){return nt(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Hp(){var t=Object.values(Wu).join(" | "),e=Object.values(_N).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function qN(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(PR).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function HN(){return"customIntegrations should be an object of type ".concat(JSON.stringify(qp),".")}function $N(t){if(t&&nt(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(yd),".")),!1;if(t)for(var e=0,a=Object.entries(t);e<a.length;e++)for(var r=yn(a[e],1)[0],o=0,u=Object.entries(t[r]);o<u.length;o++){var d=yn(u[o],2),h=d[0],p=d[1],v=yd.id[h];if(!v)return console.error("customTrayButton does not support key ".concat(h)),!1;switch(h){case"iconPath":case"iconPathDarkMode":if(!dd(p))return console.error("customTrayButton ".concat(h," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(p))return console.error("customTrayButton ".concat(h," should be ").concat(v,". Got: ").concat(p)),!1;break;default:if(nt(p)!==v)return console.error("customTrayButton ".concat(h," should be a ").concat(v,".")),!1}}return!0}function QN(t){if(!t||t&&nt(t)!=="object"||Array.isArray(t))return console.error(HN()),!1;for(var e=function(_){return"".concat(_," should be ").concat(qp.id[_])},a=function(_,T){return console.error("customIntegration ".concat(_,": ").concat(T))},r=0,o=Object.entries(t);r<o.length;r++){var u=yn(o[r],1)[0];if(!("label"in t[u]))return a(u,"label is required"),!1;if(!("location"in t[u]))return a(u,"location is required"),!1;if(!("src"in t[u])&&!("srcdoc"in t[u]))return a(u,"src or srcdoc is required"),!1;for(var d=0,h=Object.entries(t[u]);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];switch(v){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof y!="string")return a(u,e(v)),!1;break;case"iconURL":if(!dd(y))return a(u,"".concat(v," should be a url")),!1;break;case"src":if("srcdoc"in t[u])return a(u,"cannot have both src and srcdoc"),!1;if(!dd(y))return a(u,'src "'.concat(y,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[u])return a(u,"cannot have both src and srcdoc"),!1;if(typeof y!="string")return a(u,e(v)),!1;break;case"location":if(!["main","sidebar"].includes(y))return a(u,e(v)),!1;break;case"controlledBy":if(y!=="*"&&y!=="owners"&&(!Array.isArray(y)||y.some((function(_){return typeof _!="string"}))))return a(u,e(v)),!1;break;case"shared":if((!Array.isArray(y)||y.some((function(_){return typeof _!="string"})))&&y!=="owners"&&typeof y!="boolean")return a(u,e(v)),!1;break;default:if(!qp.id[v])return console.error("customIntegration does not support key ".concat(v)),!1}}}return!0}function GN(t,e){if(e===void 0)return!1;switch(nt(e)){case"string":return nt(t)===e;case"object":if(nt(t)!=="object")return!1;for(var a in t)if(!GN(t[a],e[a]))return!1;return!0;default:return!1}}function GS(t,e){var a=t.sessionId,r=t.toEndPoint,o=t.callerId,u=t.useSipRefer;if(!a||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof a!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(u&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(o&&typeof o!="string")throw new Error("callerId must be of type string");if(o&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function YS(t){if(nt(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Ip).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Ip));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function ZS(t,e,a){return!(typeof t!="number"||t<e||t>a)}function Km(t,e){return t&&!e&&delete t.data,t}function dP({caseId:t,caseName:e,userId:a,userName:r,onClose:o}){const{toast:u}=ba(),[d,h]=x.useState("idle"),[p,v]=x.useState(!1),[y,_]=x.useState(!1),[T,A]=x.useState(!1),[M,j]=x.useState(!1),[C,k]=x.useState(0),[D,P]=x.useState(null),[Q,F]=x.useState(null),[H,Y]=x.useState(null),[J,ce]=x.useState(!1),[pe,Ne]=x.useState(!1),[Pe,st]=x.useState(null),[ge,De]=x.useState(0),[I,ne]=x.useState(!1),[X,Ee]=x.useState(!1),[Se,tt]=x.useState([]),le=x.useRef(null),g=x.useRef(null),S=x.useRef(null);x.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[Se]),x.useEffect(()=>{let se=null;return pe&&Pe?se=setInterval(()=>{De(Math.floor((Date.now()-Pe.getTime())/1e3))},1e3):De(0),()=>{se&&clearInterval(se)}},[pe,Pe]);const w=se=>{const $e=Math.floor(se/60),Le=se%60;return`${$e.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}`},O=x.useCallback(async()=>{if(D)try{await navigator.clipboard.writeText(D),ce(!0),u({title:"Link copied!",description:"Share this link with Ben to join the video call"}),setTimeout(()=>ce(!1),3e3)}catch{u({title:"Failed to copy link",description:D,variant:"destructive"})}},[D,u]),E=x.useCallback(async()=>{if(le.current&&d==="joined")try{await le.current.startRecording({layout:{preset:"default"}}),Ne(!0),st(new Date),u({title:"Recording started",description:"This call is now being recorded"})}catch(se){console.error("Failed to start recording:",se),u({title:"Failed to start recording",variant:"destructive"})}},[d,u]),U=x.useCallback(async()=>{if(le.current&&pe)try{await le.current.stopRecording(),Ne(!1),st(null),u({title:"Recording stopped",description:"Recording has been saved"}),Q&&fetch(`/api/cases/${t}/call-recording`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomName:Q,transcript:Se})}).catch(console.error)}catch(se){console.error("Failed to stop recording:",se),u({title:"Failed to stop recording",variant:"destructive"})}},[pe,t,Q,Se,u]),Z=x.useCallback(async()=>{if(le.current&&d==="joined")try{await le.current.startTranscription({language:"en",model:"nova-2",punctuate:!0,includeRawResponse:!0}),ne(!0),Ee(!0),u({title:"Transcription started",description:"Live transcript is now active"})}catch(se){console.error("Failed to start transcription:",se),u({title:"Failed to start transcription",description:"Transcription may require additional setup",variant:"destructive"})}},[d,u]),G=x.useCallback(async()=>{if(le.current&&I)try{await le.current.stopTranscription(),ne(!1),u({title:"Transcription stopped"})}catch(se){console.error("Failed to stop transcription:",se)}},[I,u]),ie=x.useCallback(async()=>{h("joining"),Y(null);try{const se=await fetch(`/api/cases/${t}/video-room`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,userName:r})});if(!se.ok){const Le=await se.json();throw new Error(Le.error||"Failed to create video room")}const $e=await se.json();P($e.url),F($e.roomName),le.current||(le.current=lP.createCallObject({showLeaveButton:!1,showFullscreenButton:!1})),le.current.on("joined-meeting",()=>{h("joined"),ue()}),le.current.on("left-meeting",()=>{h("idle"),k(0),Ne(!1),ne(!1)}),le.current.on("participant-joined",ue),le.current.on("participant-left",ue),le.current.on("transcription-message",Le=>{if(Le&&Le.text){const yt={id:`${Date.now()}-${Math.random()}`,speaker:Le.user_name||Le.user_id||"Unknown",text:Le.text,timestamp:new Date,isFinal:Le.is_final!==!1};tt(ht=>{if(!yt.isFinal){const zn=ht.findIndex(Rt=>Rt.speaker===yt.speaker&&!Rt.isFinal);if(zn>=0){const Rt=[...ht];return Rt[zn]=yt,Rt}}return[...ht,yt].slice(-100)})}}),le.current.on("transcription-started",()=>{ne(!0)}),le.current.on("transcription-stopped",()=>{ne(!1)}),le.current.on("recording-started",()=>{Ne(!0),st(new Date)}),le.current.on("recording-stopped",()=>{Ne(!1),st(null)}),le.current.on("error",Le=>{console.error("Daily error:",Le),Y("Video call error occurred"),h("error")}),await le.current.join({url:$e.url,userName:r})}catch(se){console.error("Failed to join video call:",se),Y(se instanceof Error?se.message:"Failed to join video call"),h("error")}},[t,a,r]),ue=x.useCallback(()=>{if(le.current){const se=le.current.participants();k(Object.keys(se).length)}},[]),Me=x.useCallback(async()=>{pe&&await U(),I&&await G(),le.current&&(await le.current.leave(),le.current.destroy(),le.current=null);try{await fetch(`/api/cases/${t}/video-room`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a})})}catch(se){console.error("Failed to notify leave:",se)}h("idle"),P(null),F(null),tt([])},[t,a,pe,I,U,G]),ct=x.useCallback(()=>{if(le.current){const se=!p;le.current.setLocalAudio(!se),v(se)}},[p]),Xt=x.useCallback(()=>{if(le.current){const se=!y;le.current.setLocalVideo(!se),_(se)}},[y]),Et=x.useCallback(async()=>{le.current&&(T?await le.current.stopScreenShare():await le.current.startScreenShare(),A(!T))},[T]);x.useEffect(()=>()=>{le.current&&(le.current.leave(),le.current.destroy())},[]),x.useEffect(()=>{if(le.current&&g.current&&d==="joined"){const se=le.current.iframe();se&&(g.current.innerHTML="",se.style.width="100%",se.style.height="100%",se.style.border="none",se.style.borderRadius="8px",g.current.appendChild(se))}},[d]);const te=async()=>{await Me(),o()};return M?l.jsx(We,{className:"fixed bottom-4 right-4 z-50 p-3 shadow-lg bg-background/95 backdrop-blur border-primary/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[pe&&l.jsxs("div",{className:"flex items-center gap-1 text-red-500 animate-pulse",children:[l.jsx(Nl,{className:"w-3 h-3 fill-red-500"}),l.jsx("span",{className:"text-xs font-mono",children:w(ge)})]}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),l.jsx("span",{className:"text-sm font-medium",children:"Video Call Active"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(ad,{className:"w-3 h-3"}),C]}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>j(!1),children:l.jsx(IA,{className:"w-4 h-4"})}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:te,children:l.jsx(B0,{className:"w-4 h-4"})})]})}):l.jsxs(We,{className:`fixed bottom-4 right-4 z-50 shadow-2xl bg-background/95 backdrop-blur border-primary/20 flex flex-col overflow-hidden ${X&&d==="joined"?"w-[calc(100vw-2rem)] sm:w-[600px] h-[450px]":"w-[calc(100vw-2rem)] sm:w-[400px] h-[300px] sm:h-[350px]"}`,"data-testid":"video-call-panel",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[pe&&l.jsxs("div",{className:"flex items-center gap-1 text-red-500 animate-pulse",children:[l.jsx(Nl,{className:"w-3 h-3 fill-red-500"}),l.jsx("span",{className:"text-xs font-mono",children:w(ge)})]}),l.jsx(Tl,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium truncate max-w-[150px]",children:e}),d==="joined"&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(ad,{className:"w-3 h-3"}),C]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[d==="joined"&&l.jsx(me,{variant:X?"default":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>Ee(!X),title:"Toggle transcript",children:l.jsx(hp,{className:"w-4 h-4"})}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>j(!0),children:l.jsx(A1,{className:"w-4 h-4"})}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:te,children:l.jsx(lo,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsxs("div",{className:`flex-1 bg-slate-900 relative ${X&&d==="joined"?"w-1/2":"w-full"}`,ref:g,children:[d==="idle"&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[l.jsx(Tl,{className:"w-12 h-12 text-primary"}),l.jsx("p",{className:"text-sm text-slate-300",children:"Start a video call with your team"}),l.jsxs(me,{onClick:ie,className:"gap-2","data-testid":"button-join-call",children:[l.jsx(Tl,{className:"w-4 h-4"}),"Join Call"]})]}),d==="joining"&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[l.jsx(rn,{className:"w-8 h-8 animate-spin text-primary"}),l.jsx("p",{className:"text-sm text-slate-300",children:"Joining video call..."})]}),d==="error"&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[l.jsx(F0,{className:"w-12 h-12 text-destructive"}),l.jsx("p",{className:"text-sm text-red-400",children:H||"Failed to join call"}),l.jsx(me,{variant:"outline",onClick:ie,className:"gap-2",children:"Try Again"})]})]}),X&&d==="joined"&&l.jsxs("div",{className:"w-1/2 border-l bg-background flex flex-col",children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium",children:"Live Transcript"}),I?l.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[l.jsx(Nl,{className:"w-2 h-2 fill-green-500 animate-pulse"}),l.jsx("span",{className:"text-xs",children:"Live"})]}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"Paused"})]}),l.jsx(Jr,{className:"flex-1 p-2",children:Se.length===0?l.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:I?"Listening for speech...":"Start transcription to see live captions"}):l.jsxs("div",{className:"space-y-2",children:[Se.filter(se=>se.isFinal).map(se=>l.jsxs("div",{className:"text-xs",children:[l.jsxs("span",{className:"font-medium text-primary",children:[se.speaker,": "]}),l.jsx("span",{className:se.isFinal?"":"text-muted-foreground italic",children:se.text})]},se.id)),l.jsx("div",{ref:S})]})})]})]}),d==="joined"&&l.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 p-2 sm:p-3 border-t bg-muted/30 flex-wrap",children:[l.jsx(me,{variant:p?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:ct,"data-testid":"button-toggle-mute",children:p?l.jsx(M1,{className:"w-4 h-4"}):l.jsx(Br,{className:"w-4 h-4"})}),l.jsx(me,{variant:y?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:Xt,"data-testid":"button-toggle-video",children:y?l.jsx(F0,{className:"w-4 h-4"}):l.jsx(Tl,{className:"w-4 h-4"})}),l.jsx(me,{variant:T?"default":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:Et,"data-testid":"button-screen-share",title:"Share your screen",children:l.jsx(GA,{className:"w-4 h-4"})}),l.jsx(me,{variant:pe?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:pe?U:E,"data-testid":"button-toggle-recording",title:pe?"Stop recording":"Start recording",children:pe?l.jsx(aA,{className:"w-4 h-4"}):l.jsx(Nl,{className:"w-4 h-4"})}),l.jsx(me,{variant:I?"default":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:I?G:Z,"data-testid":"button-toggle-transcription",title:I?"Stop transcription":"Start live transcription",children:l.jsx(hp,{className:"w-4 h-4"})}),l.jsx(me,{variant:J?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:O,"data-testid":"button-share-link",title:"Copy invite link to share with others",children:J?l.jsx(Ur,{className:"w-4 h-4"}):l.jsx(DA,{className:"w-4 h-4"})}),l.jsx(me,{variant:"destructive",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:te,"data-testid":"button-end-call",children:l.jsx(B0,{className:"w-4 h-4"})})]})]})}function fP({caseId:t,userId:e,userName:a,userColor:r="#3b82f6",onClose:o}){const[u,d]=x.useState([]),[h,p]=x.useState(""),[v,y]=x.useState(!1),[_,T]=x.useState(0),A=x.useRef(null),M=x.useRef(null),j=x.useRef(!0),C=x.useRef(null);x.useEffect(()=>{const P=()=>{if(!j.current)return;const F=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/collaboration`,H=new WebSocket(F);A.current=H,H.onopen=()=>{H.send(JSON.stringify({type:"join",caseId:t,userId:e,userName:a}))},H.onmessage=Y=>{try{const J=JSON.parse(Y.data);if(J.type==="chat"&&J.caseId===t){const ce={id:`${Date.now()}-${Math.random()}`,userId:J.userId,userName:J.userName,userColor:J.userColor||"#3b82f6",content:J.content,timestamp:new Date};d(pe=>[...pe,ce]),v&&J.userId!==e&&T(pe=>pe+1)}}catch(J){console.error("Failed to parse chat message:",J)}},H.onclose=()=>{j.current&&(C.current=setTimeout(P,3e3))},H.onerror=()=>H.close()};return P(),()=>{j.current=!1,C.current&&clearTimeout(C.current),A.current?.close()}},[t,e,a,v]),x.useEffect(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},[u]);const k=()=>{if(!h.trim()||!A.current)return;const P={type:"chat",caseId:t,userId:e,userName:a,userColor:r,content:h.trim()};A.current.send(JSON.stringify(P)),d(Q=>[...Q,{id:`${Date.now()}-${Math.random()}`,userId:e,userName:a,userColor:r,content:h.trim(),timestamp:new Date}]),p("")},D=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),k())};return v?l.jsx(We,{className:"fixed bottom-4 left-4 z-50 p-3 shadow-lg bg-background/95 backdrop-blur border-primary/20 cursor-pointer",onClick:()=>{y(!1),T(0)},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Al,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Chat"}),_>0&&l.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded-full",children:_}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:P=>{P.stopPropagation(),o()},children:l.jsx(lo,{className:"w-4 h-4"})})]})}):l.jsxs(We,{className:"fixed bottom-4 left-4 z-50 w-[calc(100vw-2rem)] sm:w-[320px] h-[350px] sm:h-[400px] shadow-2xl bg-background/95 backdrop-blur border-primary/20 flex flex-col overflow-hidden","data-testid":"collaboration-chat",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Al,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium",children:"Team Chat"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>y(!0),children:l.jsx(A1,{className:"w-4 h-4"})}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:o,children:l.jsx(lo,{className:"w-4 h-4"})})]})]}),l.jsx(Jr,{className:"flex-1 p-3",ref:M,children:u.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-center p-4",children:[l.jsx(Al,{className:"w-8 h-8 mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No messages yet"}),l.jsx("p",{className:"text-xs",children:"Start the conversation!"})]}):l.jsx("div",{className:"space-y-3",children:u.map(P=>l.jsxs("div",{className:`flex gap-2 ${P.userId===e?"flex-row-reverse":""}`,children:[l.jsx(ld,{className:"w-7 h-7 shrink-0",children:l.jsx(cd,{className:"text-[10px] font-semibold text-white",style:{backgroundColor:P.userColor},children:P.userName.slice(0,2).toUpperCase()})}),l.jsxs("div",{className:`max-w-[200px] ${P.userId===e?"text-right":""}`,children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:P.userId===e?"You":P.userName}),l.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${P.userId===e?"bg-primary text-primary-foreground":"bg-muted"}`,children:P.content})]})]},P.id))})}),l.jsx("div",{className:"p-3 border-t bg-muted/30",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx($t,{value:h,onChange:P=>p(P.target.value),onKeyPress:D,placeholder:"Type a message...",className:"flex-1 h-9","data-testid":"input-chat-message"}),l.jsx(me,{size:"icon",className:"h-9 w-9 shrink-0",onClick:k,disabled:!h.trim(),"data-testid":"button-send-message",children:l.jsx(jg,{className:"w-4 h-4"})})]})})]})}function hP({caseId:t,caseName:e}){const[a,r]=x.useState(null),[o,u]=x.useState([]),[d,h]=x.useState(""),[p,v]=x.useState(!1),[y,_]=x.useState(""),T=x.useRef(null),{toast:A}=ba(),M=Pa(),{data:j=[],isLoading:C}=pn({queryKey:["conversations"],queryFn:vD}),{data:k,isLoading:D}=pn({queryKey:["conversation",a],queryFn:()=>yD(a),enabled:!!a});x.useEffect(()=>{k&&u(k.messages||[])},[k]),x.useEffect(()=>{T.current&&(T.current.scrollTop=T.current.scrollHeight)},[o,y]);const P=Xn({mutationFn:()=>K0(`Chat about ${e}`,t),onSuccess:Y=>{M.invalidateQueries({queryKey:["conversations"]}),r(Y.id),u([])},onError:()=>{A({title:"Failed to create conversation",variant:"destructive"})}}),Q=Xn({mutationFn:bD,onSuccess:()=>{M.invalidateQueries({queryKey:["conversations"]}),a&&(r(null),u([]))}}),F=async()=>{if(!d.trim()||p)return;let Y=a;if(!Y){const ce=await K0(`Chat about ${e}`,t);Y=ce.id,r(ce.id),M.invalidateQueries({queryKey:["conversations"]})}const J={id:Date.now(),conversationId:Y,role:"user",content:d,createdAt:new Date().toISOString()};u(ce=>[...ce,J]),h(""),v(!0),_("");try{await xD(Y,J.content,pe=>{_(Ne=>Ne+pe)});const ce={id:Date.now()+1,conversationId:Y,role:"assistant",content:y,createdAt:new Date().toISOString()};M.invalidateQueries({queryKey:["conversation",Y]})}catch{A({title:"Failed to send message",description:"Please try again.",variant:"destructive"})}finally{v(!1),_(""),M.invalidateQueries({queryKey:["conversation",Y]})}},H=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),F())};return l.jsxs("div",{className:"h-full flex gap-4","data-testid":"ai-chat-container",children:[l.jsxs("div",{className:"w-48 md:w-64 border-r pr-4 flex flex-col",children:[l.jsxs(me,{onClick:()=>P.mutate(),disabled:P.isPending,size:"sm",className:"mb-4 gap-2","data-testid":"button-new-chat",children:[l.jsx(Yr,{className:"w-4 h-4"}),"New Chat"]}),l.jsx(Jr,{className:"flex-1",children:l.jsxs("div",{className:"space-y-1",children:[C&&l.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}),j.map(Y=>l.jsxs("div",{className:`group flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors ${a===Y.id?"bg-accent text-accent-foreground":"hover:bg-muted"}`,onClick:()=>r(Y.id),"data-testid":`conversation-${Y.id}`,children:[l.jsx(Al,{className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{className:"text-sm truncate flex-1",children:Y.title}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:J=>{J.stopPropagation(),Q.mutate(Y.id)},"data-testid":`delete-conversation-${Y.id}`,children:l.jsx(nc,{className:"w-3 h-3"})})]},Y.id)),!C&&j.length===0&&l.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No conversations yet"})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[!a&&o.length===0?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-accent/10 flex items-center justify-center mb-4",children:l.jsx(Pd,{className:"w-8 h-8 text-accent"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"AI Legal Assistant"}),l.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-6",children:"Ask questions about your case, get legal insights, research precedents, or get help drafting documents. The AI has context about all files in this case."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 w-full max-w-lg",children:["Summarize the key facts of this case","What are the strongest arguments for the defense?","Find inconsistencies in the witness testimony","Draft a motion to dismiss outline"].map(Y=>l.jsx("button",{className:"text-left text-sm p-3 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors",onClick:()=>{h(Y)},"data-testid":`prompt-suggestion-${Y.slice(0,20)}`,children:Y},Y))})]}):l.jsx(Jr,{className:"flex-1 p-4",ref:T,children:l.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[D&&l.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[l.jsx(rn,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading messages..."]}),o.map(Y=>l.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,"data-testid":`message-${Y.id}`,children:l.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${Y.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Y.content})})},Y.id)),p&&y&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"max-w-[80%] rounded-lg px-4 py-3 bg-muted",children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:y}),l.jsx("span",{className:"inline-block w-2 h-4 bg-primary/50 animate-pulse ml-1"})]})}),p&&!y&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-muted rounded-lg px-4 py-3",children:l.jsx(rn,{className:"w-4 h-4 animate-spin"})})})]})}),l.jsx("div",{className:"border-t p-4",children:l.jsxs("div",{className:"flex gap-2 max-w-3xl mx-auto",children:[l.jsx($t,{placeholder:"Ask about your case...",value:d,onChange:Y=>h(Y.target.value),onKeyDown:H,disabled:p,className:"flex-1","data-testid":"input-chat-message"}),l.jsx(me,{onClick:F,disabled:!d.trim()||p,"data-testid":"button-send-message",children:p?l.jsx(rn,{className:"w-4 h-4 animate-spin"}):l.jsx(jg,{className:"w-4 h-4"})})]})})]})]})}function mP(){const[t,e]=Ad("/case/:id"),a=e?.id,[,r]=ec(),{toast:o}=ba(),u=Pa(),{data:d,isLoading:h}=pn({queryKey:["case",a],queryFn:()=>aD(a),enabled:!!a}),{collaborators:p,isConnected:v,userId:y,userName:_}=a3(a?parseInt(a):null),[T,A]=x.useState(!1),[M,j]=x.useState(!1),[C,k]=x.useState(!1),D=async()=>{if(a){k(!0);try{const Q=await wD(a),F=window.URL.createObjectURL(Q),H=document.createElement("a");H.href=F,H.download=`${d?.caseNumber||"case"}-export.json`,document.body.appendChild(H),H.click(),window.URL.revokeObjectURL(F),document.body.removeChild(H),o({title:"Case exported successfully"})}catch{o({title:"Failed to export case",variant:"destructive"})}finally{k(!1)}}},P=Xn({mutationFn:()=>dj(a),onSuccess:()=>{u.invalidateQueries({queryKey:["cases"]}),o({title:"Case deleted successfully"}),r("/")},onError:()=>{o({title:"Failed to delete case",variant:"destructive"})}});return h?l.jsx(xs,{children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading case..."})})})}):d?l.jsxs(xs,{children:[l.jsxs("div",{className:"min-h-[calc(100vh-8rem)] md:h-[calc(100vh-8rem)] flex flex-col",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-4 md:mb-6",children:[l.jsxs("div",{className:"w-full sm:flex-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[l.jsx(Kt,{variant:"outline",className:"font-mono text-xs border-primary/20 text-primary bg-primary/5",children:d.caseNumber}),l.jsx(Kt,{className:d.status==="active"?"bg-green-600":"bg-slate-500",children:d.status}),l.jsx("div",{className:"hidden sm:block ml-2",children:l.jsx(tw,{collaborators:p,isConnected:v})})]}),l.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif font-bold text-primary",children:d.title}),l.jsx("p",{className:"text-sm md:text-base text-muted-foreground max-w-2xl mt-1 line-clamp-2 sm:line-clamp-none",children:d.description||"No description available"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"sm:hidden",children:l.jsx(tw,{collaborators:p,isConnected:v})}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs(me,{variant:M?"default":"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:()=>j(!M),"data-testid":"button-chat",children:[l.jsx(Al,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),l.jsxs(me,{variant:T?"default":"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:()=>A(!T),"data-testid":"button-video-call",children:[l.jsx(tO,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Video Call"})]}),l.jsx(pP,{}),l.jsxs(me,{variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:D,disabled:C,"data-testid":"button-export-case",children:[C?l.jsx(rn,{className:"w-4 h-4 animate-spin sm:mr-2"}):l.jsx(fp,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),l.jsxs(Gj,{children:[l.jsx(Yj,{asChild:!0,children:l.jsx(me,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive","data-testid":"button-delete-case",children:l.jsx(nc,{className:"w-4 h-4"})})}),l.jsxs(Lg,{children:[l.jsxs(zg,{children:[l.jsx(Ug,{children:"Delete Case"}),l.jsxs(Bg,{children:['Are you sure you want to delete "',d.title,'"? This action cannot be undone and will permanently delete all case data, documents, and notes.']})]}),l.jsxs(Ig,{children:[l.jsx(Fg,{children:"Cancel"}),l.jsxs(Vg,{onClick:()=>P.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[P.isPending?l.jsx(rn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Delete Case"]})]})]})]})]})]})]}),l.jsxs($d,{defaultValue:"discovery",className:"flex-1 flex flex-col min-h-0",children:[l.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0",children:l.jsxs(sc,{className:"w-max md:w-full justify-start border-b rounded-none h-11 md:h-12 bg-transparent p-0 space-x-1 md:space-x-4",children:[l.jsxs(jn,{value:"discovery",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[l.jsx(Zr,{className:"w-4 h-4 md:mr-2"})," ",l.jsx("span",{className:"hidden md:inline",children:"Discovery"})]}),l.jsxs(jn,{value:"timeline",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[l.jsx(FM,{className:"w-4 h-4 md:mr-2"})," ",l.jsx("span",{className:"hidden md:inline",children:"Timeline"})]}),l.jsxs(jn,{value:"prep",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[l.jsx(Ld,{className:"w-4 h-4 md:mr-2"})," ",l.jsx("span",{className:"hidden md:inline",children:"Trial Prep"})]}),l.jsxs(jn,{value:"briefs",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[l.jsx(k1,{className:"w-4 h-4 md:mr-2"})," ",l.jsx("span",{className:"hidden md:inline",children:"Briefs"})]}),l.jsxs(jn,{value:"ai",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap bg-gradient-to-r from-accent/10 to-transparent",children:[l.jsx(Pd,{className:"w-4 h-4 md:mr-2 text-accent"})," ",l.jsx("span",{className:"hidden md:inline",children:"AI"})]})]})}),l.jsxs("div",{className:"flex-1 bg-card border rounded-b-lg shadow-sm mt-2 md:mt-4 overflow-hidden",children:[l.jsx(Nn,{value:"discovery",className:"h-full m-0 p-0 flex flex-col",children:l.jsx(vP,{})}),l.jsx(Nn,{value:"timeline",className:"h-full m-0 p-3 md:p-6 overflow-auto",children:l.jsx(yP,{})}),l.jsx(Nn,{value:"prep",className:"h-full m-0 p-0",children:l.jsx(bP,{})}),l.jsx(Nn,{value:"briefs",className:"h-full m-0 p-3 md:p-6 overflow-auto",children:l.jsx(xP,{caseId:a})}),l.jsx(Nn,{value:"ai",className:"h-full m-0 p-0",children:l.jsx("div",{className:"h-full min-h-[400px]",children:l.jsx(hP,{caseId:parseInt(a),caseName:d.title})})})]})]})]}),T&&l.jsx(dP,{caseId:parseInt(a),caseName:d.title,userId:y,userName:_,onClose:()=>A(!1)}),M&&l.jsx(fP,{caseId:parseInt(a),userId:y,userName:_,onClose:()=>j(!1)})]}):l.jsx(xs,{children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Case Not Found"}),l.jsxs("p",{className:"text-muted-foreground",children:["The case ID ",a," does not exist."]})]})})})}function pP(){const[t,e]=x.useState(!1),[a,r]=x.useState(null),[o,u]=x.useState("upload"),{toast:d}=ba(),{setSaving:h,setSaved:p,setError:v}=Ud(),y=Pa(),[_,T]=Ad("/case/:id"),A=T?.id,M=Xn({mutationFn:k=>rD(A,k),onMutate:()=>{h()},onSuccess:()=>{y.invalidateQueries({queryKey:["discoveryFiles",A]}),p(),d({title:"Document Saved",description:"File processed and saved to your case."}),e(!1),r(null)},onError:()=>{v(),d({title:"Upload Failed",description:"There was an error processing the file.",variant:"destructive"}),e(!1)}}),j=k=>{const D=k.target.files?.[0];D&&r(D)},C=()=>{a&&(e(!0),M.mutate(a))};return l.jsxs(Mg,{children:[l.jsx(Ag,{asChild:!0,children:l.jsxs(me,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent/90 flex-1 sm:flex-initial",children:[l.jsx(Yr,{className:"w-4 h-4 sm:mr-2"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Add Evidence"})]})}),l.jsxs(Vd,{className:"max-w-[95vw] sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Fd,{children:[l.jsx(qd,{className:"font-serif text-xl sm:text-2xl",children:"Add Discovery Material"}),l.jsx(Hd,{className:"text-sm",children:"Upload files directly or connect a cloud folder for automatic syncing."})]}),l.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-4",children:[l.jsxs(me,{variant:o==="upload"?"default":"outline",onClick:()=>u("upload"),className:"flex-1 text-sm",size:"sm","data-testid":"button-upload-mode",children:[l.jsx(dp,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Upload"})," Files"]}),l.jsxs(me,{variant:o==="cloud"?"default":"outline",onClick:()=>u("cloud"),className:"flex-1 text-sm",size:"sm","data-testid":"button-cloud-mode",children:[l.jsx(qa,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Google"})," Drive"]})]}),o==="upload"?l.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl h-48 sm:h-64 flex flex-col items-center justify-center bg-secondary/20 hover:bg-secondary/40 transition-colors p-4",children:[l.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:j,accept:".pdf,.mp4,.mp3,.jpg,.jpeg,.png,.xml,.eml,.msg","data-testid":"input-file-upload"}),t?l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(rn,{className:"w-8 sm:w-10 h-8 sm:h-10 animate-spin text-accent mx-auto"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm sm:text-base text-primary",children:"Processing with Gemini AI..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Analyzing  Extracting text  Transcribing"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-primary/5 flex items-center justify-center mb-3 sm:mb-4",children:l.jsx(dp,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})}),l.jsx("p",{className:"font-medium text-base sm:text-lg truncate max-w-full px-2",children:a?a.name:"Tap to select file"}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"Supports .mp4, .mp3, .pdf, .jpg, .xml"})]}),a&&l.jsx("button",{onClick:C,className:"mt-3 sm:mt-4 px-4 sm:px-6 py-2 bg-accent text-accent-foreground rounded-lg font-medium hover:bg-accent/90 text-sm","data-testid":"button-upload-process",children:"Upload & Process"})]})]}):l.jsx(gP,{caseId:A})]})]})}function gP({caseId:t}){const[e,a]=x.useState([]),[r,o]=x.useState(null),[u,d]=x.useState(""),{toast:h}=ba(),{setSaving:p,setSaved:v,setError:y}=Ud(),_=Pa(),T=e.length>0?e[e.length-1].id:void 0,{data:A=[],isLoading:M,error:j}=pn({queryKey:["driveFolders",T],queryFn:()=>oD(T)}),{data:C=[]}=pn({queryKey:["cloudFolders",t],queryFn:()=>lD(t),enabled:!!t}),k=Xn({mutationFn:({folderId:H,folderName:Y,batesPrefix:J})=>cD(t,H,Y,J),onMutate:()=>{p()},onSuccess:H=>{_.invalidateQueries({queryKey:["cloudFolders",t]}),h({title:"Folder Linked",description:`Now syncing ${H.folderName}...`}),D.mutate(H.id)},onError:()=>{y(),h({title:"Failed to Link Folder",variant:"destructive"})}}),D=Xn({mutationFn:H=>uD(H),onMutate:()=>{p()},onSuccess:H=>{_.invalidateQueries({queryKey:["discoveryFiles",t]}),v(),h({title:"Documents Saved",description:`${H.files.length} files synced and saved to your case.`}),o(null),d("")},onError:()=>{y(),h({title:"Sync Failed",variant:"destructive"})}}),P=H=>{a([...e,{id:H.id,name:H.name}]),o(null)},Q=H=>{a(e.slice(0,H)),o(null)},F=()=>{r&&u&&k.mutate({folderId:r.id,folderName:r.name,batesPrefix:u.toUpperCase()})};return j?l.jsxs("div",{className:"border rounded-lg p-8 text-center bg-muted/20",children:[l.jsx(qa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Google Drive not connected"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please connect your Google Drive account to browse folders."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("button",{onClick:()=>a([]),className:"text-primary hover:underline","data-testid":"button-drive-root",children:"My Drive"}),e.map((H,Y)=>l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("button",{onClick:()=>Q(Y+1),className:"text-primary hover:underline",children:H.name})]},H.id))]}),l.jsx("div",{className:"border rounded-lg h-48 overflow-auto bg-background",children:M?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(rn,{className:"w-6 h-6 animate-spin text-primary"})}):A.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No folders found"}):l.jsx("div",{className:"divide-y",children:A.map(H=>l.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-muted/50 transition-colors ${r?.id===H.id?"bg-accent/10 border-l-2 border-accent":""}`,onClick:()=>o(H),onDoubleClick:()=>P(H),"data-testid":`folder-item-${H.id}`,children:[l.jsx(yA,{className:"w-5 h-5 text-yellow-500"}),l.jsx("span",{className:"flex-1 font-medium",children:H.name}),l.jsx(me,{variant:"ghost",size:"sm",onClick:Y=>{Y.stopPropagation(),P(H)},children:l.jsx(sr,{className:"w-4 h-4"})})]},H.id))})}),r&&l.jsxs("div",{className:"space-y-3 p-4 bg-accent/5 rounded-lg border border-accent/20",children:[l.jsxs("p",{className:"font-medium",children:["Selected: ",l.jsx("span",{className:"text-accent",children:r.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium block mb-1",children:"Bates Prefix"}),l.jsx($t,{placeholder:"e.g., DEF or SMITH",value:u,onChange:H=>d(H.target.value),className:"max-w-xs","data-testid":"input-bates-prefix"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Files will be numbered as ",u||"XXX","-00001, ",u||"XXX","-00002, etc."]})]}),l.jsx(me,{onClick:F,disabled:!u||k.isPending||D.isPending,className:"bg-accent","data-testid":"button-link-folder",children:k.isPending||D.isPending?l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(qa,{className:"w-4 h-4 mr-2"}),"Link & Sync Folder"]})})]}),C.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Linked Folders"}),C.map(H=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/50 rounded-lg","data-testid":`linked-folder-${H.id}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qa,{className:"w-4 h-4 text-blue-500"}),l.jsx("span",{className:"font-medium",children:H.folderName}),l.jsx(Kt,{variant:"outline",className:"text-xs",children:H.batesPrefix})]}),l.jsx(me,{variant:"ghost",size:"sm",onClick:()=>D.mutate(H.id),disabled:D.isPending,"data-testid":`button-sync-${H.id}`,children:l.jsx(iO,{className:`w-4 h-4 ${D.isPending?"animate-spin":""}`})})]},H.id))]})]})}function vP(){const[t,e]=x.useState(""),[a,r]=Ad("/case/:id"),o=r?.id,{data:u=[],isLoading:d}=pn({queryKey:["discoveryFiles",o],queryFn:()=>sD(o),enabled:!!o}),h=v=>v==="application/pdf"||v==="pdf"?l.jsx(ga,{className:"w-5 h-5 text-red-500"}):v.startsWith("video/")||v==="video"?l.jsx(Tl,{className:"w-5 h-5 text-blue-500"}):v.startsWith("audio/")||v==="audio"?l.jsx(Br,{className:"w-5 h-5 text-purple-500"}):v.startsWith("image/")||v==="image"?l.jsx(jA,{className:"w-5 h-5 text-green-500"}):v.includes("xml")||v==="xml"?l.jsx(ga,{className:"w-5 h-5 text-orange-500"}):l.jsx(ga,{className:"w-5 h-5 text-gray-500"}),p=u.filter(v=>t===""||v.batesStart.toLowerCase().includes(t.toLowerCase())||v.fileName.toLowerCase().includes(t.toLowerCase())||v.summary?.toLowerCase().includes(t.toLowerCase()));return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-3 md:p-4 border-b flex gap-2 md:gap-4 bg-muted/30",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx($t,{placeholder:"Search Bates, files...",className:"pl-10 bg-background text-sm",value:t,onChange:v=>e(v.target.value),"data-testid":"input-search-discovery"})]}),l.jsxs(me,{variant:"outline",size:"sm",className:"gap-1 md:gap-2","data-testid":"button-filters",children:[l.jsx(E1,{className:"w-4 h-4"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]}),l.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 px-6 py-3 border-b bg-muted/50 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:[l.jsx("div",{className:"col-span-1",children:"Type"}),l.jsx("div",{className:"col-span-2",children:"Bates Number"}),l.jsx("div",{className:"col-span-4",children:"File Name / Summary"}),l.jsx("div",{className:"col-span-2",children:"Source"}),l.jsx("div",{className:"col-span-2",children:"Tags"}),l.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),l.jsxs(Jr,{className:"flex-1",children:[d&&l.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Loading discovery files..."}),!d&&p.length===0&&l.jsx("div",{className:"p-6 text-center text-muted-foreground",children:t?"No files match your search":"No discovery files yet. Add evidence to get started."}),l.jsx("div",{className:"md:hidden divide-y",children:p.map(v=>l.jsx("div",{className:"p-3 hover:bg-muted/30 transition-colors","data-testid":`discovery-file-${v.id}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-background border shadow-sm shrink-0",children:h(v.fileType)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.driveUrl?l.jsxs("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs text-accent font-medium hover:underline flex items-center gap-1","data-testid":`bates-link-${v.id}`,children:[v.batesStart,l.jsx(ar,{className:"w-3 h-3"})]}):l.jsx("span",{className:"font-mono text-xs text-primary font-medium",children:v.batesStart}),v.sourceType==="cloud"&&l.jsx(qa,{className:"w-3 h-3 text-blue-500"})]}),l.jsx("div",{className:"font-medium text-sm text-foreground truncate",children:v.fileName}),l.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:v.summary||"Processing..."}),(v.tags||[]).length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(v.tags||[]).slice(0,3).map(y=>l.jsx(Kt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:y},y)),(v.tags||[]).length>3&&l.jsxs(Kt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:["+",(v.tags||[]).length-3]})]})]})]})},v.id))}),l.jsx("div",{className:"hidden md:block divide-y",children:p.map(v=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 items-center hover:bg-muted/30 transition-colors group","data-testid":`discovery-file-desktop-${v.id}`,children:[l.jsx("div",{className:"col-span-1 flex items-center justify-center w-10 h-10 rounded-lg bg-background border shadow-sm",children:h(v.fileType)}),l.jsxs("div",{className:"col-span-2",children:[v.driveUrl?l.jsxs("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm text-accent font-medium hover:underline flex items-center gap-1","data-testid":`bates-link-desktop-${v.id}`,children:[v.batesStart,l.jsx(ar,{className:"w-3 h-3"})]}):l.jsx("span",{className:"font-mono text-sm text-primary font-medium",children:v.batesStart}),v.batesStart!==v.batesEnd&&l.jsxs("span",{className:"text-muted-foreground text-xs block",children:["to ",v.batesEnd]})]}),l.jsxs("div",{className:"col-span-4 pr-4",children:[l.jsx("div",{className:"font-medium text-foreground",children:v.fileName}),l.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:v.summary||"Processing..."})]}),l.jsx("div",{className:"col-span-2 text-sm",children:v.sourceType==="cloud"?l.jsxs(Kt,{variant:"outline",className:"text-xs gap-1 bg-blue-50 border-blue-200 text-blue-700",children:[l.jsx(qa,{className:"w-3 h-3"}),"Google Drive"]}):l.jsxs(Kt,{variant:"outline",className:"text-xs gap-1 bg-gray-50 border-gray-200 text-gray-700",children:[l.jsx(dp,{className:"w-3 h-3"}),"Uploaded"]})}),l.jsx("div",{className:"col-span-2 flex flex-wrap gap-1",children:(v.tags||[]).map(y=>l.jsx(Kt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:y},y))}),l.jsxs("div",{className:"col-span-1 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[v.driveUrl&&l.jsx("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-accent/10","data-testid":`button-view-desktop-${v.id}`,children:l.jsx(ar,{className:"w-4 h-4 text-accent"})}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`button-more-${v.id}`,children:l.jsx(C1,{className:"w-4 h-4"})})]})]},v.id))})]})]})}function yP(){const[t,e]=Ad("/case/:id"),a=e?.id,{data:r=[],isLoading:o}=pn({queryKey:["timeline",a],queryFn:()=>iD(a),enabled:!!a});return l.jsxs("div",{className:"max-w-4xl mx-auto py-4 md:py-8 relative",children:[o&&l.jsx("div",{className:"text-center text-muted-foreground",children:"Loading timeline..."}),l.jsxs("div",{className:"md:hidden space-y-4",children:[l.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-border"}),r.map(u=>l.jsxs("div",{className:"flex gap-4 pl-2",children:[l.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-accent border-4 border-background shadow-sm shrink-0 mt-1"}),l.jsxs("div",{className:"flex-1 pb-4",children:[l.jsx("div",{className:"text-xs font-bold text-accent mb-1",children:new Date(u.eventDate).toLocaleDateString()}),l.jsx("h3",{className:"text-base font-serif font-bold text-primary mb-1",children:u.title}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:u.description}),(u.linkedBates||[]).length>0&&l.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full bg-secondary text-xs font-mono border mt-2",children:[l.jsx(ga,{className:"w-3 h-3 text-primary"}),l.jsx("span",{children:(u.linkedBates||[])[0]})]})]})]},u.id))]}),l.jsxs("div",{className:"hidden md:block",children:[l.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-border -translate-x-1/2"}),r.map((u,d)=>l.jsxs("div",{className:`flex items-center gap-8 mb-12 ${d%2===0?"flex-row":"flex-row-reverse"}`,children:[l.jsxs("div",{className:`flex-1 ${d%2===0?"text-right":"text-left"}`,children:[l.jsx("div",{className:"text-sm font-bold text-accent mb-1",children:new Date(u.eventDate).toLocaleDateString()}),l.jsx("h3",{className:"text-xl font-serif font-bold text-primary mb-2",children:u.title}),l.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:u.description})]}),l.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-accent border-4 border-background shadow-sm shrink-0"}),l.jsx("div",{className:`flex-1 ${d%2===0?"text-left":"text-right"}`,children:(u.linkedBates||[]).length>0&&l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-secondary text-xs font-mono border ${d%2===0?"":"flex-row-reverse"}`,children:[l.jsx(ga,{className:"w-3 h-3 text-primary"}),l.jsx("span",{children:(u.linkedBates||[])[0]})]})})]},u.id))]})]})}function bP(){const[t,e]=x.useState(!1);return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full md:divide-x overflow-auto",children:[l.jsxs("div",{className:"p-4 md:p-6 flex flex-col",children:[l.jsxs("h3",{className:"font-serif font-bold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2",children:[l.jsx(Pd,{className:"w-5 h-5 text-accent"}),"Examination Strategy"]}),l.jsxs("div",{className:"flex-1 space-y-3 md:space-y-4",children:[l.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-secondary/30 border border-secondary",children:[l.jsx("h4",{className:"font-semibold text-sm mb-2 text-primary",children:"Line of Questioning: Inconsistencies"}),l.jsxs("ul",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm text-muted-foreground list-disc list-inside",children:[l.jsx("li",{children:"Ask about the timestamp on the surveillance video (10:45 PM)."}),l.jsx("li",{children:"Contrast with email timestamp (10:50 PM sent from home IP)."}),l.jsx("li",{children:"Press on the lack of badge swipe out record."})]})]}),l.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-accent/10 border border-accent/20",children:[l.jsx("h4",{className:"font-semibold text-sm mb-2 text-accent-foreground",children:"Key Evidence to Present"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Kt,{variant:"outline",className:"bg-background text-xs",children:"AND-001256"}),l.jsx(Kt,{variant:"outline",className:"bg-background text-xs",children:"AND-001257"})]})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t",children:[l.jsxs(me,{className:`w-full ${t?"bg-destructive animate-pulse":"bg-primary"}`,onClick:()=>e(!t),children:[l.jsx(Br,{className:"w-4 h-4 mr-2"}),t?"Recording... (Tap to Stop)":"Start Voice Simulation"]}),l.jsx("p",{className:"text-xs text-center mt-2 text-muted-foreground",children:"CaseBuddy listens and suggests real-time objections/follow-ups."})]})]}),l.jsxs("div",{className:"p-4 md:p-6 bg-muted/10 flex flex-col border-t md:border-t-0",children:[l.jsx("h3",{className:"font-serif font-bold text-base md:text-lg mb-3 md:mb-4",children:"Live Transcript / Notes"}),l.jsxs("div",{className:"flex-1 min-h-[150px] md:min-h-0 rounded-lg border bg-background p-3 md:p-4 shadow-inner font-mono text-xs md:text-sm leading-relaxed text-muted-foreground",children:[l.jsx("p",{className:"text-primary/50 italic",children:"[System Ready. Waiting for audio input...]"}),t&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"Attorney:"})," Can you explain where you were on the night of October 12th?"]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-green-600 font-bold",children:"Witness:"})," I was at home."]}),l.jsxs("p",{className:"animate-pulse",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"Attorney:"})," ..."]})]})]}),l.jsx(e3,{variant:"inline",limit:1})]})]})}function xP({caseId:t}){const[e,a]=x.useState(!1),[r,o]=x.useState(null),[u,d]=x.useState(""),[h,p]=x.useState(""),[v,y]=x.useState(""),{toast:_}=ba(),{setSaving:T,setSaved:A,setError:M}=Ud(),j=Pa(),{data:C=[],isLoading:k}=pn({queryKey:["legalBriefs",t],queryFn:()=>hD(t)}),{data:D={}}=pn({queryKey:["briefTypes"],queryFn:mD}),P=Xn({mutationFn:()=>pD(t,h,u,v),onMutate:()=>{T()},onSuccess:F=>{j.invalidateQueries({queryKey:["legalBriefs",t]}),A(),_({title:"Brief Generated",description:"Your legal brief has been created and saved."}),a(!1),o(F),d(""),p(""),y("")},onError:()=>{M(),_({title:"Generation Failed",description:"Unable to generate the legal brief. Please try again.",variant:"destructive"})}}),Q=Xn({mutationFn:F=>gD(F),onSuccess:()=>{j.invalidateQueries({queryKey:["legalBriefs",t]}),A(),_({title:"Brief Deleted"}),o(null)}});return r?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[l.jsxs(me,{variant:"ghost",size:"sm",onClick:()=>o(null),"data-testid":"button-back-briefs",children:[l.jsx(sr,{className:"w-4 h-4 mr-1 sm:mr-2 rotate-180"})," Back"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Kt,{variant:r.status==="draft"?"outline":"default",className:"text-xs",children:r.status}),l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>Q.mutate(r.id),"data-testid":"button-delete-brief",children:[l.jsx(nc,{className:"w-4 h-4 sm:mr-1"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 md:p-6",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold mb-2",children:r.title}),l.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground mb-4",children:[D[r.briefType]||r.briefType,"  Created ",new Date(r.createdAt).toLocaleDateString()]}),r.summary&&l.jsxs("div",{className:"mb-6 p-4 bg-primary/5 rounded-lg border border-primary/10",children:[l.jsx("h4",{className:"text-sm font-semibold text-primary mb-2",children:"Summary"}),l.jsx("p",{className:"text-sm",children:r.summary})]}),r.keyArguments&&r.keyArguments.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Key Arguments"}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:r.keyArguments.map((F,H)=>l.jsx("li",{children:F},H))})]}),r.precedents&&r.precedents.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Legal Precedents"}),l.jsx("div",{className:"space-y-2",children:r.precedents.map((F,H)=>l.jsxs("div",{className:"p-3 bg-background rounded border text-sm",children:[l.jsx("span",{className:"font-medium",children:F.caseName}),l.jsx("span",{className:"text-muted-foreground ml-2",children:F.citation}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:F.relevance})]},H))})]}),l.jsxs("div",{className:"prose prose-sm max-w-none",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Full Brief"}),l.jsx("div",{className:"p-4 bg-background rounded-lg border font-serif whitespace-pre-wrap text-sm leading-relaxed",children:r.content})]})]})]}):l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg md:text-xl font-serif font-bold flex items-center gap-2",children:[l.jsx(Ju,{className:"w-5 h-5 text-primary"}),"Legal Briefs"]}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"AI-generated legal documents based on your case"})]}),l.jsxs(me,{size:"sm",onClick:()=>a(!0),"data-testid":"button-generate-brief",children:[l.jsx(Yr,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",l.jsx("span",{className:"hidden sm:inline",children:"Generate"})," Brief"]})]}),e&&l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 md:p-6 border",children:[l.jsx("h3",{className:"font-semibold mb-3 md:mb-4 text-sm md:text-base",children:"Generate New Legal Brief"}),l.jsxs("div",{className:"space-y-3 md:space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Brief Title"}),l.jsx($t,{placeholder:"e.g., Motion to Dismiss",value:u,onChange:F=>d(F.target.value),className:"text-sm","data-testid":"input-brief-title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Brief Type"}),l.jsxs("select",{className:"w-full p-2 border rounded-md bg-background text-sm",value:h,onChange:F=>p(F.target.value),"data-testid":"select-brief-type",children:[l.jsx("option",{value:"",children:"Select a type..."}),Object.entries(D).map(([F,H])=>l.jsx("option",{value:F,children:H},F))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Additional Instructions (Optional)"}),l.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background min-h-[60px] md:min-h-[80px] text-sm",placeholder:"Any specific focus areas...",value:v,onChange:F=>y(F.target.value),"data-testid":"input-brief-instructions"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx(me,{onClick:()=>P.mutate(),disabled:!u||!h||P.isPending,size:"sm",className:"flex-1 sm:flex-initial","data-testid":"button-submit-brief",children:P.isPending?l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-4 h-4 mr-2 animate-spin"})," Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Pd,{className:"w-4 h-4 mr-2"})," Generate with AI"]})}),l.jsx(me,{variant:"outline",size:"sm",onClick:()=>a(!1),children:"Cancel"})]})]})]}),k&&l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(rn,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),"Loading briefs..."]}),!k&&C.length===0&&!e&&l.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[l.jsx(k1,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Legal Briefs Yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate AI-powered legal briefs based on your case documents and timeline."}),l.jsxs(me,{onClick:()=>a(!0),children:[l.jsx(Yr,{className:"w-4 h-4 mr-2"})," Create Your First Brief"]})]}),C.length>0&&l.jsx("div",{className:"grid gap-4",children:C.map(F=>l.jsx("div",{className:"p-4 bg-background border rounded-lg hover:border-primary/30 transition-colors cursor-pointer",onClick:()=>o(F),"data-testid":`brief-card-${F.id}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-medium",children:F.title}),l.jsx(Kt,{variant:"outline",className:"text-xs",children:D[F.briefType]||F.briefType}),l.jsx(Kt,{variant:F.status==="draft"?"secondary":"default",className:"text-xs",children:F.status})]}),F.summary&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:F.summary}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Created ",new Date(F.createdAt).toLocaleDateString()]})]}),l.jsx(sr,{className:"w-5 h-5 text-muted-foreground"})]})},F.id))})]})}const wP=Bk,SP=Vk,_P=x.forwardRef(({className:t,inset:e,children:a,...r},o)=>l.jsxs(j_,{ref:o,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[a,l.jsx(sr,{className:"ml-auto"})]}));_P.displayName=j_.displayName;const jP=x.forwardRef(({className:t,...e},a)=>l.jsx(N_,{ref:a,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));jP.displayName=N_.displayName;const YN=x.forwardRef(({className:t,sideOffset:e=4,...a},r)=>l.jsx(Uk,{children:l.jsx(T_,{ref:r,sideOffset:e,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));YN.displayName=T_.displayName;const ZN=x.forwardRef(({className:t,inset:e,...a},r)=>l.jsx(C_,{ref:r,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...a}));ZN.displayName=C_.displayName;const NP=x.forwardRef(({className:t,children:e,checked:a,...r},o)=>l.jsxs(k_,{ref:o,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(E_,{children:l.jsx(Ur,{className:"h-4 w-4"})})}),e]}));NP.displayName=k_.displayName;const TP=x.forwardRef(({className:t,children:e,...a},r)=>l.jsxs(M_,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(E_,{children:l.jsx(Nl,{className:"h-2 w-2 fill-current"})})}),e]}));TP.displayName=M_.displayName;const CP=x.forwardRef(({className:t,inset:e,...a},r)=>l.jsx(A_,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...a}));CP.displayName=A_.displayName;const kP=x.forwardRef(({className:t,...e},a)=>l.jsx(O_,{ref:a,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));kP.displayName=O_.displayName;function EP(t){const e=MP(t),a=x.forwardRef((r,o)=>{const{children:u,...d}=r,h=x.Children.toArray(u),p=h.find(OP);if(p){const v=p.props.children,y=h.map(_=>_===p?x.Children.count(v)>1?x.Children.only(null):x.isValidElement(v)?v.props.children:null:_);return l.jsx(e,{...d,ref:o,children:x.isValidElement(v)?x.cloneElement(v,void 0,y):null})}return l.jsx(e,{...d,ref:o,children:u})});return a.displayName=`${t}.Slot`,a}function MP(t){const e=x.forwardRef((a,r)=>{const{children:o,...u}=a;if(x.isValidElement(o)){const d=RP(o),h=DP(u,o.props);return o.type!==x.Fragment&&(h.ref=r?p_(r,d):d),x.cloneElement(o,h)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AP=Symbol("radix.slottable");function OP(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AP}function DP(t,e){const a={...e};for(const r in e){const o=t[r],u=e[r];/^on[A-Z]/.test(r)?o&&u?a[r]=(...h)=>{const p=u(...h);return o(...h),p}:o&&(a[r]=o):r==="style"?a[r]={...o,...u}:r==="className"&&(a[r]=[o,u].filter(Boolean).join(" "))}return{...t,...a}}function RP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function JN(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var PP=[" ","Enter","ArrowUp","ArrowDown"],LP=[" ","Enter"],ti="Select",[nf,af,zP]=c_(ti),[ko]=So(ti,[zP,kd]),sf=kd(),[IP,dr]=ko(ti),[UP,BP]=ko(ti),KN=t=>{const{__scopeSelect:e,children:a,open:r,defaultOpen:o,onOpenChange:u,value:d,defaultValue:h,onValueChange:p,dir:v,name:y,autoComplete:_,disabled:T,required:A,form:M}=t,j=sf(e),[C,k]=x.useState(null),[D,P]=x.useState(null),[Q,F]=x.useState(!1),H=S_(v),[Y,J]=Rl({prop:r,defaultProp:o??!1,onChange:u,caller:ti}),[ce,pe]=Rl({prop:d,defaultProp:h,onChange:p,caller:ti}),Ne=x.useRef(null),Pe=C?M||!!C.closest("form"):!0,[st,ge]=x.useState(new Set),De=Array.from(st).map(I=>I.props.value).join(";");return l.jsx(f_,{...j,children:l.jsxs(IP,{required:A,scope:e,trigger:C,onTriggerChange:k,valueNode:D,onValueNodeChange:P,valueNodeHasChildren:Q,onValueNodeHasChildrenChange:F,contentId:Ed(),value:ce,onValueChange:pe,open:Y,onOpenChange:J,dir:H,triggerPointerDownPosRef:Ne,disabled:T,children:[l.jsx(nf.Provider,{scope:e,children:l.jsx(UP,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(I=>{ge(ne=>new Set(ne).add(I))},[]),onNativeOptionRemove:x.useCallback(I=>{ge(ne=>{const X=new Set(ne);return X.delete(I),X})},[]),children:a})}),Pe?l.jsxs(wT,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:_,value:ce,onChange:I=>pe(I.target.value),disabled:T,form:M,children:[ce===void 0?l.jsx("option",{value:""}):null,Array.from(st)]},De):null]})})};KN.displayName=ti;var XN="SelectTrigger",WN=x.forwardRef((t,e)=>{const{__scopeSelect:a,disabled:r=!1,...o}=t,u=sf(a),d=dr(XN,a),h=d.disabled||r,p=kt(e,d.onTriggerChange),v=af(a),y=x.useRef("touch"),[_,T,A]=_T(j=>{const C=v().filter(P=>!P.disabled),k=C.find(P=>P.value===d.value),D=jT(C,j,k);D!==void 0&&d.onValueChange(D.value)}),M=j=>{h||(d.onOpenChange(!0),A()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return l.jsx(h_,{asChild:!0,...u,children:l.jsx(vt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":ST(d.value)?"":void 0,...o,ref:p,onClick:Ue(o.onClick,j=>{j.currentTarget.focus(),y.current!=="mouse"&&M(j)}),onPointerDown:Ue(o.onPointerDown,j=>{y.current=j.pointerType;const C=j.target;C.hasPointerCapture(j.pointerId)&&C.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(M(j),j.preventDefault())}),onKeyDown:Ue(o.onKeyDown,j=>{const C=_.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&T(j.key),!(C&&j.key===" ")&&PP.includes(j.key)&&(M(),j.preventDefault())})})})});WN.displayName=XN;var eT="SelectValue",tT=x.forwardRef((t,e)=>{const{__scopeSelect:a,className:r,style:o,children:u,placeholder:d="",...h}=t,p=dr(eT,a),{onValueNodeHasChildrenChange:v}=p,y=u!==void 0,_=kt(e,p.onValueNodeChange);return Kn(()=>{v(y)},[v,y]),l.jsx(vt.span,{...h,ref:_,style:{pointerEvents:"none"},children:ST(p.value)?l.jsx(l.Fragment,{children:d}):u})});tT.displayName=eT;var VP="SelectIcon",nT=x.forwardRef((t,e)=>{const{__scopeSelect:a,children:r,...o}=t;return l.jsx(vt.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});nT.displayName=VP;var FP="SelectPortal",aT=t=>l.jsx(rg,{asChild:!0,...t});aT.displayName=FP;var ni="SelectContent",sT=x.forwardRef((t,e)=>{const a=dr(ni,t.__scopeSelect),[r,o]=x.useState();if(Kn(()=>{o(new DocumentFragment)},[]),!a.open){const u=r;return u?sg.createPortal(l.jsx(rT,{scope:t.__scopeSelect,children:l.jsx(nf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),u):null}return l.jsx(iT,{...t,ref:e})});sT.displayName=ni;var Ca=10,[rT,fr]=ko(ni),qP="SelectContentImpl",HP=EP("SelectContent.RemoveScroll"),iT=x.forwardRef((t,e)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:u,onPointerDownOutside:d,side:h,sideOffset:p,align:v,alignOffset:y,arrowPadding:_,collisionBoundary:T,collisionPadding:A,sticky:M,hideWhenDetached:j,avoidCollisions:C,...k}=t,D=dr(ni,a),[P,Q]=x.useState(null),[F,H]=x.useState(null),Y=kt(e,E=>Q(E)),[J,ce]=x.useState(null),[pe,Ne]=x.useState(null),Pe=af(a),[st,ge]=x.useState(!1),De=x.useRef(!1);x.useEffect(()=>{if(P)return Fk(P)},[P]),qk();const I=x.useCallback(E=>{const[U,...Z]=Pe().map(ue=>ue.ref.current),[G]=Z.slice(-1),ie=document.activeElement;for(const ue of E)if(ue===ie||(ue?.scrollIntoView({block:"nearest"}),ue===U&&F&&(F.scrollTop=0),ue===G&&F&&(F.scrollTop=F.scrollHeight),ue?.focus(),document.activeElement!==ie))return},[Pe,F]),ne=x.useCallback(()=>I([J,P]),[I,J,P]);x.useEffect(()=>{st&&ne()},[st,ne]);const{onOpenChange:X,triggerPointerDownPosRef:Ee}=D;x.useEffect(()=>{if(P){let E={x:0,y:0};const U=G=>{E={x:Math.abs(Math.round(G.pageX)-(Ee.current?.x??0)),y:Math.abs(Math.round(G.pageY)-(Ee.current?.y??0))}},Z=G=>{E.x<=10&&E.y<=10?G.preventDefault():P.contains(G.target)||X(!1),document.removeEventListener("pointermove",U),Ee.current=null};return Ee.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",Z,{capture:!0})}}},[P,X,Ee]),x.useEffect(()=>{const E=()=>X(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[X]);const[Se,tt]=_T(E=>{const U=Pe().filter(ie=>!ie.disabled),Z=U.find(ie=>ie.ref.current===document.activeElement),G=jT(U,E,Z);G&&setTimeout(()=>G.ref.current.focus())}),le=x.useCallback((E,U,Z)=>{const G=!De.current&&!Z;(D.value!==void 0&&D.value===U||G)&&(ce(E),G&&(De.current=!0))},[D.value]),g=x.useCallback(()=>P?.focus(),[P]),S=x.useCallback((E,U,Z)=>{const G=!De.current&&!Z;(D.value!==void 0&&D.value===U||G)&&Ne(E)},[D.value]),w=r==="popper"?$p:oT,O=w===$p?{side:h,sideOffset:p,align:v,alignOffset:y,arrowPadding:_,collisionBoundary:T,collisionPadding:A,sticky:M,hideWhenDetached:j,avoidCollisions:C}:{};return l.jsx(rT,{scope:a,content:P,viewport:F,onViewportChange:H,itemRefCallback:le,selectedItem:J,onItemLeave:g,itemTextRefCallback:S,focusSelectedItem:ne,selectedItemText:pe,position:r,isPositioned:st,searchRef:Se,children:l.jsx(Hk,{as:HP,allowPinchZoom:!0,children:l.jsx($k,{asChild:!0,trapped:D.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:Ue(o,E=>{D.trigger?.focus({preventScroll:!0}),E.preventDefault()}),children:l.jsx(u_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:l.jsx(w,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:E=>E.preventDefault(),...k,...O,onPlaced:()=>ge(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,E=>{const U=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!U&&E.key.length===1&&tt(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let G=Pe().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(E.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const ie=E.target,ue=G.indexOf(ie);G=G.slice(ue+1)}setTimeout(()=>I(G)),E.preventDefault()}})})})})})})});iT.displayName=qP;var $P="SelectItemAlignedPosition",oT=x.forwardRef((t,e)=>{const{__scopeSelect:a,onPlaced:r,...o}=t,u=dr(ni,a),d=fr(ni,a),[h,p]=x.useState(null),[v,y]=x.useState(null),_=kt(e,Y=>y(Y)),T=af(a),A=x.useRef(!1),M=x.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:k,focusSelectedItem:D}=d,P=x.useCallback(()=>{if(u.trigger&&u.valueNode&&h&&v&&j&&C&&k){const Y=u.trigger.getBoundingClientRect(),J=v.getBoundingClientRect(),ce=u.valueNode.getBoundingClientRect(),pe=k.getBoundingClientRect();if(u.dir!=="rtl"){const ie=pe.left-J.left,ue=ce.left-ie,Me=Y.left-ue,ct=Y.width+Me,Xt=Math.max(ct,J.width),Et=window.innerWidth-Ca,te=xp(ue,[Ca,Math.max(Ca,Et-Xt)]);h.style.minWidth=ct+"px",h.style.left=te+"px"}else{const ie=J.right-pe.right,ue=window.innerWidth-ce.right-ie,Me=window.innerWidth-Y.right-ue,ct=Y.width+Me,Xt=Math.max(ct,J.width),Et=window.innerWidth-Ca,te=xp(ue,[Ca,Math.max(Ca,Et-Xt)]);h.style.minWidth=ct+"px",h.style.right=te+"px"}const Ne=T(),Pe=window.innerHeight-Ca*2,st=j.scrollHeight,ge=window.getComputedStyle(v),De=parseInt(ge.borderTopWidth,10),I=parseInt(ge.paddingTop,10),ne=parseInt(ge.borderBottomWidth,10),X=parseInt(ge.paddingBottom,10),Ee=De+I+st+X+ne,Se=Math.min(C.offsetHeight*5,Ee),tt=window.getComputedStyle(j),le=parseInt(tt.paddingTop,10),g=parseInt(tt.paddingBottom,10),S=Y.top+Y.height/2-Ca,w=Pe-S,O=C.offsetHeight/2,E=C.offsetTop+O,U=De+I+E,Z=Ee-U;if(U<=S){const ie=Ne.length>0&&C===Ne[Ne.length-1].ref.current;h.style.bottom="0px";const ue=v.clientHeight-j.offsetTop-j.offsetHeight,Me=Math.max(w,O+(ie?g:0)+ue+ne),ct=U+Me;h.style.height=ct+"px"}else{const ie=Ne.length>0&&C===Ne[0].ref.current;h.style.top="0px";const Me=Math.max(S,De+j.offsetTop+(ie?le:0)+O)+Z;h.style.height=Me+"px",j.scrollTop=U-S+j.offsetTop}h.style.margin=`${Ca}px 0`,h.style.minHeight=Se+"px",h.style.maxHeight=Pe+"px",r?.(),requestAnimationFrame(()=>A.current=!0)}},[T,u.trigger,u.valueNode,h,v,j,C,k,u.dir,r]);Kn(()=>P(),[P]);const[Q,F]=x.useState();Kn(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]);const H=x.useCallback(Y=>{Y&&M.current===!0&&(P(),D?.(),M.current=!1)},[P,D]);return l.jsx(GP,{scope:a,contentWrapper:h,shouldExpandOnScrollRef:A,onScrollButtonChange:H,children:l.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Q},children:l.jsx(vt.div,{...o,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});oT.displayName=$P;var QP="SelectPopperPosition",$p=x.forwardRef((t,e)=>{const{__scopeSelect:a,align:r="start",collisionPadding:o=Ca,...u}=t,d=sf(a);return l.jsx(d_,{...d,...u,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$p.displayName=QP;var[GP,rv]=ko(ni,{}),Qp="SelectViewport",lT=x.forwardRef((t,e)=>{const{__scopeSelect:a,nonce:r,...o}=t,u=fr(Qp,a),d=rv(Qp,a),h=kt(e,u.onViewportChange),p=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(nf.Slot,{scope:a,children:l.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ue(o.onScroll,v=>{const y=v.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:T}=d;if(T?.current&&_){const A=Math.abs(p.current-y.scrollTop);if(A>0){const M=window.innerHeight-Ca*2,j=parseFloat(_.style.minHeight),C=parseFloat(_.style.height),k=Math.max(j,C);if(k<M){const D=k+A,P=Math.min(M,D),Q=D-P;_.style.height=P+"px",_.style.bottom==="0px"&&(y.scrollTop=Q>0?Q:0,_.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});lT.displayName=Qp;var cT="SelectGroup",[YP,ZP]=ko(cT),JP=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,o=Ed();return l.jsx(YP,{scope:a,id:o,children:l.jsx(vt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});JP.displayName=cT;var uT="SelectLabel",dT=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,o=ZP(uT,a);return l.jsx(vt.div,{id:o.id,...r,ref:e})});dT.displayName=uT;var bd="SelectItem",[KP,fT]=ko(bd),hT=x.forwardRef((t,e)=>{const{__scopeSelect:a,value:r,disabled:o=!1,textValue:u,...d}=t,h=dr(bd,a),p=fr(bd,a),v=h.value===r,[y,_]=x.useState(u??""),[T,A]=x.useState(!1),M=kt(e,D=>p.itemRefCallback?.(D,r,o)),j=Ed(),C=x.useRef("touch"),k=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(KP,{scope:a,value:r,disabled:o,textId:j,isSelected:v,onItemTextChange:x.useCallback(D=>{_(P=>P||(D?.textContent??"").trim())},[]),children:l.jsx(nf.ItemSlot,{scope:a,value:r,disabled:o,textValue:y,children:l.jsx(vt.div,{role:"option","aria-labelledby":j,"data-highlighted":T?"":void 0,"aria-selected":v&&T,"data-state":v?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:M,onFocus:Ue(d.onFocus,()=>A(!0)),onBlur:Ue(d.onBlur,()=>A(!1)),onClick:Ue(d.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:Ue(d.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:Ue(d.onPointerDown,D=>{C.current=D.pointerType}),onPointerMove:Ue(d.onPointerMove,D=>{C.current=D.pointerType,o?p.onItemLeave?.():C.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(d.onPointerLeave,D=>{D.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ue(d.onKeyDown,D=>{p.searchRef?.current!==""&&D.key===" "||(LP.includes(D.key)&&k(),D.key===" "&&D.preventDefault())})})})})});hT.displayName=bd;var El="SelectItemText",mT=x.forwardRef((t,e)=>{const{__scopeSelect:a,className:r,style:o,...u}=t,d=dr(El,a),h=fr(El,a),p=fT(El,a),v=BP(El,a),[y,_]=x.useState(null),T=kt(e,k=>_(k),p.onItemTextChange,k=>h.itemTextRefCallback?.(k,p.value,p.disabled)),A=y?.textContent,M=x.useMemo(()=>l.jsx("option",{value:p.value,disabled:p.disabled,children:A},p.value),[p.disabled,p.value,A]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=v;return Kn(()=>(j(M),()=>C(M)),[j,C,M]),l.jsxs(l.Fragment,{children:[l.jsx(vt.span,{id:p.textId,...u,ref:T}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?sg.createPortal(u.children,d.valueNode):null]})});mT.displayName=El;var pT="SelectItemIndicator",gT=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t;return fT(pT,a).isSelected?l.jsx(vt.span,{"aria-hidden":!0,...r,ref:e}):null});gT.displayName=pT;var Gp="SelectScrollUpButton",vT=x.forwardRef((t,e)=>{const a=fr(Gp,t.__scopeSelect),r=rv(Gp,t.__scopeSelect),[o,u]=x.useState(!1),d=kt(e,r.onScrollButtonChange);return Kn(()=>{if(a.viewport&&a.isPositioned){let h=function(){const v=p.scrollTop>0;u(v)};const p=a.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),o?l.jsx(bT,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=a;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});vT.displayName=Gp;var Yp="SelectScrollDownButton",yT=x.forwardRef((t,e)=>{const a=fr(Yp,t.__scopeSelect),r=rv(Yp,t.__scopeSelect),[o,u]=x.useState(!1),d=kt(e,r.onScrollButtonChange);return Kn(()=>{if(a.viewport&&a.isPositioned){let h=function(){const v=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<v;u(y)};const p=a.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),o?l.jsx(bT,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=a;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});yT.displayName=Yp;var bT=x.forwardRef((t,e)=>{const{__scopeSelect:a,onAutoScroll:r,...o}=t,u=fr("SelectScrollButton",a),d=x.useRef(null),h=af(a),p=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>p(),[p]),Kn(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),l.jsx(vt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ue(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:Ue(o.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:Ue(o.onPointerLeave,()=>{p()})})}),XP="SelectSeparator",xT=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t;return l.jsx(vt.div,{"aria-hidden":!0,...r,ref:e})});xT.displayName=XP;var Zp="SelectArrow",WP=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,o=sf(a),u=dr(Zp,a),d=fr(Zp,a);return u.open&&d.position==="popper"?l.jsx(m_,{...o,...r,ref:e}):null});WP.displayName=Zp;var eL="SelectBubbleInput",wT=x.forwardRef(({__scopeSelect:t,value:e,...a},r)=>{const o=x.useRef(null),u=kt(r,o),d=JN(e);return x.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==e&&y){const _=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(_)}},[d,e]),l.jsx(vt.select,{...a,style:{...t1,...a.style},ref:u,defaultValue:e})});wT.displayName=eL;function ST(t){return t===""||t===void 0}function _T(t){const e=Zn(t),a=x.useRef(""),r=x.useRef(0),o=x.useCallback(d=>{const h=a.current+d;e(h),(function p(v){a.current=v,window.clearTimeout(r.current),v!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),u=x.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,o,u]}function jT(t,e,a){const o=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,u=a?t.indexOf(a):-1;let d=tL(t,Math.max(u,0));o.length===1&&(d=d.filter(v=>v!==a));const p=d.find(v=>v.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==a?p:void 0}function tL(t,e){return t.map((a,r)=>t[(e+r)%t.length])}var nL=KN,NT=WN,aL=tT,sL=nT,rL=aT,TT=sT,iL=lT,CT=dT,kT=hT,oL=mT,lL=gT,ET=vT,MT=yT,AT=xT;const vo=nL,yo=aL,ai=x.forwardRef(({className:t,children:e,...a},r)=>l.jsxs(NT,{ref:r,className:_e("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[e,l.jsx(sL,{asChild:!0,children:l.jsx(T1,{className:"h-4 w-4 opacity-50"})})]}));ai.displayName=NT.displayName;const OT=x.forwardRef(({className:t,...e},a)=>l.jsx(ET,{ref:a,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(JM,{className:"h-4 w-4"})}));OT.displayName=ET.displayName;const DT=x.forwardRef(({className:t,...e},a)=>l.jsx(MT,{ref:a,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(T1,{className:"h-4 w-4"})}));DT.displayName=MT.displayName;const si=x.forwardRef(({className:t,children:e,position:a="popper",...r},o)=>l.jsx(rL,{children:l.jsxs(TT,{ref:o,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[l.jsx(OT,{}),l.jsx(iL,{className:_e("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(DT,{})]})}));si.displayName=TT.displayName;const cL=x.forwardRef(({className:t,...e},a)=>l.jsx(CT,{ref:a,className:_e("px-2 py-1.5 text-sm font-semibold",t),...e}));cL.displayName=CT.displayName;const qt=x.forwardRef(({className:t,children:e,...a},r)=>l.jsxs(kT,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lL,{children:l.jsx(Ur,{className:"h-4 w-4"})})}),l.jsx(oL,{children:e})]}));qt.displayName=kT.displayName;const uL=x.forwardRef(({className:t,...e},a)=>l.jsx(AT,{ref:a,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));uL.displayName=AT.displayName;var dL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fL=dL.reduce((t,e)=>{const a=Bd(`Primitive.${e}`),r=x.forwardRef((o,u)=>{const{asChild:d,...h}=o,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),hL="Label",RT=x.forwardRef((t,e)=>l.jsx(fL.label,{...t,ref:e,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));RT.displayName=hL;var PT=RT;const mL=Rd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),At=x.forwardRef(({className:t,...e},a)=>l.jsx(PT,{ref:a,className:_e(mL(),t),...e}));At.displayName=PT.displayName;const eo=x.forwardRef(({className:t,...e},a)=>l.jsx("textarea",{className:_e("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...e}));eo.displayName="Textarea";const re=Symbol.for("drizzle:entityKind");function mn(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,re))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let a=Object.getPrototypeOf(t).constructor;if(a)for(;a;){if(re in a&&a[re]===e[re])return!0;a=Object.getPrototypeOf(a)}return!1}class Bl{constructor(e,a){this.table=e,this.config=a,this.name=a.name,this.keyAsName=a.keyAsName,this.notNull=a.notNull,this.default=a.default,this.defaultFn=a.defaultFn,this.onUpdateFn=a.onUpdateFn,this.hasDefault=a.hasDefault,this.primary=a.primaryKey,this.isUnique=a.isUnique,this.uniqueName=a.uniqueName,this.uniqueType=a.uniqueType,this.dataType=a.dataType,this.columnType=a.columnType,this.generated=a.generated,this.generatedIdentity=a.generatedIdentity}static[re]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class pL{static[re]="ColumnBuilder";config;constructor(e,a,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:a,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const ro=Symbol.for("drizzle:Name");class gL{static[re]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,a){this.reference=()=>{const{name:r,columns:o,foreignColumns:u}=e();return{name:r,columns:o,foreignTable:u[0].table,foreignColumns:u}},a&&(this._onUpdate=a.onUpdate,this._onDelete=a.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new vL(e,this)}}class vL{constructor(e,a){this.table=e,this.reference=a.reference,this.onUpdate=a._onUpdate,this.onDelete=a._onDelete}static[re]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:a,foreignColumns:r}=this.reference(),o=a.map(h=>h.name),u=r.map(h=>h.name),d=[this.table[ro],...o,r[0].table[ro],...u];return e??`${d.join("_")}_fk`}}function yL(t,...e){return t(...e)}function bL(t,e){return`${t[ro]}_${e.join("_")}_unique`}function JS(t,e,a){for(let r=e;r<t.length;r++){const o=t[r];if(o==="\\"){r++;continue}if(o==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!a&&(o===","||o==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function LT(t,e=0){const a=[];let r=e,o=!1;for(;r<t.length;){const u=t[r];if(u===","){(o||r===e)&&a.push(""),o=!0,r++;continue}if(o=!1,u==="\\"){r+=2;continue}if(u==='"'){const[p,v]=JS(t,r+1,!0);a.push(p),r=v;continue}if(u==="}")return[a,r+1];if(u==="{"){const[p,v]=LT(t,r+1);a.push(p),r=v;continue}const[d,h]=JS(t,r,!1);a.push(d),r=h}return[a,r]}function xL(t){const[e]=LT(t,1);return e}function zT(t){return`{${t.map(e=>Array.isArray(e)?zT(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class at extends pL{foreignKeyConfigs=[];static[re]="PgColumnBuilder";array(e){return new SL(this.config.name,this,e)}references(e,a={}){return this.foreignKeyConfigs.push({ref:e,actions:a}),this}unique(e,a){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=a?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,a){return this.foreignKeyConfigs.map(({ref:r,actions:o})=>yL((u,d)=>{const h=new gL(()=>{const p=u();return{columns:[e],foreignColumns:[p]}});return d.onUpdate&&h.onUpdate(d.onUpdate),d.onDelete&&h.onDelete(d.onDelete),h.build(a)},r,o))}buildExtraConfigColumn(e){return new wL(e,this.config)}}class Fe extends Bl{constructor(e,a){a.uniqueName||(a.uniqueName=bL(e,[a.name])),super(e,a),this.table=e}static[re]="PgColumn"}class wL extends Fe{static[re]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class SL extends at{static[re]="PgArrayBuilder";constructor(e,a,r){super(e,"array","PgArray"),this.config.baseBuilder=a,this.config.size=r}build(e){const a=this.config.baseBuilder.build(e);return new iv(e,this.config,a)}}class iv extends Fe{constructor(e,a,r,o){super(e,a),this.baseColumn=r,this.range=o,this.size=a.size}size;static[re]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=xL(e)),e.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(e,a=!1){const r=e.map(o=>o===null?null:mn(this.baseColumn,iv)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return a?r:zT(r)}}const KS=Symbol.for("drizzle:isPgEnum");function _L(t){return!!t&&typeof t=="function"&&KS in t&&t[KS]===!0}class IT{static[re]="Subquery";constructor(e,a,r,o=!1){this._={brand:"Subquery",sql:e,selectedFields:a,alias:r,isWith:o}}}const jL={startActiveSpan(t,e){return e()}},io=Symbol.for("drizzle:ViewBaseConfig"),Xm=Symbol.for("drizzle:Schema"),XS=Symbol.for("drizzle:Columns"),WS=Symbol.for("drizzle:ExtraConfigColumns"),Wm=Symbol.for("drizzle:OriginalName"),ep=Symbol.for("drizzle:BaseName"),xd=Symbol.for("drizzle:IsAlias"),e_=Symbol.for("drizzle:ExtraConfigBuilder"),UT=Symbol.for("drizzle:IsDrizzleTable");class Yn{static[re]="Table";static Symbol={Name:ro,Schema:Xm,OriginalName:Wm,Columns:XS,ExtraConfigColumns:WS,BaseName:ep,IsAlias:xd,ExtraConfigBuilder:e_};[ro];[Wm];[Xm];[XS];[WS];[ep];[xd]=!1;[UT]=!0;[e_]=void 0;constructor(e,a,r){this[ro]=this[Wm]=e,this[Xm]=a,this[ep]=r}}function BT(t){return typeof t=="object"&&t!==null&&UT in t}function NL(t){return t!=null&&typeof t.getSQL=="function"}function TL(t){const e={sql:"",params:[]};for(const a of t)e.sql+=a.sql,e.params.push(...a.params),a.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...a.typings));return e}class ka{static[re]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new It([this])}}class It{constructor(e){this.queryChunks=e}static[re]="SQL";decoder=VT;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return jL.startActiveSpan("drizzle.buildSQL",a=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return a?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,a){const r=Object.assign({},a,{inlineParams:a.inlineParams||this.shouldInlineParams,paramStartIndex:a.paramStartIndex||{value:0}}),{casing:o,escapeName:u,escapeParam:d,prepareTyping:h,inlineParams:p,paramStartIndex:v}=r;return TL(e.map(y=>{if(mn(y,ka))return{sql:y.value.join(""),params:[]};if(mn(y,Jp))return{sql:u(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const _=[new ka("(")];for(const[T,A]of y.entries())_.push(A),T<y.length-1&&_.push(new ka(", "));return _.push(new ka(")")),this.buildQueryFromSourceParams(_,r)}if(mn(y,It))return this.buildQueryFromSourceParams(y.queryChunks,{...r,inlineParams:p||y.shouldInlineParams});if(mn(y,Yn)){const _=y[Yn.Symbol.Schema],T=y[Yn.Symbol.Name];return{sql:_===void 0||y[xd]?u(T):u(_)+"."+u(T),params:[]}}if(mn(y,Bl)){const _=o.getColumnCasing(y);if(a.invokeSource==="indexes")return{sql:u(_),params:[]};const T=y.table[Yn.Symbol.Schema];return{sql:y.table[xd]||T===void 0?u(y.table[Yn.Symbol.Name])+"."+u(_):u(T)+"."+u(y.table[Yn.Symbol.Name])+"."+u(_),params:[]}}if(mn(y,CL)){const _=y[io].schema,T=y[io].name;return{sql:_===void 0||y[io].isAlias?u(T):u(_)+"."+u(T),params:[]}}if(mn(y,qT)){if(mn(y.value,Kp))return{sql:d(v.value++,y),params:[y],typings:["none"]};const _=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(mn(_,It))return this.buildQueryFromSourceParams([_],r);if(p)return{sql:this.mapInlineParam(_,r),params:[]};let T=["none"];return h&&(T=[h(y.encoder)]),{sql:d(v.value++,_),params:[_],typings:T}}return mn(y,Kp)?{sql:d(v.value++,y),params:[y],typings:["none"]}:mn(y,It.Aliased)&&y.fieldAlias!==void 0?{sql:u(y.fieldAlias),params:[]}:mn(y,IT)?y._.isWith?{sql:u(y._.alias),params:[]}:this.buildQueryFromSourceParams([new ka("("),y._.sql,new ka(") "),new Jp(y._.alias)],r):_L(y)?y.schema?{sql:u(y.schema)+"."+u(y.enumName),params:[]}:{sql:u(y.enumName),params:[]}:NL(y)?y.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([y.getSQL()],r):this.buildQueryFromSourceParams([new ka("("),y.getSQL(),new ka(")")],r):p?{sql:this.mapInlineParam(y,r),params:[]}:{sql:d(v.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(e,{escapeString:a}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return a(e);if(typeof e=="object"){const r=e.toString();return a(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new It.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class Jp{constructor(e){this.value=e}static[re]="Name";brand;getSQL(){return new It([this])}}const VT={mapFromDriverValue:t=>t},FT={mapToDriverValue:t=>t};({...VT,...FT});class qT{constructor(e,a=FT){this.value=e,this.encoder=a}static[re]="Param";brand;getSQL(){return new It([this])}}function Qt(t,...e){const a=[];(e.length>0||t.length>0&&t[0]!=="")&&a.push(new ka(t[0]));for(const[r,o]of e.entries())a.push(o,new ka(t[r+1]));return new It(a)}(t=>{function e(){return new It([])}t.empty=e;function a(p){return new It(p)}t.fromList=a;function r(p){return new It([new ka(p)])}t.raw=r;function o(p,v){const y=[];for(const[_,T]of p.entries())_>0&&v!==void 0&&y.push(v),y.push(T);return new It(y)}t.join=o;function u(p){return new Jp(p)}t.identifier=u;function d(p){return new Kp(p)}t.placeholder=d;function h(p,v){return new qT(p,v)}t.param=h})(Qt||(Qt={}));(t=>{class e{constructor(r,o){this.sql=r,this.fieldAlias=o}static[re]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(It||(It={}));class Kp{constructor(e){this.name=e}static[re]="Placeholder";getSQL(){return new It([this])}}const HT=Symbol.for("drizzle:IsDrizzleView");class CL{static[re]="View";[io];[HT]=!0;constructor({name:e,schema:a,selectedFields:r,query:o}){this[io]={name:e,originalName:e,schema:a,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new It([this])}}function kL(t){return typeof t=="object"&&t!==null&&HT in t}Bl.prototype.getSQL=function(){return new It([this])};Yn.prototype.getSQL=function(){return new It([this])};IT.prototype.getSQL=function(){return new It([this])};function EL(t){return t[Yn.Symbol.Columns]}function ML(t){return t[io].selectedFields}function on(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class rf extends at{static[re]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:a,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:a,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class AL extends rf{static[re]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new OL(e,this.config)}}class OL extends Fe{static[re]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class DL extends rf{static[re]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new RL(e,this.config)}}class RL extends Fe{static[re]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function PL(t,e){const{name:a,config:r}=on(t,e);return r.mode==="number"?new AL(a):new DL(a)}class LL extends at{static[re]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new zL(e,this.config)}}class zL extends Fe{static[re]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class IL extends at{static[re]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new UL(e,this.config)}}class UL extends Fe{static[re]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function BL(t,e){const{name:a,config:r}=on(t,e);return r.mode==="number"?new LL(a):new IL(a)}class VL extends at{static[re]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new FL(e,this.config)}}class FL extends Fe{static[re]="PgBoolean";getSQLType(){return"boolean"}}function $T(t){return new VL(t??"")}class qL extends at{static[re]="PgCharBuilder";constructor(e,a){super(e,"string","PgChar"),this.config.length=a.length,this.config.enumValues=a.enum}build(e){return new HL(e,this.config)}}class HL extends Fe{static[re]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function $L(t,e={}){const{name:a,config:r}=on(t,e);return new qL(a,r)}class QL extends at{static[re]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new GL(e,this.config)}}class GL extends Fe{static[re]="PgCidr";getSQLType(){return"cidr"}}function YL(t){return new QL(t??"")}class ZL extends at{static[re]="PgCustomColumnBuilder";constructor(e,a,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=a,this.config.customTypeParams=r}build(e){return new JL(e,this.config)}}class JL extends Fe{static[re]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,a){super(e,a),this.sqlName=a.customTypeParams.dataType(a.fieldConfig),this.mapTo=a.customTypeParams.toDriver,this.mapFrom=a.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function KL(t){return(e,a)=>{const{name:r,config:o}=on(e,a);return new ZL(r,o,t)}}class lc extends at{static[re]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Qt`now()`)}}class XL extends lc{static[re]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new WL(e,this.config)}}class WL extends Fe{static[re]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class e6 extends lc{static[re]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new t6(e,this.config)}}class t6 extends Fe{static[re]="PgDateString";getSQLType(){return"date"}}function n6(t,e){const{name:a,config:r}=on(t,e);return r?.mode==="date"?new XL(a):new e6(a)}class a6 extends at{static[re]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new s6(e,this.config)}}class s6 extends Fe{static[re]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function r6(t){return new a6(t??"")}class i6 extends at{static[re]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new o6(e,this.config)}}class o6 extends Fe{static[re]="PgInet";getSQLType(){return"inet"}}function l6(t){return new i6(t??"")}class c6 extends rf{static[re]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new u6(e,this.config)}}class u6 extends Fe{static[re]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function Cn(t){return new c6(t??"")}class d6 extends at{static[re]="PgIntervalBuilder";constructor(e,a){super(e,"string","PgInterval"),this.config.intervalConfig=a}build(e){return new f6(e,this.config)}}class f6 extends Fe{static[re]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",a=this.precision?`(${this.precision})`:"";return`interval${e}${a}`}}function h6(t,e={}){const{name:a,config:r}=on(t,e);return new d6(a,r)}class m6 extends at{static[re]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new p6(e,this.config)}}class p6 extends Fe{static[re]="PgJson";constructor(e,a){super(e,a)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function g6(t){return new m6(t??"")}class v6 extends at{static[re]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new y6(e,this.config)}}class y6 extends Fe{static[re]="PgJsonb";constructor(e,a){super(e,a)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Ss(t){return new v6(t??"")}class b6 extends at{static[re]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new x6(e,this.config)}}class x6 extends Fe{static[re]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[a,r,o]=e.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class w6 extends at{static[re]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new S6(e,this.config)}}class S6 extends Fe{static[re]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[a,r,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(a),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function _6(t,e){const{name:a,config:r}=on(t,e);return!r?.mode||r.mode==="tuple"?new b6(a):new w6(a)}class j6 extends at{static[re]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new N6(e,this.config)}}class N6 extends Fe{static[re]="PgMacaddr";getSQLType(){return"macaddr"}}function T6(t){return new j6(t??"")}class C6 extends at{static[re]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new k6(e,this.config)}}class k6 extends Fe{static[re]="PgMacaddr8";getSQLType(){return"macaddr8"}}function E6(t){return new C6(t??"")}class M6 extends at{static[re]="PgNumericBuilder";constructor(e,a,r){super(e,"string","PgNumeric"),this.config.precision=a,this.config.scale=r}build(e){return new A6(e,this.config)}}class A6 extends Fe{static[re]="PgNumeric";precision;scale;constructor(e,a){super(e,a),this.precision=a.precision,this.scale=a.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function O6(t,e){const{name:a,config:r}=on(t,e);return new M6(a,r?.precision,r?.scale)}class D6 extends at{static[re]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new R6(e,this.config)}}class R6 extends Fe{static[re]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[a,r]=e.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class P6 extends at{static[re]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new L6(e,this.config)}}class L6 extends Fe{static[re]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[a,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(a),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function z6(t,e){const{name:a,config:r}=on(t,e);return!r?.mode||r.mode==="tuple"?new D6(a):new P6(a)}function I6(t){const e=[];for(let a=0;a<t.length;a+=2)e.push(Number.parseInt(t.slice(a,a+2),16));return new Uint8Array(e)}function t_(t,e){const a=new ArrayBuffer(8),r=new DataView(a);for(let o=0;o<8;o++)r.setUint8(o,t[e+o]);return r.getFloat64(0,!0)}function QT(t){const e=I6(t);let a=0;const r=e[a];a+=1;const o=new DataView(e.buffer),u=o.getUint32(a,r===1);if(a+=4,u&536870912&&(o.getUint32(a,r===1),a+=4),(u&65535)===1){const d=t_(e,a);a+=8;const h=t_(e,a);return a+=8,[d,h]}throw new Error("Unsupported geometry type")}class U6 extends at{static[re]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new B6(e,this.config)}}class B6 extends Fe{static[re]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return QT(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class V6 extends at{static[re]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new F6(e,this.config)}}class F6 extends Fe{static[re]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const a=QT(e);return{x:a[0],y:a[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function q6(t,e){const{name:a,config:r}=on(t,e);return!r?.mode||r.mode==="tuple"?new U6(a):new V6(a)}class H6 extends at{static[re]="PgRealBuilder";constructor(e,a){super(e,"number","PgReal"),this.config.length=a}build(e){return new $6(e,this.config)}}class $6 extends Fe{static[re]="PgReal";constructor(e,a){super(e,a)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function Q6(t){return new H6(t??"")}class G6 extends at{static[re]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Y6(e,this.config)}}class Y6 extends Fe{static[re]="PgSerial";getSQLType(){return"serial"}}function ta(t){return new G6(t??"")}class Z6 extends rf{static[re]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new J6(e,this.config)}}class J6 extends Fe{static[re]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function K6(t){return new Z6(t??"")}class X6 extends at{static[re]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new W6(e,this.config)}}class W6 extends Fe{static[re]="PgSmallSerial";getSQLType(){return"smallserial"}}function ez(t){return new X6(t??"")}class tz extends at{static[re]="PgTextBuilder";constructor(e,a){super(e,"string","PgText"),this.config.enumValues=a.enum}build(e){return new nz(e,this.config)}}class nz extends Fe{static[re]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Ce(t,e={}){const{name:a,config:r}=on(t,e);return new tz(a,r)}class az extends lc{constructor(e,a,r){super(e,"string","PgTime"),this.withTimezone=a,this.precision=r,this.config.withTimezone=a,this.config.precision=r}static[re]="PgTimeBuilder";build(e){return new sz(e,this.config)}}class sz extends Fe{static[re]="PgTime";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function rz(t,e={}){const{name:a,config:r}=on(t,e);return new az(a,r.withTimezone??!1,r.precision)}class iz extends lc{static[re]="PgTimestampBuilder";constructor(e,a,r){super(e,"date","PgTimestamp"),this.config.withTimezone=a,this.config.precision=r}build(e){return new oz(e,this.config)}}class oz extends Fe{static[re]="PgTimestamp";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class lz extends lc{static[re]="PgTimestampStringBuilder";constructor(e,a,r){super(e,"string","PgTimestampString"),this.config.withTimezone=a,this.config.precision=r}build(e){return new cz(e,this.config)}}class cz extends Fe{static[re]="PgTimestampString";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Tt(t,e={}){const{name:a,config:r}=on(t,e);return r?.mode==="string"?new lz(a,r.withTimezone??!1,r.precision):new iz(a,r?.withTimezone??!1,r?.precision)}class uz extends at{static[re]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Qt`gen_random_uuid()`)}build(e){return new dz(e,this.config)}}class dz extends Fe{static[re]="PgUUID";getSQLType(){return"uuid"}}function fz(t){return new uz(t??"")}class hz extends at{static[re]="PgVarcharBuilder";constructor(e,a){super(e,"string","PgVarchar"),this.config.length=a.length,this.config.enumValues=a.enum}build(e){return new mz(e,this.config)}}class mz extends Fe{static[re]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Ht(t,e={}){const{name:a,config:r}=on(t,e);return new hz(a,r)}class pz extends at{static[re]="PgBinaryVectorBuilder";constructor(e,a){super(e,"string","PgBinaryVector"),this.config.dimensions=a.dimensions}build(e){return new gz(e,this.config)}}class gz extends Fe{static[re]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function vz(t,e){const{name:a,config:r}=on(t,e);return new pz(a,r)}class yz extends at{static[re]="PgHalfVectorBuilder";constructor(e,a){super(e,"array","PgHalfVector"),this.config.dimensions=a.dimensions}build(e){return new bz(e,this.config)}}class bz extends Fe{static[re]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function xz(t,e){const{name:a,config:r}=on(t,e);return new yz(a,r)}class wz extends at{static[re]="PgSparseVectorBuilder";constructor(e,a){super(e,"string","PgSparseVector"),this.config.dimensions=a.dimensions}build(e){return new Sz(e,this.config)}}class Sz extends Fe{static[re]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function _z(t,e){const{name:a,config:r}=on(t,e);return new wz(a,r)}class jz extends at{static[re]="PgVectorBuilder";constructor(e,a){super(e,"array","PgVector"),this.config.dimensions=a.dimensions}build(e){return new Nz(e,this.config)}}class Nz extends Fe{static[re]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function Tz(t,e){const{name:a,config:r}=on(t,e);return new jz(a,r)}function Cz(){return{bigint:PL,bigserial:BL,boolean:$T,char:$L,cidr:YL,customType:KL,date:n6,doublePrecision:r6,inet:l6,integer:Cn,interval:h6,json:g6,jsonb:Ss,line:_6,macaddr:T6,macaddr8:E6,numeric:O6,point:z6,geometry:q6,real:Q6,serial:ta,smallint:K6,smallserial:ez,text:Ce,time:rz,timestamp:Tt,uuid:fz,varchar:Ht,bit:vz,halfvec:xz,sparsevec:_z,vector:Tz}}const Xp=Symbol.for("drizzle:PgInlineForeignKeys"),n_=Symbol.for("drizzle:EnableRLS");class a_ extends Yn{static[re]="PgTable";static Symbol=Object.assign({},Yn.Symbol,{InlineForeignKeys:Xp,EnableRLS:n_});[Xp]=[];[n_]=!1;[Yn.Symbol.ExtraConfigBuilder]=void 0}function kz(t,e,a,r,o=t){const u=new a_(t,r,o),d=typeof e=="function"?e(Cz()):e,h=Object.fromEntries(Object.entries(d).map(([y,_])=>{const T=_;T.setName(y);const A=T.build(u);return u[Xp].push(...T.buildForeignKeys(A,u)),[y,A]})),p=Object.fromEntries(Object.entries(d).map(([y,_])=>{const T=_;T.setName(y);const A=T.buildExtraConfigColumn(u);return[y,A]})),v=Object.assign(u,h);return v[Yn.Symbol.Columns]=h,v[Yn.Symbol.ExtraConfigColumns]=p,Object.assign(v,{enableRLS:()=>(v[a_.Symbol.EnableRLS]=!0,v)})}const na=(t,e,a)=>kz(t,e,a,void 0);var et;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function a(o){throw new Error}t.assertNever=a,t.arrayToEnum=o=>{const u={};for(const d of o)u[d]=d;return u},t.getValidEnumValues=o=>{const u=t.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),d={};for(const h of u)d[h]=o[h];return t.objectValues(d)},t.objectValues=o=>t.objectKeys(o).map(function(u){return o[u]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&u.push(d);return u},t.find=(o,u)=>{for(const d of o)if(u(d))return d},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,u=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}t.joinValues=r,t.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(et||(et={}));var Wp;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(Wp||(Wp={}));const he=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vs=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}},oe=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ez=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ln extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(u){return u.message},r={_errors:[]},o=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)r._errors.push(a(d));else{let h=r,p=0;for(;p<d.path.length;){const v=d.path[p];p===d.path.length-1?(h[v]=h[v]||{_errors:[]},h[v]._errors.push(a(d))):h[v]=h[v]||{_errors:[]},h=h[v],p++}}};return o(this),r}static assert(e){if(!(e instanceof Ln))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},r=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];a[u]=a[u]||[],a[u].push(e(o))}else r.push(e(o));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}Ln.create=t=>new Ln(t);const bo=(t,e)=>{let a;switch(t.code){case oe.invalid_type:t.received===he.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case oe.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,et.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:a=`Unrecognized key(s) in object: ${et.joinValues(t.keys,", ")}`;break;case oe.invalid_union:a="Invalid input";break;case oe.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${et.joinValues(t.options)}`;break;case oe.invalid_enum_value:a=`Invalid enum value. Expected ${et.joinValues(t.options)}, received '${t.received}'`;break;case oe.invalid_arguments:a="Invalid function arguments";break;case oe.invalid_return_type:a="Invalid function return type";break;case oe.invalid_date:a="Invalid date";break;case oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:et.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case oe.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case oe.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case oe.custom:a="Invalid input";break;case oe.invalid_intersection_types:a="Intersection results could not be merged";break;case oe.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case oe.not_finite:a="Number must be finite";break;default:a=e.defaultError,et.assertNever(t)}return{message:a}};let GT=bo;function Mz(t){GT=t}function wd(){return GT}const Sd=t=>{const{data:e,path:a,errorMaps:r,issueData:o}=t,u=[...a,...o.path||[]],d={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let h="";const p=r.filter(v=>!!v).slice().reverse();for(const v of p)h=v(d,{data:e,defaultError:h}).message;return{...o,path:u,message:h}},Az=[];function de(t,e){const a=wd(),r=Sd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===bo?void 0:bo].filter(o=>!!o)});t.common.issues.push(r)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const r=[];for(const o of a){if(o.status==="aborted")return Ae;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,a){const r=[];for(const o of a){const u=await o.key,d=await o.value;r.push({key:u,value:d})}return bn.mergeObjectSync(e,r)}static mergeObjectSync(e,a){const r={};for(const o of a){const{key:u,value:d}=o;if(u.status==="aborted"||d.status==="aborted")return Ae;u.status==="dirty"&&e.dirty(),d.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(r[u.value]=d.value)}return{status:e.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),to=t=>({status:"dirty",value:t}),kn=t=>({status:"valid",value:t}),eg=t=>t.status==="aborted",tg=t=>t.status==="dirty",ri=t=>t.status==="valid",Vl=t=>typeof Promise<"u"&&t instanceof Promise;var we;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(we||(we={}));class $a{constructor(e,a,r,o){this._cachedPath=[],this.parent=e,this.data=a,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s_=(t,e)=>{if(ri(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new Ln(t.common.issues);return this._error=a,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:r,description:o}=t;if(e&&(a||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(d,h)=>{const{message:p}=t;return d.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??r??h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:p??a??h.defaultError}},description:o}}class qe{get description(){return this._def.description}_getType(e){return vs(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bn,ctx:{common:e.parent.common,data:e.data,parsedType:vs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(Vl(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const r=this.safeParse(e,a);if(r.success)return r.data;throw r.error}safeParse(e,a){const r={common:{issues:[],async:a?.async??!1,contextualErrorMap:a?.errorMap},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vs(e)},o=this._parseSync({data:e,path:r.path,parent:r});return s_(r,o)}"~validate"(e){const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vs(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:a});return ri(r)?{value:r.value}:{issues:a.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(r=>ri(r)?{value:r.value}:{issues:a.common.issues})}async parseAsync(e,a){const r=await this.safeParseAsync(e,a);if(r.success)return r.data;throw r.error}async safeParseAsync(e,a){const r={common:{issues:[],contextualErrorMap:a?.errorMap,async:!0},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vs(e)},o=this._parse({data:e,path:r.path,parent:r}),u=await(Vl(o)?o:Promise.resolve(o));return s_(r,u)}refine(e,a){const r=o=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(o):a;return this._refinement((o,u)=>{const d=e(o),h=()=>u.addIssue({code:oe.custom,...r(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(p=>p?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(e,a){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof a=="function"?a(r,o):a),!1))}_refinement(e){return new Ra({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Ha.create(this,this._def)}nullable(){return ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oa.create(this)}promise(){return wo.create(this,this._def)}or(e){return $l.create([this,e],this._def)}and(e){return Ql.create(this,e,this._def)}transform(e){return new Ra({...Be(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new Kl({...Be(this._def),innerType:this,defaultValue:a,typeName:Oe.ZodDefault})}brand(){return new ov({typeName:Oe.ZodBranded,type:this,...Be(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new Xl({...Be(this._def),innerType:this,catchValue:a,typeName:Oe.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return cc.create(this,e)}readonly(){return Wl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Oz=/^c[^\s-]{8,}$/i,Dz=/^[0-9a-z]+$/,Rz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lz=/^[a-z0-9_-]{21}$/i,zz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Iz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Uz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tp;const Vz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Hz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,YT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gz=new RegExp(`^${YT}$`);function ZT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function Yz(t){return new RegExp(`^${ZT(t)}$`)}function JT(t){let e=`${YT}T${ZT(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function Zz(t,e){return!!((e==="v4"||!e)&&Vz.test(t)||(e==="v6"||!e)&&qz.test(t))}function Jz(t,e){if(!zz.test(t))return!1;try{const[a]=t.split(".");if(!a)return!1;const r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function Kz(t,e){return!!((e==="v4"||!e)&&Fz.test(t)||(e==="v6"||!e)&&Hz.test(t))}class Ma extends qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){const u=this._getOrReturnCtx(e);return de(u,{code:oe.invalid_type,expected:he.string,received:u.parsedType}),Ae}const r=new bn;let o;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:oe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="max")e.data.length>u.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:oe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="length"){const d=e.data.length>u.value,h=e.data.length<u.value;(d||h)&&(o=this._getOrReturnCtx(e,o),d?de(o,{code:oe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&de(o,{code:oe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),r.dirty())}else if(u.kind==="email")Uz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"email",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="emoji")tp||(tp=new RegExp(Bz,"u")),tp.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"emoji",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="uuid")Pz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"uuid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="nanoid")Lz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"nanoid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid")Oz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid2")Dz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid2",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="ulid")Rz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ulid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),de(o,{validation:"url",code:oe.invalid_string,message:u.message}),r.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"regex",code:oe.invalid_string,message:u.message}),r.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),r.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:{startsWith:u.value},message:u.message}),r.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:{endsWith:u.value},message:u.message}),r.dirty()):u.kind==="datetime"?JT(u).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:"datetime",message:u.message}),r.dirty()):u.kind==="date"?Gz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:"date",message:u.message}),r.dirty()):u.kind==="time"?Yz(u).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:oe.invalid_string,validation:"time",message:u.message}),r.dirty()):u.kind==="duration"?Iz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"duration",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="ip"?Zz(e.data,u.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ip",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="jwt"?Jz(e.data,u.alg)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"jwt",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="cidr"?Kz(e.data,u.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cidr",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="base64"?$z.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="base64url"?Qz.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64url",code:oe.invalid_string,message:u.message}),r.dirty()):et.assertNever(u);return{status:r.value,value:e.data}}_regex(e,a,r){return this.refinement(o=>e.test(o),{validation:a,code:oe.invalid_string,...we.errToObj(r)})}_addCheck(e){return new Ma({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...we.errToObj(e)})}url(e){return this._addCheck({kind:"url",...we.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...we.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...we.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...we.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...we.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...we.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...we.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...we.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...we.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...we.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...we.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...we.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...we.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...we.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...we.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...we.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a?.position,...we.errToObj(a?.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...we.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...we.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...we.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...we.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...we.errToObj(a)})}nonempty(e){return this.min(1,we.errToObj(e))}trim(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Ma.create=t=>new Ma({checks:[],typeName:Oe.ZodString,coerce:t?.coerce??!1,...Be(t)});function Xz(t,e){const a=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=a>r?a:r,u=Number.parseInt(t.toFixed(o).replace(".","")),d=Number.parseInt(e.toFixed(o).replace(".",""));return u%d/10**o}class or extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){const u=this._getOrReturnCtx(e);return de(u,{code:oe.invalid_type,expected:he.number,received:u.parsedType}),Ae}let r;const o=new bn;for(const u of this._def.checks)u.kind==="int"?et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:oe.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?Xz(e.data,u.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:oe.not_finite,message:u.message}),o.dirty()):et.assertNever(u);return{status:o.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,we.toString(a))}gt(e,a){return this.setLimit("min",e,!1,we.toString(a))}lte(e,a){return this.setLimit("max",e,!0,we.toString(a))}lt(e,a){return this.setLimit("max",e,!1,we.toString(a))}setLimit(e,a,r,o){return new or({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:r,message:we.toString(o)}]})}_addCheck(e){return new or({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:we.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:we.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&et.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(a===null||r.value>a)&&(a=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(a)&&Number.isFinite(e)}}or.create=t=>new or({checks:[],typeName:Oe.ZodNumber,coerce:t?.coerce||!1,...Be(t)});class lr extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let r;const o=new bn;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:oe.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):et.assertNever(u);return{status:o.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return de(a,{code:oe.invalid_type,expected:he.bigint,received:a.parsedType}),Ae}gte(e,a){return this.setLimit("min",e,!0,we.toString(a))}gt(e,a){return this.setLimit("min",e,!1,we.toString(a))}lte(e,a){return this.setLimit("max",e,!0,we.toString(a))}lt(e,a){return this.setLimit("max",e,!1,we.toString(a))}setLimit(e,a,r,o){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:r,message:we.toString(o)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}lr.create=t=>new lr({checks:[],typeName:Oe.ZodBigInt,coerce:t?.coerce??!1,...Be(t)});class Fl extends qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.boolean,received:r.parsedType}),Ae}return kn(e.data)}}Fl.create=t=>new Fl({typeName:Oe.ZodBoolean,coerce:t?.coerce||!1,...Be(t)});class ii extends qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){const u=this._getOrReturnCtx(e);return de(u,{code:oe.invalid_type,expected:he.date,received:u.parsedType}),Ae}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return de(u,{code:oe.invalid_date}),Ae}const r=new bn;let o;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:oe.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),r.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:oe.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),r.dirty()):et.assertNever(u);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:we.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:we.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}ii.create=t=>new ii({checks:[],coerce:t?.coerce||!1,typeName:Oe.ZodDate,...Be(t)});class _d extends qe{_parse(e){if(this._getType(e)!==he.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.symbol,received:r.parsedType}),Ae}return kn(e.data)}}_d.create=t=>new _d({typeName:Oe.ZodSymbol,...Be(t)});class ql extends qe{_parse(e){if(this._getType(e)!==he.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.undefined,received:r.parsedType}),Ae}return kn(e.data)}}ql.create=t=>new ql({typeName:Oe.ZodUndefined,...Be(t)});class Hl extends qe{_parse(e){if(this._getType(e)!==he.null){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.null,received:r.parsedType}),Ae}return kn(e.data)}}Hl.create=t=>new Hl({typeName:Oe.ZodNull,...Be(t)});class xo extends qe{constructor(){super(...arguments),this._any=!0}_parse(e){return kn(e.data)}}xo.create=t=>new xo({typeName:Oe.ZodAny,...Be(t)});class $r extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kn(e.data)}}$r.create=t=>new $r({typeName:Oe.ZodUnknown,...Be(t)});class _s extends qe{_parse(e){const a=this._getOrReturnCtx(e);return de(a,{code:oe.invalid_type,expected:he.never,received:a.parsedType}),Ae}}_s.create=t=>new _s({typeName:Oe.ZodNever,...Be(t)});class jd extends qe{_parse(e){if(this._getType(e)!==he.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.void,received:r.parsedType}),Ae}return kn(e.data)}}jd.create=t=>new jd({typeName:Oe.ZodVoid,...Be(t)});class Oa extends qe{_parse(e){const{ctx:a,status:r}=this._processInputParams(e),o=this._def;if(a.parsedType!==he.array)return de(a,{code:oe.invalid_type,expected:he.array,received:a.parsedType}),Ae;if(o.exactLength!==null){const d=a.data.length>o.exactLength.value,h=a.data.length<o.exactLength.value;(d||h)&&(de(a,{code:d?oe.too_big:oe.too_small,minimum:h?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&a.data.length<o.minLength.value&&(de(a,{code:oe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&a.data.length>o.maxLength.value&&(de(a,{code:oe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),a.common.async)return Promise.all([...a.data].map((d,h)=>o.type._parseAsync(new $a(a,d,a.path,h)))).then(d=>bn.mergeArray(r,d));const u=[...a.data].map((d,h)=>o.type._parseSync(new $a(a,d,a.path,h)));return bn.mergeArray(r,u)}get element(){return this._def.type}min(e,a){return new Oa({...this._def,minLength:{value:e,message:we.toString(a)}})}max(e,a){return new Oa({...this._def,maxLength:{value:e,message:we.toString(a)}})}length(e,a){return new Oa({...this._def,exactLength:{value:e,message:we.toString(a)}})}nonempty(e){return this.min(1,e)}}Oa.create=(t,e)=>new Oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Be(e)});function Ki(t){if(t instanceof Ot){const e={};for(const a in t.shape){const r=t.shape[a];e[a]=Ha.create(Ki(r))}return new Ot({...t._def,shape:()=>e})}else return t instanceof Oa?new Oa({...t._def,type:Ki(t.element)}):t instanceof Ha?Ha.create(Ki(t.unwrap())):t instanceof ur?ur.create(Ki(t.unwrap())):t instanceof Qa?Qa.create(t.items.map(e=>Ki(e))):t}class Ot extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=et.objectKeys(e);return this._cached={shape:e,keys:a},this._cached}_parse(e){if(this._getType(e)!==he.object){const v=this._getOrReturnCtx(e);return de(v,{code:oe.invalid_type,expected:he.object,received:v.parsedType}),Ae}const{status:r,ctx:o}=this._processInputParams(e),{shape:u,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof _s&&this._def.unknownKeys==="strip"))for(const v in o.data)d.includes(v)||h.push(v);const p=[];for(const v of d){const y=u[v],_=o.data[v];p.push({key:{status:"valid",value:v},value:y._parse(new $a(o,_,o.path,v)),alwaysSet:v in o.data})}if(this._def.catchall instanceof _s){const v=this._def.unknownKeys;if(v==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(v==="strict")h.length>0&&(de(o,{code:oe.unrecognized_keys,keys:h}),r.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const v=this._def.catchall;for(const y of h){const _=o.data[y];p.push({key:{status:"valid",value:y},value:v._parse(new $a(o,_,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const v=[];for(const y of p){const _=await y.key,T=await y.value;v.push({key:_,value:T,alwaysSet:y.alwaysSet})}return v}).then(v=>bn.mergeObjectSync(r,v)):bn.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(e){return we.errToObj,new Ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,r)=>{const o=this._def.errorMap?.(a,r).message??r.defaultError;return a.code==="unrecognized_keys"?{message:we.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new Ot({...this._def,catchall:e})}pick(e){const a={};for(const r of et.objectKeys(e))e[r]&&this.shape[r]&&(a[r]=this.shape[r]);return new Ot({...this._def,shape:()=>a})}omit(e){const a={};for(const r of et.objectKeys(this.shape))e[r]||(a[r]=this.shape[r]);return new Ot({...this._def,shape:()=>a})}deepPartial(){return Ki(this)}partial(e){const a={};for(const r of et.objectKeys(this.shape)){const o=this.shape[r];e&&!e[r]?a[r]=o:a[r]=o.optional()}return new Ot({...this._def,shape:()=>a})}required(e){const a={};for(const r of et.objectKeys(this.shape))if(e&&!e[r])a[r]=this.shape[r];else{let u=this.shape[r];for(;u instanceof Ha;)u=u._def.innerType;a[r]=u}return new Ot({...this._def,shape:()=>a})}keyof(){return KT(et.objectKeys(this.shape))}}Ot.create=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strip",catchall:_s.create(),typeName:Oe.ZodObject,...Be(e)});Ot.strictCreate=(t,e)=>new Ot({shape:()=>t,unknownKeys:"strict",catchall:_s.create(),typeName:Oe.ZodObject,...Be(e)});Ot.lazycreate=(t,e)=>new Ot({shape:t,unknownKeys:"strip",catchall:_s.create(),typeName:Oe.ZodObject,...Be(e)});class $l extends qe{_parse(e){const{ctx:a}=this._processInputParams(e),r=this._def.options;function o(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return a.common.issues.push(...h.ctx.common.issues),h.result;const d=u.map(h=>new Ln(h.ctx.common.issues));return de(a,{code:oe.invalid_union,unionErrors:d}),Ae}if(a.common.async)return Promise.all(r.map(async u=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await u._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(o);{let u;const d=[];for(const p of r){const v={...a,common:{...a.common,issues:[]},parent:null},y=p._parseSync({data:a.data,path:a.path,parent:v});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return a.common.issues.push(...u.ctx.common.issues),u.result;const h=d.map(p=>new Ln(p));return de(a,{code:oe.invalid_union,unionErrors:h}),Ae}}get options(){return this._def.options}}$l.create=(t,e)=>new $l({options:t,typeName:Oe.ZodUnion,...Be(e)});const ms=t=>t instanceof Yl?ms(t.schema):t instanceof Ra?ms(t.innerType()):t instanceof Zl?[t.value]:t instanceof cr?t.options:t instanceof Jl?et.objectValues(t.enum):t instanceof Kl?ms(t._def.innerType):t instanceof ql?[void 0]:t instanceof Hl?[null]:t instanceof Ha?[void 0,...ms(t.unwrap())]:t instanceof ur?[null,...ms(t.unwrap())]:t instanceof ov||t instanceof Wl?ms(t.unwrap()):t instanceof Xl?ms(t._def.innerType):[];class of extends qe{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==he.object)return de(a,{code:oe.invalid_type,expected:he.object,received:a.parsedType}),Ae;const r=this.discriminator,o=a.data[r],u=this.optionsMap.get(o);return u?a.common.async?u._parseAsync({data:a.data,path:a.path,parent:a}):u._parseSync({data:a.data,path:a.path,parent:a}):(de(a,{code:oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,r){const o=new Map;for(const u of a){const d=ms(u.shape[e]);if(!d.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const h of d){if(o.has(h))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(h)}`);o.set(h,u)}}return new of({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:o,...Be(r)})}}function ng(t,e){const a=vs(t),r=vs(e);if(t===e)return{valid:!0,data:t};if(a===he.object&&r===he.object){const o=et.objectKeys(e),u=et.objectKeys(t).filter(h=>o.indexOf(h)!==-1),d={...t,...e};for(const h of u){const p=ng(t[h],e[h]);if(!p.valid)return{valid:!1};d[h]=p.data}return{valid:!0,data:d}}else if(a===he.array&&r===he.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let u=0;u<t.length;u++){const d=t[u],h=e[u],p=ng(d,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return a===he.date&&r===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ql extends qe{_parse(e){const{status:a,ctx:r}=this._processInputParams(e),o=(u,d)=>{if(eg(u)||eg(d))return Ae;const h=ng(u.value,d.value);return h.valid?((tg(u)||tg(d))&&a.dirty(),{status:a.value,value:h.data}):(de(r,{code:oe.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([u,d])=>o(u,d)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ql.create=(t,e,a)=>new Ql({left:t,right:e,typeName:Oe.ZodIntersection,...Be(a)});class Qa extends qe{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==he.array)return de(r,{code:oe.invalid_type,expected:he.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return de(r,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const u=[...r.data].map((d,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new $a(r,d,r.path,h)):null}).filter(d=>!!d);return r.common.async?Promise.all(u).then(d=>bn.mergeArray(a,d)):bn.mergeArray(a,u)}get items(){return this._def.items}rest(e){return new Qa({...this._def,rest:e})}}Qa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qa({items:t,typeName:Oe.ZodTuple,rest:null,...Be(e)})};class Gl extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==he.object)return de(r,{code:oe.invalid_type,expected:he.object,received:r.parsedType}),Ae;const o=[],u=this._def.keyType,d=this._def.valueType;for(const h in r.data)o.push({key:u._parse(new $a(r,h,r.path,h)),value:d._parse(new $a(r,r.data[h],r.path,h)),alwaysSet:h in r.data});return r.common.async?bn.mergeObjectAsync(a,o):bn.mergeObjectSync(a,o)}get element(){return this._def.valueType}static create(e,a,r){return a instanceof qe?new Gl({keyType:e,valueType:a,typeName:Oe.ZodRecord,...Be(r)}):new Gl({keyType:Ma.create(),valueType:e,typeName:Oe.ZodRecord,...Be(a)})}}class Nd extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==he.map)return de(r,{code:oe.invalid_type,expected:he.map,received:r.parsedType}),Ae;const o=this._def.keyType,u=this._def.valueType,d=[...r.data.entries()].map(([h,p],v)=>({key:o._parse(new $a(r,h,r.path,[v,"key"])),value:u._parse(new $a(r,p,r.path,[v,"value"]))}));if(r.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of d){const v=await p.key,y=await p.value;if(v.status==="aborted"||y.status==="aborted")return Ae;(v.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(v.value,y.value)}return{status:a.value,value:h}})}else{const h=new Map;for(const p of d){const v=p.key,y=p.value;if(v.status==="aborted"||y.status==="aborted")return Ae;(v.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(v.value,y.value)}return{status:a.value,value:h}}}}Nd.create=(t,e,a)=>new Nd({valueType:e,keyType:t,typeName:Oe.ZodMap,...Be(a)});class oi extends qe{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==he.set)return de(r,{code:oe.invalid_type,expected:he.set,received:r.parsedType}),Ae;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(de(r,{code:oe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),a.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(de(r,{code:oe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),a.dirty());const u=this._def.valueType;function d(p){const v=new Set;for(const y of p){if(y.status==="aborted")return Ae;y.status==="dirty"&&a.dirty(),v.add(y.value)}return{status:a.value,value:v}}const h=[...r.data.values()].map((p,v)=>u._parse(new $a(r,p,r.path,v)));return r.common.async?Promise.all(h).then(p=>d(p)):d(h)}min(e,a){return new oi({...this._def,minSize:{value:e,message:we.toString(a)}})}max(e,a){return new oi({...this._def,maxSize:{value:e,message:we.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}oi.create=(t,e)=>new oi({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Be(e)});class oo extends qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==he.function)return de(a,{code:oe.invalid_type,expected:he.function,received:a.parsedType}),Ae;function r(h,p){return Sd({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,wd(),bo].filter(v=>!!v),issueData:{code:oe.invalid_arguments,argumentsError:p}})}function o(h,p){return Sd({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,wd(),bo].filter(v=>!!v),issueData:{code:oe.invalid_return_type,returnTypeError:p}})}const u={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof wo){const h=this;return kn(async function(...p){const v=new Ln([]),y=await h._def.args.parseAsync(p,u).catch(A=>{throw v.addIssue(r(p,A)),v}),_=await Reflect.apply(d,this,y);return await h._def.returns._def.type.parseAsync(_,u).catch(A=>{throw v.addIssue(o(_,A)),v})})}else{const h=this;return kn(function(...p){const v=h._def.args.safeParse(p,u);if(!v.success)throw new Ln([r(p,v.error)]);const y=Reflect.apply(d,this,v.data),_=h._def.returns.safeParse(y,u);if(!_.success)throw new Ln([o(y,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new oo({...this._def,args:Qa.create(e).rest($r.create())})}returns(e){return new oo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,r){return new oo({args:e||Qa.create([]).rest($r.create()),returns:a||$r.create(),typeName:Oe.ZodFunction,...Be(r)})}}class Yl extends qe{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Yl.create=(t,e)=>new Yl({getter:t,typeName:Oe.ZodLazy,...Be(e)});class Zl extends qe{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return de(a,{received:a.data,code:oe.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}Zl.create=(t,e)=>new Zl({value:t,typeName:Oe.ZodLiteral,...Be(e)});function KT(t,e){return new cr({values:t,typeName:Oe.ZodEnum,...Be(e)})}class cr extends qe{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),r=this._def.values;return de(a,{expected:et.joinValues(r),received:a.parsedType,code:oe.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const a=this._getOrReturnCtx(e),r=this._def.values;return de(a,{received:a.data,code:oe.invalid_enum_value,options:r}),Ae}return kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return cr.create(e,{...this._def,...a})}exclude(e,a=this._def){return cr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...a})}}cr.create=KT;class Jl extends qe{_parse(e){const a=et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==he.string&&r.parsedType!==he.number){const o=et.objectValues(a);return de(r,{expected:et.joinValues(o),received:r.parsedType,code:oe.invalid_type}),Ae}if(this._cache||(this._cache=new Set(et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=et.objectValues(a);return de(r,{received:r.data,code:oe.invalid_enum_value,options:o}),Ae}return kn(e.data)}get enum(){return this._def.values}}Jl.create=(t,e)=>new Jl({values:t,typeName:Oe.ZodNativeEnum,...Be(e)});class wo extends qe{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==he.promise&&a.common.async===!1)return de(a,{code:oe.invalid_type,expected:he.promise,received:a.parsedType}),Ae;const r=a.parsedType===he.promise?a.data:Promise.resolve(a.data);return kn(r.then(o=>this._def.type.parseAsync(o,{path:a.path,errorMap:a.common.contextualErrorMap})))}}wo.create=(t,e)=>new wo({type:t,typeName:Oe.ZodPromise,...Be(e)});class Ra extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:r}=this._processInputParams(e),o=this._def.effect||null,u={addIssue:d=>{de(r,d),d.fatal?a.abort():a.dirty()},get path(){return r.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const d=o.transform(r.data,u);if(r.common.async)return Promise.resolve(d).then(async h=>{if(a.value==="aborted")return Ae;const p=await this._def.schema._parseAsync({data:h,path:r.path,parent:r});return p.status==="aborted"?Ae:p.status==="dirty"||a.value==="dirty"?to(p.value):p});{if(a.value==="aborted")return Ae;const h=this._def.schema._parseSync({data:d,path:r.path,parent:r});return h.status==="aborted"?Ae:h.status==="dirty"||a.value==="dirty"?to(h.value):h}}if(o.type==="refinement"){const d=h=>{const p=o.refinement(h,u);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return h.status==="aborted"?Ae:(h.status==="dirty"&&a.dirty(),d(h.value),{status:a.value,value:h.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>h.status==="aborted"?Ae:(h.status==="dirty"&&a.dirty(),d(h.value).then(()=>({status:a.value,value:h.value}))))}if(o.type==="transform")if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ri(d))return Ae;const h=o.transform(d.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>ri(d)?Promise.resolve(o.transform(d.value,u)).then(h=>({status:a.value,value:h})):Ae);et.assertNever(o)}}Ra.create=(t,e,a)=>new Ra({schema:t,typeName:Oe.ZodEffects,effect:e,...Be(a)});Ra.createWithPreprocess=(t,e,a)=>new Ra({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Be(a)});class Ha extends qe{_parse(e){return this._getType(e)===he.undefined?kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:Oe.ZodOptional,...Be(e)});class ur extends qe{_parse(e){return this._getType(e)===he.null?kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ur.create=(t,e)=>new ur({innerType:t,typeName:Oe.ZodNullable,...Be(e)});class Kl extends qe{_parse(e){const{ctx:a}=this._processInputParams(e);let r=a.data;return a.parsedType===he.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Kl.create=(t,e)=>new Kl({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Xl extends qe{_parse(e){const{ctx:a}=this._processInputParams(e),r={...a,common:{...a.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vl(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xl.create=(t,e)=>new Xl({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class Td extends qe{_parse(e){if(this._getType(e)!==he.nan){const r=this._getOrReturnCtx(e);return de(r,{code:oe.invalid_type,expected:he.nan,received:r.parsedType}),Ae}return{status:"valid",value:e.data}}}Td.create=t=>new Td({typeName:Oe.ZodNaN,...Be(t)});const Wz=Symbol("zod_brand");class ov extends qe{_parse(e){const{ctx:a}=this._processInputParams(e),r=a.data;return this._def.type._parse({data:r,path:a.path,parent:a})}unwrap(){return this._def.type}}class cc extends qe{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ae:u.status==="dirty"?(a.dirty(),to(u.value)):this._def.out._parseAsync({data:u.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ae:o.status==="dirty"?(a.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,a){return new cc({in:e,out:a,typeName:Oe.ZodPipeline})}}class Wl extends qe{_parse(e){const a=this._def.innerType._parse(e),r=o=>(ri(o)&&(o.value=Object.freeze(o.value)),o);return Vl(a)?a.then(o=>r(o)):r(a)}unwrap(){return this._def.innerType}}Wl.create=(t,e)=>new Wl({innerType:t,typeName:Oe.ZodReadonly,...Be(e)});function r_(t,e){const a=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof a=="string"?{message:a}:a}function lv(t,e={},a){return t?xo.create().superRefine((r,o)=>{const u=t(r);if(u instanceof Promise)return u.then(d=>{if(!d){const h=r_(e,r),p=h.fatal??a??!0;o.addIssue({code:"custom",...h,fatal:p})}});if(!u){const d=r_(e,r),h=d.fatal??a??!0;o.addIssue({code:"custom",...d,fatal:h})}}):xo.create()}const e8={object:Ot.lazycreate};var Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const t8=(t,e={message:`Input not instance of ${t.name}`})=>lv(a=>a instanceof t,e),Ea=Ma.create,cv=or.create,n8=Td.create,a8=lr.create,uv=Fl.create,s8=ii.create,r8=_d.create,i8=ql.create,XT=Hl.create,Cd=xo.create,o8=$r.create,l8=_s.create,c8=jd.create,WT=Oa.create,dv=Ot.create,u8=Ot.strictCreate,fv=$l.create,d8=of.create,f8=Ql.create,h8=Qa.create,eC=Gl.create,m8=Nd.create,p8=oi.create,g8=oo.create,v8=Yl.create,y8=Zl.create,tC=cr.create,b8=Jl.create,x8=wo.create,i_=Ra.create,w8=Ha.create,S8=ur.create,_8=Ra.createWithPreprocess,j8=cc.create,N8=()=>Ea().optional(),T8=()=>cv().optional(),C8=()=>uv().optional(),k8={string:(t=>Ma.create({...t,coerce:!0})),number:(t=>or.create({...t,coerce:!0})),boolean:(t=>Fl.create({...t,coerce:!0})),bigint:(t=>lr.create({...t,coerce:!0})),date:(t=>ii.create({...t,coerce:!0}))},E8=Ae,M8=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Wz,DIRTY:to,EMPTY_PATH:Az,INVALID:Ae,NEVER:E8,OK:kn,ParseStatus:bn,Schema:qe,ZodAny:xo,ZodArray:Oa,ZodBigInt:lr,ZodBoolean:Fl,ZodBranded:ov,ZodCatch:Xl,ZodDate:ii,ZodDefault:Kl,ZodDiscriminatedUnion:of,ZodEffects:Ra,ZodEnum:cr,ZodError:Ln,get ZodFirstPartyTypeKind(){return Oe},ZodFunction:oo,ZodIntersection:Ql,ZodIssueCode:oe,ZodLazy:Yl,ZodLiteral:Zl,ZodMap:Nd,ZodNaN:Td,ZodNativeEnum:Jl,ZodNever:_s,ZodNull:Hl,ZodNullable:ur,ZodNumber:or,ZodObject:Ot,ZodOptional:Ha,ZodParsedType:he,ZodPipeline:cc,ZodPromise:wo,ZodReadonly:Wl,ZodRecord:Gl,ZodSchema:qe,ZodSet:oi,ZodString:Ma,ZodSymbol:_d,ZodTransformer:Ra,ZodTuple:Qa,ZodType:qe,ZodUndefined:ql,ZodUnion:$l,ZodUnknown:$r,ZodVoid:jd,addIssueToContext:de,any:Cd,array:WT,bigint:a8,boolean:uv,coerce:k8,custom:lv,date:s8,datetimeRegex:JT,defaultErrorMap:bo,discriminatedUnion:d8,effect:i_,enum:tC,function:g8,getErrorMap:wd,getParsedType:vs,instanceof:t8,intersection:f8,isAborted:eg,isAsync:Vl,isDirty:tg,isValid:ri,late:e8,lazy:v8,literal:y8,makeIssue:Sd,map:m8,nan:n8,nativeEnum:b8,never:l8,null:XT,nullable:S8,number:cv,object:dv,get objectUtil(){return Wp},oboolean:C8,onumber:T8,optional:w8,ostring:N8,pipeline:j8,preprocess:_8,promise:x8,quotelessJson:Ez,record:eC,set:p8,setErrorMap:Mz,strictObject:u8,string:Ea,symbol:r8,transformer:i_,tuple:h8,undefined:i8,union:fv,unknown:o8,get util(){return et},void:c8},Symbol.toStringTag,{value:"Module"})),Mt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ft(t,e){return e.includes(t.columnType)}function A8(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const O8=fv([Ea(),cv(),uv(),XT()]),D8=fv([O8,eC(Cd()),WT(Cd())]),R8=lv(t=>t instanceof Buffer);function nC(t,e){const a=e?.zodInstance??M8,r=e?.coerce??{};let o;return A8(t)&&(o=t.enumValues.length?a.enum(t.enumValues):a.string()),o||(Ft(t,["PgGeometry","PgPointTuple"])?o=a.tuple([a.number(),a.number()]):Ft(t,["PgGeometryObject","PgPointObject"])?o=a.object({x:a.number(),y:a.number()}):Ft(t,["PgHalfVector","PgVector"])?(o=a.array(a.number()),o=t.dimensions?o.length(t.dimensions):o):Ft(t,["PgLine"])?o=a.tuple([a.number(),a.number(),a.number()]):Ft(t,["PgLineABC"])?o=a.object({a:a.number(),b:a.number(),c:a.number()}):Ft(t,["PgArray"])?(o=a.array(nC(t.baseColumn,a)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=a.array(a.any()):t.dataType==="number"?o=P8(t,a,r):t.dataType==="bigint"?o=L8(t,a,r):t.dataType==="boolean"?o=r===!0||r.boolean?a.coerce.boolean():a.boolean():t.dataType==="date"?o=r===!0||r.date?a.coerce.date():a.date():t.dataType==="string"?o=z8(t,a,r):t.dataType==="json"?o=D8:t.dataType==="custom"?o=a.any():t.dataType==="buffer"&&(o=R8)),o||(o=a.any()),o}function P8(t,e,a){let r=t.getSQLType().includes("unsigned"),o,u,d=!1;Ft(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=r?0:Mt.INT8_MIN,u=r?Mt.INT8_UNSIGNED_MAX:Mt.INT8_MAX,d=!0):Ft(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=r?0:Mt.INT16_MIN,u=r?Mt.INT16_UNSIGNED_MAX:Mt.INT16_MAX,d=!0):Ft(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=r?0:Mt.INT24_MIN,u=r?Mt.INT24_UNSIGNED_MAX:Mt.INT24_MAX,d=Ft(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ft(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=r?0:Mt.INT32_MIN,u=r?Mt.INT32_UNSIGNED_MAX:Mt.INT32_MAX,d=!0):Ft(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=r?0:Mt.INT48_MIN,u=r?Mt.INT48_UNSIGNED_MAX:Mt.INT48_MAX):Ft(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Ft(t,["MySqlSerial","SingleStoreSerial"]),o=r?0:Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,d=!0):Ft(t,["MySqlYear","SingleStoreYear"])?(o=1901,u=2155,d=!0):(o=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER);let h=a===!0||a?.number?e.coerce.number():e.number();return h=h.min(o).max(u),d?h.int():h}function L8(t,e,a){const r=t.getSQLType().includes("unsigned"),o=r?0n:Mt.INT64_MIN,u=r?Mt.INT64_UNSIGNED_MAX:Mt.INT64_MAX;return(a===!0||a?.bigint?e.coerce.bigint():e.bigint()).min(o).max(u)}function z8(t,e,a){if(Ft(t,["PgUUID"]))return e.string().uuid();let r,o,u=!1;Ft(t,["PgVarchar","SQLiteText"])?r=t.length:Ft(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Mt.INT16_UNSIGNED_MAX:Ft(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Mt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Mt.INT24_UNSIGNED_MAX:t.textType==="text"?r=Mt.INT16_UNSIGNED_MAX:r=Mt.INT8_UNSIGNED_MAX),Ft(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,u=!0),Ft(t,["PgBinaryVector"])&&(o=/^[01]+$/,r=t.dimensions);let d=a===!0||a?.string?e.coerce.string():e.string();return d=o?d.regex(o):d,r&&u?d.length(r):r?d.max(r):d}function aC(t){return BT(t)?EL(t):ML(t)}function sC(t,e,a,r){const o={};for(const[u,d]of Object.entries(t)){if(!mn(d,Bl)&&!mn(d,It)&&!mn(d,It.Aliased)&&typeof d=="object"){const _=BT(d)||kL(d)?aC(d):d;o[u]=sC(_,e[u]??{},a,r);continue}const h=e[u];if(h!==void 0&&typeof h!="function"){o[u]=h;continue}const p=mn(d,Bl)?d:void 0,v=p?nC(p,r):Cd(),y=typeof h=="function"?h(v):v;a.never(p)||(o[u]=y,p&&(a.nullable(p)&&(o[u]=o[u].nullable()),a.optional(p)&&(o[u]=o[u].optional())))}return dv(o)}const I8={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},wa=(t,e)=>{const a=aC(t);return sC(a,{},I8)},U8=na("users",{id:Ht("id").primaryKey().default(Qt`gen_random_uuid()`),username:Ce("username").notNull().unique(),password:Ce("password").notNull()}),Ya=na("cases",{id:ta("id").primaryKey(),title:Ce("title").notNull(),caseNumber:Ht("case_number",{length:100}).notNull().unique(),client:Ce("client").notNull(),status:Ce("status").notNull().default("active"),description:Ce("description"),nextDeadline:Tt("next_deadline"),representationType:Ht("representation_type",{length:20}).default("plaintiff"),opposingParty:Ce("opposing_party"),caseTheory:Ce("case_theory"),keyIssues:Ce("key_issues").array(),winningFactors:Ce("winning_factors"),trappingFactors:Ce("trapping_factors"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Tt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),B8=na("discovery_files",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),batesStart:Ht("bates_start",{length:50}).notNull(),batesEnd:Ht("bates_end",{length:50}).notNull(),fileName:Ce("file_name").notNull(),fileType:Ht("file_type",{length:50}).notNull(),filePath:Ce("file_path"),fileSize:Cn("file_size"),uploadDate:Tt("upload_date").default(Qt`CURRENT_TIMESTAMP`).notNull(),processedDate:Tt("processed_date"),relevance:Ht("relevance",{length:20}).default("medium"),tags:Ce("tags").array(),summary:Ce("summary"),extractedText:Ce("extracted_text"),extractedDates:Ss("extracted_dates"),metadata:Ss("metadata"),favorableFindings:Ce("favorable_findings").array(),adverseFindings:Ce("adverse_findings").array(),inconsistencies:Ce("inconsistencies").array(),actionItems:Ce("action_items").array(),sourceType:Ht("source_type",{length:20}).default("upload"),cloudFileId:Ce("cloud_file_id"),cloudProvider:Ht("cloud_provider",{length:20}),driveUrl:Ce("drive_url")}),V8=na("cloud_folders",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),provider:Ht("provider",{length:20}).notNull(),folderId:Ce("folder_id").notNull(),folderName:Ce("folder_name").notNull(),lastSynced:Tt("last_synced"),batesPrefix:Ht("bates_prefix",{length:20}).notNull(),nextBatesNumber:Cn("next_bates_number").default(1).notNull(),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),F8=na("timeline_events",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),eventDate:Tt("event_date").notNull(),title:Ce("title").notNull(),description:Ce("description"),eventType:Ht("event_type",{length:50}).notNull(),linkedBates:Ce("linked_bates").array(),metadata:Ss("metadata"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),q8=na("deposition_prep",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),depositionType:Ht("deposition_type",{length:50}).notNull(),targetWitness:Ce("target_witness"),questions:Ss("questions").notNull(),strategy:Ce("strategy"),linkedEvidence:Ce("linked_evidence").array(),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Tt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),rC=na("conversations",{id:ta("id").primaryKey(),caseId:Cn("case_id").references(()=>Ya.id,{onDelete:"cascade"}),title:Ce("title").notNull(),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),H8=na("messages",{id:ta("id").primaryKey(),conversationId:Cn("conversation_id").notNull().references(()=>rC.id,{onDelete:"cascade"}),role:Ce("role").notNull(),content:Ce("content").notNull(),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),$8=na("suggested_filings",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),filingType:Ce("filing_type").notNull(),title:Ce("title").notNull(),description:Ce("description"),deadline:Tt("deadline"),priority:Ht("priority",{length:20}).default("medium"),status:Ht("status",{length:20}).default("pending"),reasoning:Ce("reasoning"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});wa(U8).pick({username:!0,password:!0});wa(Ya).omit({id:!0,createdAt:!0,updatedAt:!0});const Q8=dv({title:Ea().min(1,"Title is required"),caseNumber:Ea().min(1,"Case number is required"),client:Ea().min(1,"Client name is required"),description:Ea().optional(),representationType:tC(["plaintiff","defendant","petitioner","respondent"]).optional(),opposingParty:Ea().optional(),caseTheory:Ea().optional(),winningFactors:Ea().optional(),trappingFactors:Ea().optional()});wa(B8).omit({id:!0,uploadDate:!0,processedDate:!0});wa(F8).omit({id:!0,createdAt:!0});wa(q8).omit({id:!0,createdAt:!0,updatedAt:!0});wa(rC).omit({id:!0,createdAt:!0});wa(H8).omit({id:!0,createdAt:!0});wa($8).omit({id:!0,createdAt:!0});wa(V8).omit({id:!0,createdAt:!0,lastSynced:!0});const G8=na("legal_briefs",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),title:Ce("title").notNull(),briefType:Ht("brief_type",{length:50}).notNull(),content:Ce("content").notNull(),summary:Ce("summary"),precedents:Ss("precedents"),keyArguments:Ss("key_arguments"),status:Ht("status",{length:20}).default("draft"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Tt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});wa(G8).omit({id:!0,createdAt:!0,updatedAt:!0});na("news_articles",{id:ta("id").primaryKey(),url:Ce("url").notNull().unique(),title:Ce("title").notNull(),summary:Ce("summary"),imageUrl:Ce("image_url"),publishedAt:Tt("published_at"),featured:$T("featured").default(!1),source:Ht("source",{length:100}).default("wtpnews"),fetchedAt:Tt("fetched_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});const Y8=na("call_recordings",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),roomName:Ce("room_name").notNull(),recordingId:Ce("recording_id"),recordingUrl:Ce("recording_url"),transcriptId:Ce("transcript_id"),transcriptUrl:Ce("transcript_url"),transcriptText:Ce("transcript_text"),duration:Cn("duration"),participants:Ss("participants"),status:Ht("status",{length:20}).default("recording"),startedAt:Tt("started_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),endedAt:Tt("ended_at"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});wa(Y8).omit({id:!0,createdAt:!0});const Z8=na("trial_prep_sessions",{id:ta("id").primaryKey(),caseId:Cn("case_id").notNull().references(()=>Ya.id,{onDelete:"cascade"}),sessionMode:Ht("session_mode",{length:50}).notNull(),transcript:Ss("transcript").notNull(),allTips:Ce("all_tips").array(),allWarnings:Ce("all_warnings").array(),allSuggestedResponses:Ce("all_suggested_responses").array(),notes:Ce("notes"),duration:Cn("duration"),createdAt:Tt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});wa(Z8).omit({id:!0,createdAt:!0});function J8(){const{toast:t}=ba(),e=Pa(),[a,r]=x.useState(""),[o,u]=x.useState("all"),[d,h]=x.useState(!1),[p,v]=x.useState({title:"",caseNumber:"",client:"",description:"",representationType:"plaintiff",opposingParty:"",caseTheory:"",winningFactors:"",trappingFactors:""}),{data:y=[],isLoading:_}=pn({queryKey:["cases"],queryFn:Eg}),T=Xn({mutationFn:uj,onSuccess:()=>{e.invalidateQueries({queryKey:["cases"]}),h(!1),v({title:"",caseNumber:"",client:"",description:"",representationType:"plaintiff",opposingParty:"",caseTheory:"",winningFactors:"",trappingFactors:""}),t({title:"Case created successfully"})},onError:()=>{t({title:"Failed to create case",variant:"destructive"})}}),A=Xn({mutationFn:dj,onSuccess:()=>{e.invalidateQueries({queryKey:["cases"]}),t({title:"Case deleted successfully"})},onError:()=>{t({title:"Failed to delete case",variant:"destructive"})}}),M=k=>{k.preventDefault();try{const D=Q8.parse(p);T.mutate(D)}catch(D){D instanceof Ln&&t({title:D.errors[0].message,variant:"destructive"})}},j=y.filter(k=>{const D=k.title.toLowerCase().includes(a.toLowerCase())||k.caseNumber.toLowerCase().includes(a.toLowerCase())||k.client.toLowerCase().includes(a.toLowerCase()),P=o==="all"||k.status===o;return D&&P}),C=k=>k?new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return l.jsx(xs,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"My Cases"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all your legal cases in one place"})]}),l.jsxs(Mg,{open:d,onOpenChange:h,children:[l.jsx(Ag,{asChild:!0,children:l.jsxs(me,{className:"gap-2","data-testid":"button-new-case",children:[l.jsx(Yr,{className:"w-4 h-4"}),"New Case"]})}),l.jsxs(Vd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Fd,{children:[l.jsx(qd,{children:"Create New Case"}),l.jsx(Hd,{children:"Enter case details. The more context you provide, the better AI can analyze evidence."})]}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"title",children:"Case Title *"}),l.jsx($t,{id:"title",placeholder:"e.g., Smith v. Jones",value:p.title,onChange:k=>v({...p,title:k.target.value}),"data-testid":"input-case-title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"caseNumber",children:"Case Number *"}),l.jsx($t,{id:"caseNumber",placeholder:"e.g., CV-2024-12345",value:p.caseNumber,onChange:k=>v({...p,caseNumber:k.target.value}),"data-testid":"input-case-number"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"client",children:"Our Client *"}),l.jsx($t,{id:"client",placeholder:"e.g., John Smith",value:p.client,onChange:k=>v({...p,client:k.target.value}),"data-testid":"input-client"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"representationType",children:"We Represent"}),l.jsxs(vo,{value:p.representationType,onValueChange:k=>v({...p,representationType:k}),children:[l.jsx(ai,{"data-testid":"select-representation-type",children:l.jsx(yo,{})}),l.jsxs(si,{children:[l.jsx(qt,{value:"plaintiff",children:"Plaintiff"}),l.jsx(qt,{value:"defendant",children:"Defendant"}),l.jsx(qt,{value:"petitioner",children:"Petitioner"}),l.jsx(qt,{value:"respondent",children:"Respondent"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"opposingParty",children:"Opposing Party"}),l.jsx($t,{id:"opposingParty",placeholder:"e.g., ABC Corporation",value:p.opposingParty,onChange:k=>v({...p,opposingParty:k.target.value}),"data-testid":"input-opposing-party"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"description",children:"Case Description"}),l.jsx(eo,{id:"description",placeholder:"Brief description of the case...",value:p.description,onChange:k=>v({...p,description:k.target.value}),"data-testid":"input-description"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"caseTheory",children:"Case Theory"}),l.jsx(eo,{id:"caseTheory",placeholder:"What are we trying to prove? What's our theory of the case?",value:p.caseTheory,onChange:k=>v({...p,caseTheory:k.target.value}),"data-testid":"input-case-theory",className:"min-h-[80px]"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"winningFactors",children:"Winning Evidence to Find"}),l.jsx(eo,{id:"winningFactors",placeholder:"What evidence would help win this case?",value:p.winningFactors,onChange:k=>v({...p,winningFactors:k.target.value}),"data-testid":"input-winning-factors",className:"min-h-[80px]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"trappingFactors",children:"Inconsistencies to Find"}),l.jsx(eo,{id:"trappingFactors",placeholder:"What inconsistencies should we look for in opposing side's story?",value:p.trappingFactors,onChange:k=>v({...p,trappingFactors:k.target.value}),"data-testid":"input-trapping-factors",className:"min-h-[80px]"})]})]}),l.jsxs(hj,{children:[l.jsx(me,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(me,{type:"submit",disabled:T.isPending,"data-testid":"button-create-case",children:T.isPending?l.jsxs(l.Fragment,{children:[l.jsx(rn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Case"})]})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx($t,{placeholder:"Search cases by title, number, or client...",className:"pl-10",value:a,onChange:k=>r(k.target.value),"data-testid":"input-search-cases"})]}),l.jsxs(vo,{value:o,onValueChange:u,children:[l.jsxs(ai,{className:"w-full sm:w-40","data-testid":"select-status-filter",children:[l.jsx(E1,{className:"w-4 h-4 mr-2"}),l.jsx(yo,{placeholder:"Filter"})]}),l.jsxs(si,{children:[l.jsx(qt,{value:"all",children:"All Cases"}),l.jsx(qt,{value:"active",children:"Active"}),l.jsx(qt,{value:"closed",children:"Closed"}),l.jsx(qt,{value:"pending",children:"Pending"})]})]})]}),_?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(rn,{className:"w-8 h-8 animate-spin text-primary"})}):j.length===0?l.jsx(We,{className:"border-dashed",children:l.jsxs(ut,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(N1,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:a||o!=="all"?"No cases found":"No cases yet"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-4",children:a||o!=="all"?"Try adjusting your search or filter criteria":"Create your first case to start managing your legal matters"}),!a&&o==="all"&&l.jsxs(me,{onClick:()=>h(!0),"data-testid":"button-create-first-case",children:[l.jsx(Yr,{className:"w-4 h-4 mr-2"}),"Create Your First Case"]})]})}):l.jsx("div",{className:"grid gap-4",children:j.map(k=>l.jsx(We,{className:"hover:shadow-md transition-shadow","data-testid":`card-case-${k.id}`,children:l.jsx(ut,{className:"p-4 md:p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Kt,{variant:"outline",className:"font-mono text-xs",children:k.caseNumber}),l.jsx(Kt,{className:k.status==="active"?"bg-green-600":"bg-slate-500",children:k.status})]}),l.jsx(Pl,{href:`/case/${k.id}`,children:l.jsx("h3",{className:"text-lg font-semibold text-primary hover:underline cursor-pointer truncate","data-testid":`link-case-${k.id}`,children:k.title})}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Client: ",k.client]}),k.description&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:k.description})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"hidden md:flex flex-col items-end text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(ga,{className:"w-4 h-4"}),l.jsxs("span",{children:[k.filesCount||0," files"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[l.jsx(wg,{className:"w-4 h-4"}),l.jsx("span",{children:C(k.lastActivity)})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pl,{href:`/case/${k.id}`,children:l.jsx(me,{variant:"outline",size:"sm","data-testid":`button-open-case-${k.id}`,children:"Open Case"})}),l.jsxs(wP,{children:[l.jsx(SP,{asChild:!0,children:l.jsx(me,{variant:"ghost",size:"icon","data-testid":`button-case-menu-${k.id}`,children:l.jsx(C1,{className:"w-4 h-4"})})}),l.jsx(YN,{align:"end",children:l.jsxs(Gj,{children:[l.jsx(Yj,{asChild:!0,children:l.jsxs(ZN,{className:"text-destructive",onSelect:D=>D.preventDefault(),children:[l.jsx(nc,{className:"w-4 h-4 mr-2"}),"Delete Case"]})}),l.jsxs(Lg,{children:[l.jsxs(zg,{children:[l.jsx(Ug,{children:"Delete Case"}),l.jsxs(Bg,{children:['Are you sure you want to delete "',k.title,'"? This action cannot be undone.']})]}),l.jsxs(Ig,{children:[l.jsx(Fg,{children:"Cancel"}),l.jsx(Vg,{onClick:()=>A.mutate(k.id.toString()),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})})]})]})]})]})})},k.id))}),l.jsxs("div",{className:"text-sm text-muted-foreground text-center pt-4",children:["Showing ",j.length," of ",y.length," cases"]})]})})}function K8(){const[t,e]=x.useState(new Date),{data:a=[]}=pn({queryKey:["cases"],queryFn:Eg}),r=a.filter(C=>C.nextDeadline),o=C=>new Date(C.getFullYear(),C.getMonth()+1,0).getDate(),u=C=>new Date(C.getFullYear(),C.getMonth(),1).getDay(),d=C=>C.toLocaleDateString("en-US",{month:"long",year:"numeric"}),h=()=>{e(new Date(t.getFullYear(),t.getMonth()-1,1))},p=()=>{e(new Date(t.getFullYear(),t.getMonth()+1,1))},v=o(t),y=u(t),_=new Date,T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=r.filter(C=>new Date(C.nextDeadline)>new Date).sort((C,k)=>new Date(C.nextDeadline).getTime()-new Date(k.nextDeadline).getTime()).slice(0,5),M=C=>new Date(C).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),j=C=>{const k=new Date;k.setHours(0,0,0,0);const D=new Date(C);D.setHours(0,0,0,0);const P=Math.ceil((D.getTime()-k.getTime())/(1e3*60*60*24));return P===0?"Today":P===1?"Tomorrow":`${P} days`};return l.jsx(xs,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Calendar"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Track deadlines and important dates for your cases"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(We,{children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(zt,{className:"text-lg font-medium",children:d(t)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(me,{variant:"outline",size:"icon",onClick:h,"data-testid":"button-prev-month",children:l.jsx(GM,{className:"w-4 h-4"})}),l.jsx(me,{variant:"outline",size:"sm",onClick:()=>e(new Date),"data-testid":"button-today",children:"Today"}),l.jsx(me,{variant:"outline",size:"icon",onClick:p,"data-testid":"button-next-month",children:l.jsx(sr,{className:"w-4 h-4"})})]})]}),l.jsx(ut,{children:l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[T.map(C=>l.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:C},C)),Array.from({length:y}).map((C,k)=>l.jsx("div",{className:"aspect-square"},`empty-${k}`)),Array.from({length:v}).map((C,k)=>{const D=k+1,P=D===_.getDate()&&t.getMonth()===_.getMonth()&&t.getFullYear()===_.getFullYear(),Q=new Date(t.getFullYear(),t.getMonth(),D).toDateString(),F=r.some(H=>new Date(H.nextDeadline).toDateString()===Q);return l.jsxs("div",{className:`
                          aspect-square flex flex-col items-center justify-center rounded-lg text-sm
                          ${P?"bg-primary text-primary-foreground font-bold":"hover:bg-muted"}
                          ${F&&!P?"bg-accent/20":""}
                        `,"data-testid":`calendar-day-${D}`,children:[l.jsx("span",{children:D}),F&&l.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-0.5 ${P?"bg-primary-foreground":"bg-accent"}`})]},D)})]})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Sg,{className:"w-5 h-5 text-orange-500"}),"Upcoming Deadlines"]}),l.jsx(gn,{children:"Next 5 deadlines across all cases"})]}),l.jsx(ut,{className:"space-y-4",children:A.length===0?l.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[l.jsx(wg,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No upcoming deadlines"})]}):A.map(C=>l.jsx(Pl,{href:`/case/${C.id}`,children:l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":`deadline-case-${C.id}`,children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(_g,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:C.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:M(C.nextDeadline)})]}),l.jsx(Kt,{variant:j(C.nextDeadline)==="Today"?"destructive":"secondary",className:"flex-shrink-0",children:j(C.nextDeadline)})]})},C.id))})]}),l.jsxs(We,{children:[l.jsx(Dt,{children:l.jsxs(zt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Ld,{className:"w-5 h-5 text-primary"}),"Quick Stats"]})}),l.jsxs(ut,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Active Cases"}),l.jsx("span",{className:"font-semibold",children:a.filter(C=>C.status==="active").length})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Cases with Deadlines"}),l.jsx("span",{className:"font-semibold",children:r.length})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Documents"}),l.jsx("span",{className:"font-semibold",children:a.reduce((C,k)=>C+(k.filesCount||0),0)})]})]})]})]})]})]})})}async function X8(){const t=await fetch("/api/news/latest");if(!t.ok)throw new Error("Failed to fetch news");return t.json()}function W8(){const[t,e]=x.useState(""),{data:a=[],isLoading:r}=pn({queryKey:["legal-news"],queryFn:X8}),o=[{name:"Westlaw",description:"Comprehensive legal research database",icon:Ju,url:"https://www.westlaw.com"},{name:"LexisNexis",description:"Legal, news, and business information",icon:ga,url:"https://www.lexisnexis.com"},{name:"Google Scholar",description:"Free case law and legal articles",icon:Zr,url:"https://scholar.google.com"},{name:"PACER",description:"Federal court records",icon:O1,url:"https://pacer.uscourts.gov"},{name:"Cornell LII",description:"Free legal information institute",icon:Ju,url:"https://www.law.cornell.edu"},{name:"Justia",description:"Free case law and legal information",icon:ga,url:"https://www.justia.com"}],u=["Summary judgment standards","Breach of contract elements","Discovery motion practice","Expert witness qualifications","Attorney-client privilege"],d=h=>{h.preventDefault(),t.trim()&&window.open(`https://scholar.google.com/scholar?q=${encodeURIComponent(t)}`,"_blank")};return l.jsx(xs,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Legal Research"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Access legal databases, case law, and stay updated with legal news"})]}),l.jsx(We,{children:l.jsxs(ut,{className:"pt-6",children:[l.jsxs("form",{onSubmit:d,className:"flex gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),l.jsx($t,{placeholder:"Search case law, statutes, or legal topics...",className:"pl-11 h-12 text-lg",value:t,onChange:h=>e(h.target.value),"data-testid":"input-legal-search"})]}),l.jsx(me,{type:"submit",size:"lg",className:"px-8","data-testid":"button-search",children:"Search"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Recent:"}),u.map(h=>l.jsx(Kt,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/80",onClick:()=>e(h),children:h},h))]})]})}),l.jsxs($d,{defaultValue:"databases",className:"space-y-4",children:[l.jsxs(sc,{children:[l.jsxs(jn,{value:"databases",className:"gap-2",children:[l.jsx(Ju,{className:"w-4 h-4"}),"Databases"]}),l.jsxs(jn,{value:"news",className:"gap-2",children:[l.jsx(mp,{className:"w-4 h-4"}),"Legal News"]})]}),l.jsx(Nn,{value:"databases",className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(h=>l.jsx(We,{className:"hover:shadow-md transition-shadow cursor-pointer","data-testid":`card-database-${h.name.toLowerCase().replace(/\s/g,"-")}`,children:l.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:l.jsx(ut,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(h.icon,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold",children:h.name}),l.jsx(ar,{className:"w-4 h-4 text-muted-foreground"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description})]})]})})})},h.name))})}),l.jsx(Nn,{value:"news",className:"space-y-4",children:r?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(rn,{className:"w-8 h-8 animate-spin text-primary"})}):a.length===0?l.jsx(We,{className:"border-dashed",children:l.jsxs(ut,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(mp,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No news articles available"})]})}):l.jsx("div",{className:"grid gap-4",children:a.map(h=>l.jsx(We,{className:"hover:shadow-md transition-shadow","data-testid":`card-news-${h.id}`,children:l.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:l.jsx(ut,{className:"pt-6",children:l.jsx("div",{className:"flex items-start gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Kt,{variant:"outline",children:h.source}),h.featured&&l.jsx(Kt,{className:"bg-accent",children:"Featured"})]}),l.jsx("h3",{className:"font-semibold hover:text-primary transition-colors",children:h.title}),h.summary&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:h.summary}),l.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_g,{className:"w-3 h-3"}),new Date(h.publishedAt).toLocaleDateString()]}),l.jsx(ar,{className:"w-3 h-3"})]})]})})})})},h.id))})})]})]})})}var lf="Switch",[eI]=So(lf),[tI,nI]=eI(lf),iC=x.forwardRef((t,e)=>{const{__scopeSwitch:a,name:r,checked:o,defaultChecked:u,required:d,disabled:h,value:p="on",onCheckedChange:v,form:y,..._}=t,[T,A]=x.useState(null),M=kt(e,P=>A(P)),j=x.useRef(!1),C=T?y||!!T.closest("form"):!0,[k,D]=Rl({prop:o,defaultProp:u??!1,onChange:v,caller:lf});return l.jsxs(tI,{scope:a,checked:k,disabled:h,children:[l.jsx(vt.button,{type:"button",role:"switch","aria-checked":k,"aria-required":d,"data-state":uC(k),"data-disabled":h?"":void 0,disabled:h,value:p,..._,ref:M,onClick:Ue(t.onClick,P=>{D(Q=>!Q),C&&(j.current=P.isPropagationStopped(),j.current||P.stopPropagation())})}),C&&l.jsx(cC,{control:T,bubbles:!j.current,name:r,value:p,checked:k,required:d,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});iC.displayName=lf;var oC="SwitchThumb",lC=x.forwardRef((t,e)=>{const{__scopeSwitch:a,...r}=t,o=nI(oC,a);return l.jsx(vt.span,{"data-state":uC(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});lC.displayName=oC;var aI="SwitchBubbleInput",cC=x.forwardRef(({__scopeSwitch:t,control:e,checked:a,bubbles:r=!0,...o},u)=>{const d=x.useRef(null),h=kt(d,u),p=JN(a),v=Qk(e);return x.useEffect(()=>{const y=d.current;if(!y)return;const _=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(_,"checked").set;if(p!==a&&A){const M=new Event("click",{bubbles:r});A.call(y,a),y.dispatchEvent(M)}},[p,a,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:h,style:{...o.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cC.displayName=aI;function uC(t){return t?"checked":"unchecked"}var dC=iC,sI=lC;const Lr=x.forwardRef(({className:t,...e},a)=>l.jsx(dC,{className:_e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:a,children:l.jsx(sI,{className:_e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Lr.displayName=dC.displayName;var rI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iI=rI.reduce((t,e)=>{const a=Bd(`Primitive.${e}`),r=x.forwardRef((o,u)=>{const{asChild:d,...h}=o,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),oI="Separator",o_="horizontal",lI=["horizontal","vertical"],fC=x.forwardRef((t,e)=>{const{decorative:a,orientation:r=o_,...o}=t,u=cI(r)?r:o_,h=a?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return l.jsx(iI.div,{"data-orientation":u,...h,...o,ref:e})});fC.displayName=oI;function cI(t){return lI.includes(t)}var hC=fC;const Xi=x.forwardRef(({className:t,orientation:e="horizontal",decorative:a=!0,...r},o)=>l.jsx(hC,{ref:o,decorative:a,orientation:e,className:_e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Xi.displayName=hC.displayName;const ag={profile:{firstName:"",lastName:"",email:"",firm:"",barNumber:""},notifications:{deadlineReminders:!0,documentUpdates:!0,aiComplete:!0,collabUpdates:!1,reminderTiming:"3days"},appearance:{theme:"system",compactMode:!1,animations:!0}},mC="casebuddy_settings";function uI(){try{const t=localStorage.getItem(mC);if(t)return{...ag,...JSON.parse(t)}}catch(t){console.error("Failed to load settings:",t)}return ag}function dI(t){try{localStorage.setItem(mC,JSON.stringify(t))}catch(e){console.error("Failed to save settings:",e)}}function fI(){const{toast:t}=ba(),[e,a]=x.useState(!1),[r,o]=x.useState(ag);x.useEffect(()=>{o(uI())},[]);const u=(v,y)=>{o(_=>({..._,profile:{..._.profile,[v]:y}}))},d=(v,y)=>{o(_=>({..._,notifications:{..._.notifications,[v]:y}}))},h=(v,y)=>{o(_=>({..._,appearance:{..._.appearance,[v]:y}}))},p=()=>{dI(r),a(!0),t({title:"Settings saved successfully"}),setTimeout(()=>a(!1),2e3)};return l.jsx(xs,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Settings"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and application preferences"})]}),l.jsxs($d,{defaultValue:"profile",className:"space-y-6",children:[l.jsxs(sc,{className:"grid w-full md:w-auto md:inline-grid grid-cols-2 md:grid-cols-4 gap-1",children:[l.jsxs(jn,{value:"profile",className:"gap-2",children:[l.jsx(D1,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),l.jsxs(jn,{value:"notifications",className:"gap-2",children:[l.jsx(j1,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]}),l.jsxs(jn,{value:"appearance",className:"gap-2",children:[l.jsx(JA,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Appearance"})]}),l.jsxs(jn,{value:"integrations",className:"gap-2",children:[l.jsx(qa,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Integrations"})]})]}),l.jsxs(Nn,{value:"profile",className:"space-y-6",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsx(zt,{children:"Profile Information"}),l.jsx(gn,{children:"Update your personal information and contact details"})]}),l.jsxs(ut,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"firstName",children:"First Name"}),l.jsx($t,{id:"firstName",placeholder:"John",value:r.profile.firstName,onChange:v=>u("firstName",v.target.value),"data-testid":"input-first-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"lastName",children:"Last Name"}),l.jsx($t,{id:"lastName",placeholder:"Doe",value:r.profile.lastName,onChange:v=>u("lastName",v.target.value),"data-testid":"input-last-name"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"email",children:"Email"}),l.jsx($t,{id:"email",type:"email",placeholder:"john.doe@lawfirm.com",value:r.profile.email,onChange:v=>u("email",v.target.value),"data-testid":"input-email"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"firm",children:"Law Firm / Organization"}),l.jsx($t,{id:"firm",placeholder:"Smith & Associates LLP",value:r.profile.firm,onChange:v=>u("firm",v.target.value),"data-testid":"input-firm"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{htmlFor:"barNumber",children:"Bar Number"}),l.jsx($t,{id:"barNumber",placeholder:"123456",value:r.profile.barNumber,onChange:v=>u("barNumber",v.target.value),"data-testid":"input-bar-number"})]})]})]}),l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(gO,{className:"w-5 h-5"}),"Security"]}),l.jsx(gn,{children:"Password changes require user authentication (coming soon)"})]}),l.jsx(ut,{className:"space-y-4",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"User authentication is not yet implemented. Password and security settings will be available once authentication is added."})})]})]}),l.jsxs(Nn,{value:"notifications",className:"space-y-6",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsx(zt,{children:"Email Notifications"}),l.jsx(gn,{children:"Choose what notifications you want to receive"})]}),l.jsxs(ut,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"Deadline Reminders"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified before important deadlines"})]}),l.jsx(Lr,{checked:r.notifications.deadlineReminders,onCheckedChange:v=>d("deadlineReminders",v),"data-testid":"switch-deadline-reminders"})]}),l.jsx(Xi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"Document Updates"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when documents are processed"})]}),l.jsx(Lr,{checked:r.notifications.documentUpdates,onCheckedChange:v=>d("documentUpdates",v),"data-testid":"switch-document-updates"})]}),l.jsx(Xi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"AI Analysis Complete"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when AI analysis is done"})]}),l.jsx(Lr,{checked:r.notifications.aiComplete,onCheckedChange:v=>d("aiComplete",v),"data-testid":"switch-ai-complete"})]}),l.jsx(Xi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"Collaboration Updates"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"When team members make changes to cases"})]}),l.jsx(Lr,{checked:r.notifications.collabUpdates,onCheckedChange:v=>d("collabUpdates",v),"data-testid":"switch-collab-updates"})]})]})]}),l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsx(zt,{children:"Reminder Timing"}),l.jsx(gn,{children:"When to send deadline reminders"})]}),l.jsx(ut,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{children:"Send reminders"}),l.jsxs(vo,{value:r.notifications.reminderTiming,onValueChange:v=>d("reminderTiming",v),children:[l.jsx(ai,{"data-testid":"select-reminder-timing",children:l.jsx(yo,{})}),l.jsxs(si,{children:[l.jsx(qt,{value:"1day",children:"1 day before"}),l.jsx(qt,{value:"3days",children:"3 days before"}),l.jsx(qt,{value:"1week",children:"1 week before"}),l.jsx(qt,{value:"2weeks",children:"2 weeks before"})]})]})]})})]})]}),l.jsx(Nn,{value:"appearance",className:"space-y-6",children:l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsx(zt,{children:"Theme"}),l.jsx(gn,{children:"Customize the appearance of the application"})]}),l.jsxs(ut,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(At,{children:"Color Theme"}),l.jsxs(vo,{value:r.appearance.theme,onValueChange:v=>h("theme",v),children:[l.jsx(ai,{"data-testid":"select-theme",children:l.jsx(yo,{})}),l.jsxs(si,{children:[l.jsx(qt,{value:"light",children:"Light"}),l.jsx(qt,{value:"dark",children:"Dark"}),l.jsx(qt,{value:"system",children:"System"})]})]})]}),l.jsx(Xi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"Compact Mode"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce spacing for more content on screen"})]}),l.jsx(Lr,{checked:r.appearance.compactMode,onCheckedChange:v=>h("compactMode",v),"data-testid":"switch-compact-mode"})]}),l.jsx(Xi,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(At,{children:"Show Animations"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable interface animations and transitions"})]}),l.jsx(Lr,{checked:r.appearance.animations,onCheckedChange:v=>h("animations",v),"data-testid":"switch-animations"})]})]})]})}),l.jsxs(Nn,{value:"integrations",className:"space-y-6",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(qa,{className:"w-5 h-5"}),"Google Drive"]}),l.jsx(gn,{children:"Connect your Google Drive for document syncing"})]}),l.jsx(ut,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:l.jsx(qa,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Google Drive"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync documents from your Drive folders"})]})]}),l.jsx(me,{variant:"outline","data-testid":"button-connect-drive",children:"Connect"})]})})]}),l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(kA,{className:"w-5 h-5"}),"Configured Services"]}),l.jsx(gn,{children:"Status of integrated services"})]}),l.jsxs(ut,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-800",children:"Daily.co Video"}),l.jsx("p",{className:"text-sm text-green-600",children:"Video conferencing is configured"})]}),l.jsx(Ur,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-800",children:"Google Gemini AI"}),l.jsx("p",{className:"text-sm text-green-600",children:"AI features are configured"})]}),l.jsx(Ur,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-800",children:"PostgreSQL Database"}),l.jsx("p",{className:"text-sm text-green-600",children:"Database is connected"})]}),l.jsx(Ur,{className:"w-5 h-5 text-green-600"})]})]})]}),l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(dA,{className:"w-5 h-5"}),"Data Management"]}),l.jsx(gn,{children:"Export or manage your data"})]}),l.jsx(ut,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Export All Data"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Download all your cases and documents"})]}),l.jsx(me,{variant:"outline","data-testid":"button-export-all",children:"Export"})]})})]})]})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsx(me,{onClick:p,className:"gap-2","data-testid":"button-save-settings",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Ur,{className:"w-4 h-4"}),"Saved"]}):l.jsxs(l.Fragment,{children:[l.jsx(pp,{className:"w-4 h-4"}),"Save Changes"]})})})]})})}function hI(){const{toast:t}=ba(),e=Pa(),[a,r]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState(!1),[p,v]=x.useState(!0),[y,_]=x.useState("cross-examination"),[T,A]=x.useState(!1),[M,j]=x.useState([]),[C,k]=x.useState(""),[D,P]=x.useState(!1),[Q,F]=x.useState(""),[H,Y]=x.useState(!0),[J,ce]=x.useState(""),[pe,Ne]=x.useState(null),[Pe,st]=x.useState([]),[ge,De]=x.useState([]),[I,ne]=x.useState([]),[X,Ee]=x.useState("simulation"),Se=x.useRef(null),tt=x.useRef(null),le=x.useRef(null),{data:g=[]}=pn({queryKey:["/api/cases"]}),{data:S=[]}=pn({queryKey:[`/api/cases/${a}/trial-prep-sessions`],enabled:!!a}),w=Xn({mutationFn:async te=>R0("POST",`/api/cases/${a}/trial-prep-sessions`,te),onSuccess:()=>{e.invalidateQueries({queryKey:[`/api/cases/${a}/trial-prep-sessions`]}),t({title:"Session Saved",description:"Your practice session has been saved."})}}),O=Xn({mutationFn:async te=>R0("DELETE",`/api/trial-prep-sessions/${te}`),onSuccess:()=>{e.invalidateQueries({queryKey:[`/api/cases/${a}/trial-prep-sessions`]}),t({title:"Session Deleted"})}}),E=g.find(te=>te.id===a);x.useEffect(()=>{le.current?.scrollIntoView({behavior:"smooth"})},[M]),x.useEffect(()=>{const te=typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window);if(Y(te),!te)return()=>{};const se=window.webkitSpeechRecognition||window.SpeechRecognition;return Se.current=new se,Se.current.continuous=!0,Se.current.interimResults=!0,Se.current.lang="en-US",Se.current.onresult=$e=>{let Le="",yt="";for(let ht=$e.resultIndex;ht<$e.results.length;ht++){const zn=$e.results[ht][0].transcript;$e.results[ht].isFinal?Le+=zn:yt+=zn}k(yt),Le&&(Z(Le),k(""))},Se.current.onerror=$e=>{console.error("Speech recognition error:",$e.error),$e.error!=="no-speech"&&t({title:"Voice Recognition Error",description:"There was an issue with voice recognition. Please try again.",variant:"destructive"})},Se.current.onend=()=>{if(o&&T)try{Se.current.start()}catch{console.log("Recognition already started")}},()=>{Se.current&&Se.current.stop(),window.speechSynthesis&&window.speechSynthesis.cancel()}},[o,T]);const U=x.useCallback(te=>{if(!p||!window.speechSynthesis)return;window.speechSynthesis.cancel();const se=new SpeechSynthesisUtterance(te);se.rate=.9,se.pitch=1;const Le=window.speechSynthesis.getVoices().find(yt=>yt.lang.startsWith("en-")&&yt.name.includes("Google"));Le&&(se.voice=Le),se.onstart=()=>h(!0),se.onend=()=>h(!1),se.onerror=()=>h(!1),tt.current=se,window.speechSynthesis.speak(se)},[p]),Z=async te=>{if(!E||!T)return;const se={id:`user-${Date.now()}`,role:"user",content:te,timestamp:new Date};j($e=>[...$e,se]),P(!0);try{const $e=await fetch("/api/trial-simulation/respond",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:E.id,mode:y,userStatement:te,conversationHistory:M.slice(-10)})});if(!$e.ok)throw new Error("Failed to get response");const Le=await $e.json();Le.suggestedResponses&&ne(ht=>[...new Set([...ht,...Le.suggestedResponses])]),Le.warnings&&De(ht=>[...new Set([...ht,...Le.warnings])]),Le.tips&&st(ht=>[...new Set([...ht,...Le.tips])]);const yt={id:`opponent-${Date.now()}`,role:"opponent",content:Le.opponentResponse,timestamp:new Date,coaching:{suggestedResponses:Le.suggestedResponses||[],warnings:Le.warnings||[],tips:Le.tips||[]}};j(ht=>[...ht,yt]),U(Le.opponentResponse)}catch($e){console.error("Simulation error:",$e),t({title:"Simulation Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{P(!1)}},G=async()=>{if(!E){t({title:"Select a Case",description:"Please select a case to begin the trial simulation.",variant:"destructive"});return}A(!0),j([]),st([]),De([]),ne([]),Ne(new Date);try{const te=await fetch("/api/trial-simulation/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:E.id,mode:y})});if(!te.ok)throw new Error("Failed to start simulation");const se=await te.json();se.suggestedResponses&&ne(se.suggestedResponses),se.warnings&&De(se.warnings),se.tips&&st(se.tips);const $e={id:`system-${Date.now()}`,role:"system",content:se.introduction,timestamp:new Date},Le={id:`opponent-${Date.now()+1}`,role:"opponent",content:se.openingStatement,timestamp:new Date,coaching:{suggestedResponses:se.suggestedResponses||[],warnings:se.warnings||[],tips:se.tips||[]}};j([$e,Le]),U(se.openingStatement),t({title:"Simulation Started",description:`${y.replace("-"," ")} simulation is now active. Click the microphone to speak!`})}catch(te){console.error("Failed to start simulation:",te),t({title:"Failed to Start",description:"Could not initialize the trial simulation.",variant:"destructive"}),A(!1)}},ie=()=>{A(!1),u(!1),Se.current&&Se.current.stop(),window.speechSynthesis&&window.speechSynthesis.cancel()},ue=async()=>{if(!E||M.length===0)return;const te=pe?Math.floor((new Date().getTime()-pe.getTime())/1e3):null;await w.mutateAsync({sessionMode:y,transcript:M,allTips:Pe,allWarnings:ge,allSuggestedResponses:I,notes:J,duration:te})},Me=te=>{const se=te||{caseTitle:E?.title,caseNumber:E?.caseNumber,sessionMode:y,transcript:M.map(ht=>({role:ht.role,content:ht.content,timestamp:ht.timestamp})),allTips:Pe,allWarnings:ge,allSuggestedResponses:I,notes:J,exportedAt:new Date().toISOString()},$e=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),Le=URL.createObjectURL($e),yt=document.createElement("a");yt.href=Le,yt.download=`trial-prep-${E?.caseNumber||"session"}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),URL.revokeObjectURL(Le)},ct=()=>{if(!Se.current){t({title:"Voice Not Supported",description:"Your browser doesn't support voice recognition. Please use Chrome or type your responses.",variant:"destructive"});return}if(o)Se.current.stop(),u(!1);else try{Se.current.start(),u(!0),t({title:"Listening...",description:"Speak now. Your voice is being recorded."})}catch(te){console.log("Recognition error:",te)}},Xt=()=>{ie(),j([]),k(""),st([]),De([]),ne([]),ce("")},Et=M.filter(te=>te.coaching).slice(-1)[0]?.coaching;return l.jsx(xs,{children:l.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-serif font-bold flex items-center gap-3",children:[l.jsx(Ld,{className:"w-8 h-8 text-primary"}),"Trial Preparation & Simulation"]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Practice your case with AI-powered voice simulation and real-time coaching"})]}),l.jsx("div",{className:"flex gap-2",children:T&&M.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs(me,{variant:"outline",onClick:ue,disabled:w.isPending,children:[l.jsx(pp,{className:"w-4 h-4 mr-2"}),"Save Session"]}),l.jsxs(me,{variant:"outline",onClick:()=>Me(),children:[l.jsx(fp,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[l.jsxs(vo,{value:a?.toString()||"",onValueChange:te=>r(parseInt(te)),children:[l.jsx(ai,{className:"w-full md:w-[300px]","data-testid":"select-case",children:l.jsx(yo,{placeholder:"Select a case to practice"})}),l.jsx(si,{children:g.map(te=>l.jsxs(qt,{value:te.id.toString(),children:[te.title," (",te.caseNumber,")"]},te.id))})]}),l.jsxs(vo,{value:y,onValueChange:te=>_(te),children:[l.jsx(ai,{className:"w-full md:w-[200px]","data-testid":"select-mode",children:l.jsx(yo,{})}),l.jsxs(si,{children:[l.jsx(qt,{value:"cross-examination",children:"Cross-Examination"}),l.jsx(qt,{value:"direct-examination",children:"Direct Examination"}),l.jsx(qt,{value:"opening",children:"Opening Statement"}),l.jsx(qt,{value:"closing",children:"Closing Argument"})]})]})]}),l.jsxs($d,{value:X,onValueChange:Ee,className:"w-full",children:[l.jsxs(sc,{className:"grid w-full grid-cols-3",children:[l.jsxs(jn,{value:"simulation",className:"flex items-center gap-2",children:[l.jsx(Br,{className:"w-4 h-4"}),"Simulation"]}),l.jsxs(jn,{value:"tips",className:"flex items-center gap-2",children:[l.jsx(Mu,{className:"w-4 h-4"}),"Tips & Angles"]}),l.jsxs(jn,{value:"notes",className:"flex items-center gap-2",children:[l.jsx(ga,{className:"w-4 h-4"}),"Notes"]})]}),l.jsx(Nn,{value:"simulation",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:l.jsxs(We,{children:[l.jsx(Dt,{className:"pb-2",children:E&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Kt,{variant:"outline",children:E.representationType||"Plaintiff"}),l.jsx("span",{className:"text-muted-foreground",children:"representing"}),l.jsx("span",{className:"font-medium",children:E.client})]}),E.opposingParty&&l.jsxs("p",{className:"text-muted-foreground",children:["vs. ",E.opposingParty]})]})}),l.jsx(ut,{children:l.jsxs("div",{className:"bg-slate-900 rounded-lg min-h-[400px] flex flex-col",children:[l.jsx(Jr,{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-4",children:[M.length===0&&!T&&l.jsxs("div",{className:"text-center py-16 text-slate-400",children:[l.jsx(Br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg mb-2",children:"Ready to Practice?"}),l.jsx("p",{className:"text-sm mb-4",children:"Select a case and simulation mode, then click Start Simulation"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Use your voice to speak your arguments - the AI will respond and coach you!"})]}),M.map(te=>l.jsxs("div",{className:`flex gap-3 ${te.role==="user"?"flex-row-reverse":""}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${te.role==="user"?"bg-primary text-primary-foreground":te.role==="opponent"?"bg-red-600 text-white":te.role==="coach"?"bg-amber-500 text-white":"bg-slate-600 text-white"}`,children:te.role==="user"?l.jsx(D1,{className:"w-4 h-4"}):te.role==="opponent"?l.jsx(ad,{className:"w-4 h-4"}):te.role==="coach"?l.jsx(Mu,{className:"w-4 h-4"}):l.jsx(hp,{className:"w-4 h-4"})}),l.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${te.role==="user"?"bg-primary text-primary-foreground":te.role==="opponent"?"bg-slate-800 text-white border border-red-600/30":te.role==="coach"?"bg-amber-500/20 text-amber-100 border border-amber-500/30":"bg-slate-700 text-slate-200"}`,children:[l.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:te.role==="user"?"You (Speaking)":te.role==="opponent"?"Opposing Counsel":te.role==="coach"?"Coach":"System"}),l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:te.content})]})]},te.id)),C&&l.jsxs("div",{className:"flex gap-3 flex-row-reverse",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/50 flex items-center justify-center shrink-0",children:l.jsx(Br,{className:"w-4 h-4 text-white animate-pulse"})}),l.jsxs("div",{className:"max-w-[80%] rounded-lg p-3 bg-primary/30 text-white border border-primary/50",children:[l.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:"Listening..."}),l.jsx("p",{className:"text-sm italic",children:C})]})]}),D&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600/50 flex items-center justify-center shrink-0",children:l.jsx(rn,{className:"w-4 h-4 text-white animate-spin"})}),l.jsx("div",{className:"rounded-lg p-3 bg-slate-800 text-slate-300",children:l.jsx("p",{className:"text-sm",children:"Opposing counsel is responding..."})})]}),l.jsx("div",{ref:le})]})}),l.jsxs("div",{className:"p-4 border-t border-slate-700",children:[l.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:T?l.jsxs(l.Fragment,{children:[l.jsx(me,{size:"icon",variant:o?"default":"outline",className:`h-16 w-16 rounded-full transition-all ${o?"bg-red-500 hover:bg-red-600 animate-pulse scale-110":"border-2"}`,onClick:ct,disabled:!H,"data-testid":"button-toggle-mic",children:o?l.jsx(Br,{className:"w-8 h-8"}):l.jsx(M1,{className:"w-8 h-8"})}),l.jsx(me,{size:"icon",variant:"outline",className:"h-10 w-10 rounded-full",onClick:()=>v(!p),"data-testid":"button-toggle-voice",children:p?l.jsx(TO,{className:"w-5 h-5"}):l.jsx(kO,{className:"w-5 h-5"})}),l.jsx(me,{size:"icon",variant:"outline",className:"h-10 w-10 rounded-full",onClick:Xt,"data-testid":"button-reset",children:l.jsx(lO,{className:"w-5 h-5"})}),l.jsxs(me,{variant:"destructive",onClick:ie,className:"gap-2","data-testid":"button-stop-simulation",children:[l.jsx(XA,{className:"w-4 h-4"}),"End Session"]})]}):l.jsxs(me,{size:"lg",onClick:G,disabled:!E,className:"gap-2","data-testid":"button-start-simulation",children:[l.jsx(aO,{className:"w-5 h-5"}),"Start Simulation"]})}),T&&l.jsxs("div",{className:"space-y-3",children:[o&&l.jsx("div",{className:"text-center text-green-400 text-sm animate-pulse",children:"Speak now - your voice is being captured..."}),!H&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-amber-500/20 border border-amber-500/30 rounded-lg text-amber-200 text-sm",children:[l.jsx(TA,{className:"w-4 h-4 shrink-0"}),l.jsx("span",{children:"Voice recognition not supported. Use text input below or try Chrome browser."})]}),l.jsxs("form",{onSubmit:te=>{te.preventDefault(),Q.trim()&&!D&&(Z(Q.trim()),F(""))},className:"flex gap-2",children:[l.jsx($t,{value:Q,onChange:te=>F(te.target.value),placeholder:"Or type your statement here...",className:"flex-1 bg-slate-800 border-slate-600 text-white placeholder:text-slate-400",disabled:D,"data-testid":"input-text-fallback"}),l.jsx(me,{type:"submit",disabled:!Q.trim()||D,size:"icon","data-testid":"button-send-text",children:l.jsx(jg,{className:"w-4 h-4"})})]})]})]})]})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2 text-lg",children:[l.jsx(Mu,{className:"w-5 h-5 text-amber-500"}),"Live Coaching"]}),l.jsx(gn,{children:"AI suggestions based on your case and conversation"})]}),l.jsx(ut,{className:"space-y-4",children:T?Et?l.jsxs(l.Fragment,{children:[Et.suggestedResponses.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[l.jsx(sr,{className:"w-4 h-4 text-green-500"}),"Suggested Responses"]}),l.jsx("div",{className:"space-y-2",children:Et.suggestedResponses.map((te,se)=>l.jsxs("div",{className:"text-sm p-2 bg-green-500/10 border border-green-500/20 rounded-lg cursor-pointer hover:bg-green-500/20 transition-colors",onClick:()=>Z(te),children:['"',te,'"']},se))})]}),Et.warnings.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[l.jsx(V0,{className:"w-4 h-4 text-red-500"}),"Watch Out"]}),l.jsx("div",{className:"space-y-2",children:Et.warnings.map((te,se)=>l.jsx("div",{className:"text-sm p-2 bg-red-500/10 border border-red-500/20 rounded-lg",children:te},se))})]}),Et.tips.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[l.jsx(WM,{className:"w-4 h-4 text-blue-500"}),"Tips"]}),l.jsx("div",{className:"space-y-2",children:Et.tips.map((te,se)=>l.jsx("div",{className:"text-sm p-2 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:te},se))})]})]}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx(rn,{className:"w-6 h-6 animate-spin mx-auto text-muted-foreground"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Waiting for conversation..."})]}):l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Start a simulation to receive real-time coaching"})})]}),E&&l.jsxs(We,{children:[l.jsx(Dt,{children:l.jsxs(zt,{className:"flex items-center gap-2 text-lg",children:[l.jsx(tA,{className:"w-5 h-5 text-primary"}),"Case Strategy"]})}),l.jsxs(ut,{className:"space-y-3 text-sm",children:[E.caseTheory&&l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-muted-foreground",children:"Theory:"}),l.jsx("p",{children:E.caseTheory})]}),E.winningFactors&&l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-600",children:"Winning Factors:"}),l.jsx("p",{children:E.winningFactors})]}),E.trappingFactors&&l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-red-600",children:"Trap Points:"}),l.jsx("p",{children:E.trappingFactors})]}),!E.caseTheory&&!E.winningFactors&&!E.trappingFactors&&l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Add case strategy details to improve AI coaching"})]})]})]})]})}),l.jsx(Nn,{value:"tips",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(Mu,{className:"w-5 h-5 text-amber-500"}),"Collected Tips (",Pe.length,")"]}),l.jsx(gn,{children:"Strategic tips gathered during your practice sessions"})]}),l.jsx(ut,{children:Pe.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Tips will appear here as you practice"}):l.jsx("div",{className:"space-y-2",children:Pe.map((te,se)=>l.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg text-sm",children:te},se))})})]}),l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(V0,{className:"w-5 h-5 text-red-500"}),"Warnings to Remember (",ge.length,")"]}),l.jsx(gn,{children:"Potential pitfalls to avoid during trial"})]}),l.jsx(ut,{children:ge.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Warnings will appear here as you practice"}):l.jsx("div",{className:"space-y-2",children:ge.map((te,se)=>l.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-sm",children:te},se))})})]}),l.jsxs(We,{className:"md:col-span-2",children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(sr,{className:"w-5 h-5 text-green-500"}),"Suggested Angles & Responses (",I.length,")"]}),l.jsx(gn,{children:"Effective responses and angles to consider"})]}),l.jsx(ut,{children:I.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Suggested responses will appear here as you practice"}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:I.map((te,se)=>l.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-sm",children:['"',te,'"']},se))})})]}),l.jsxs(We,{className:"md:col-span-2",children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(SA,{className:"w-5 h-5"}),"Past Sessions (",S.length,")"]}),l.jsx(gn,{children:"Previously saved practice sessions for this case"})]}),l.jsx(ut,{children:S.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:a?"No saved sessions yet. Complete a practice session and save it!":"Select a case to view past sessions"}):l.jsx("div",{className:"space-y-2",children:S.map(te=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:te.sessionMode.replace("-"," ")}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(te.createdAt).toLocaleDateString()," - ",te.transcript?.length||0," messages",te.duration&&` - ${Math.floor(te.duration/60)}m ${te.duration%60}s`]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"outline",size:"sm",onClick:()=>Me(te),children:l.jsx(fp,{className:"w-4 h-4"})}),l.jsx(me,{variant:"outline",size:"sm",onClick:()=>O.mutate(te.id),children:l.jsx(nc,{className:"w-4 h-4"})})]})]},te.id))})})]})]})}),l.jsx(Nn,{value:"notes",className:"mt-4",children:l.jsxs(We,{children:[l.jsxs(Dt,{children:[l.jsxs(zt,{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"w-5 h-5"}),"Session Notes"]}),l.jsx(gn,{children:"Take notes during your practice session. These will be saved with your session."})]}),l.jsxs(ut,{children:[l.jsx(eo,{value:J,onChange:te=>ce(te.target.value),placeholder:"Write your notes here... Key observations, areas to improve, questions to research, etc.",className:"min-h-[400px]","data-testid":"textarea-notes"}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsxs(me,{onClick:ue,disabled:!E||M.length===0||w.isPending,children:[l.jsx(pp,{className:"w-4 h-4 mr-2"}),"Save Notes with Session"]})})]})]})})]})]})})}function mI(){return l.jsxs(bE,{children:[l.jsx(Js,{path:"/",component:_D}),l.jsx(Js,{path:"/cases",component:J8}),l.jsx(Js,{path:"/trial-prep",component:hI}),l.jsx(Js,{path:"/calendar",component:K8}),l.jsx(Js,{path:"/research",component:W8}),l.jsx(Js,{path:"/settings",component:fI}),l.jsx(Js,{path:"/case/:id",component:mP}),l.jsx(Js,{component:Q4})]})}function pI(){return l.jsx(qE,{client:nM,children:l.jsx(H4,{children:l.jsxs(ij,{children:[l.jsx(w4,{}),l.jsx(mI,{})]})})})}Xk.createRoot(document.getElementById("root")).render(l.jsx(pI,{}));

import{r as x,R as y1,j as o,P as wt,c as Co,a as x1,u as Ot,B as $k,b as Bl,d as di,e as Ue,f as Jn,g as fg,h as Qk,i as hg,k as Kn,l as Gk,m as Ld,D as b1,C as w1,n as zd,o as S1,A as _1,p as j1,q as N1,O as mg,s as C1,t as pg,v as gg,T as vg,w as yg,x as T1,y as k1,L as E1,z as M1,E as A1,F as Yk,G as O1,H as D1,W as Jk,S as R1,I as P1,J as Zk,K as L1,M as z1,N as I1,Q as U1,U as B1,V as V1,X as F1,Y as Kk,Z as Xk,_ as Wk,$ as eE,a0 as tE,a1 as nE,a2 as aE}from"./ui-B7hCohzP.js";import{r as q1,a as sE}from"./vendor-Cgg2GOmP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var Mm={exports:{}},Tl={},Am={exports:{}},Om={};var y0;function rE(){return y0||(y0=1,(function(t){function e(B,ne){var X=B.length;B.push(ne);e:for(;0<X;){var Ee=X-1>>>1,Se=B[Ee];if(0<l(Se,ne))B[Ee]=ne,B[X]=Se,X=Ee;else break e}}function a(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],X=B.pop();if(X!==ne){B[0]=X;e:for(var Ee=0,Se=B.length,nt=Se>>>1;Ee<nt;){var le=2*(Ee+1)-1,g=B[le],S=le+1,w=B[S];if(0>l(g,X))S<Se&&0>l(w,g)?(B[Ee]=w,B[S]=X,Ee=S):(B[Ee]=g,B[le]=X,Ee=le);else if(S<Se&&0>l(w,X))B[Ee]=w,B[S]=X,Ee=S;else break e}}return ne}function l(B,ne){var X=B.sortIndex-ne.sortIndex;return X!==0?X:B.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],v=[],y=1,_=null,C=3,A=!1,M=!1,j=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var ne=a(v);ne!==null;){if(ne.callback===null)r(v);else if(ne.startTime<=B)r(v),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=a(v)}}function U(B){if(j=!1,z(B),!M)if(a(p)!==null)M=!0,F||(F=!0,Pe());else{var ne=a(v);ne!==null&&De(U,ne.startTime-B)}}var F=!1,Y=-1,Z=5,de=-1;function pe(){return T?!0:!(t.unstable_now()-de<Z)}function Ne(){if(T=!1,F){var B=t.unstable_now();de=B;var ne=!0;try{e:{M=!1,j&&(j=!1,D(Y),Y=-1),A=!0;var X=C;try{t:{for(z(B),_=a(p);_!==null&&!(_.expirationTime>B&&pe());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,C=_.priorityLevel;var Se=Ee(_.expirationTime<=B);if(B=t.unstable_now(),typeof Se=="function"){_.callback=Se,z(B),ne=!0;break t}_===a(p)&&r(p),z(B)}else r(p);_=a(p)}if(_!==null)ne=!0;else{var nt=a(v);nt!==null&&De(U,nt.startTime-B),ne=!1}}break e}finally{_=null,C=X,A=!1}ne=void 0}}finally{ne?Pe():F=!1}}}var Pe;if(typeof P=="function")Pe=function(){P(Ne)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ge=rt.port2;rt.port1.onmessage=Ne,Pe=function(){ge.postMessage(null)}}else Pe=function(){k(Ne,0)};function De(B,ne){Y=k(function(){B(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(B){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var X=C;C=ne;try{return B()}finally{C=X}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=C;C=B;try{return ne()}finally{C=X}},t.unstable_scheduleCallback=function(B,ne,X){var Ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ee+X:Ee):X=Ee,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=X+Se,B={id:y++,callback:ne,priorityLevel:B,startTime:X,expirationTime:Se,sortIndex:-1},X>Ee?(B.sortIndex=X,e(v,B),a(p)===null&&B===a(v)&&(j?(D(Y),Y=-1):j=!0,De(U,X-Ee))):(B.sortIndex=Se,e(p,B),M||A||(M=!0,F||(F=!0,Pe()))),B},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(B){var ne=C;return function(){var X=C;C=ne;try{return B.apply(this,arguments)}finally{C=X}}}})(Om)),Om}var x0;function iE(){return x0||(x0=1,Am.exports=rE()),Am.exports}var b0;function oE(){if(b0)return Tl;b0=1;var t=iE(),e=q1(),a=sE();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function d(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function v(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var i=n,c=s;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return p(f),n;if(m===c)return p(f),s;m=m.sibling}throw Error(r(188))}if(i.return!==c.return)i=f,c=m;else{for(var b=!1,N=f.child;N;){if(N===i){b=!0,i=f,c=m;break}if(N===c){b=!0,c=f,i=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===i){b=!0,i=m,c=f;break}if(N===c){b=!0,c=m,i=f;break}N=N.sibling}if(!b)throw Error(r(189))}}if(i.alternate!==c)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,C=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=Ne&&n[Ne]||n["@@iterator"],typeof n=="function"?n:null)}var rt=Symbol.for("react.client.reference");function ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===rt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case F:return"SuspenseList";case de:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case P:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return s=n.displayName||null,s!==null?s:ge(n.type)||"Memo";case Z:s=n._payload,n=n._init;try{return ge(n(s))}catch{}}return null}var De=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Ee=[],Se=-1;function nt(n){return{current:n}}function le(n){0>Se||(n.current=Ee[Se],Ee[Se]=null,Se--)}function g(n,s){Se++,Ee[Se]=n.current,n.current=s}var S=nt(null),w=nt(null),O=nt(null),E=nt(null);function V(n,s){switch(g(O,s),g(w,n),g(S,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Vb(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Vb(s),n=Fb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(S),g(S,n)}function J(){le(S),le(w),le(O)}function G(n){n.memoizedState!==null&&g(E,n);var s=S.current,i=Fb(s,n.type);s!==i&&(g(w,n),g(S,i))}function ie(n){w.current===n&&(le(S),le(w)),E.current===n&&(le(E),_l._currentValue=X)}var fe,Me;function dt(n){if(fe===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);fe=s&&s[1]||"",Me=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+n+Me}var Wt=!1;function Dt(n,s){if(!n||Wt)return"";Wt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var $=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){$=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var R=b.split(`
`),H=N.split(`
`);for(f=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===R.length||f===H.length)for(c=R.length-1,f=H.length-1;1<=c&&0<=f&&R[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(R[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||R[c]!==H[f]){var K=`
`+R[c].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=c&&0<=f);break}}}finally{Wt=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?dt(i):""}function te(n,s){switch(n.tag){case 26:case 27:case 5:return dt(n.type);case 16:return dt("Lazy");case 13:return n.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Dt(n.type,!1);case 11:return Dt(n.type.render,!1);case 1:return Dt(n.type,!0);case 31:return dt("Activity");default:return""}}function se(n){try{var s="",i=null;do s+=te(n,i),i=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Qe=Object.prototype.hasOwnProperty,Le=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,gt=t.unstable_shouldYield,zn=t.unstable_requestPaint,Lt=t.unstable_now,vf=t.unstable_getCurrentPriorityLevel,gc=t.unstable_ImmediatePriority,bv=t.unstable_UserBlockingPriority,vc=t.unstable_NormalPriority,CT=t.unstable_LowPriority,wv=t.unstable_IdlePriority,TT=t.log,kT=t.unstable_setDisableYieldValue,Po=null,In=null;function Ts(n){if(typeof TT=="function"&&kT(n),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(Po,n)}catch{}}var Un=Math.clz32?Math.clz32:AT,ET=Math.log,MT=Math.LN2;function AT(n){return n>>>=0,n===0?32:31-(ET(n)/MT|0)|0}var yc=256,xc=262144,bc=4194304;function pr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wc(n,s,i){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var N=c&134217727;return N!==0?(c=N&~m,c!==0?f=pr(c):(b&=N,b!==0?f=pr(b):i||(i=N&~n,i!==0&&(f=pr(i))))):(N=c&~m,N!==0?f=pr(N):b!==0?f=pr(b):i||(i=c&~n,i!==0&&(f=pr(i)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,i=s&-s,m>=i||m===32&&(i&4194048)!==0)?s:f}function Lo(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function OT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sv(){var n=bc;return bc<<=1,(bc&62914560)===0&&(bc=4194304),n}function yf(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function zo(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function DT(n,s,i,c,f,m){var b=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var N=n.entanglements,R=n.expirationTimes,H=n.hiddenUpdates;for(i=b&~i;0<i;){var K=31-Un(i),ee=1<<K;N[K]=0,R[K]=-1;var $=H[K];if($!==null)for(H[K]=null,K=0;K<$.length;K++){var Q=$[K];Q!==null&&(Q.lane&=-536870913)}i&=~ee}c!==0&&_v(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~s))}function _v(n,s,i){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Un(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|i&261930}function jv(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var c=31-Un(i),f=1<<c;f&s|n[c]&s&&(n[c]|=s),i&=~f}}function Nv(n,s){var i=s&-s;return i=(i&42)!==0?1:xf(i),(i&(n.suspendedLanes|s))!==0?0:i}function xf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cv(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:d0(n.type))}function Tv(n,s){var i=ne.p;try{return ne.p=n,s()}finally{ne.p=i}}var ks=Math.random().toString(36).slice(2),cn="__reactFiber$"+ks,En="__reactProps$"+ks,mi="__reactContainer$"+ks,wf="__reactEvents$"+ks,RT="__reactListeners$"+ks,PT="__reactHandles$"+ks,kv="__reactResources$"+ks,Io="__reactMarker$"+ks;function Sf(n){delete n[cn],delete n[En],delete n[wf],delete n[RT],delete n[PT]}function pi(n){var s=n[cn];if(s)return s;for(var i=n.parentNode;i;){if(s=i[mi]||i[cn]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=Jb(n);n!==null;){if(i=n[cn])return i;n=Jb(n)}return s}n=i,i=n.parentNode}return null}function gi(n){if(n=n[cn]||n[mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Uo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function vi(n){var s=n[kv];return s||(s=n[kv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function sn(n){n[Io]=!0}var Ev=new Set,Mv={};function gr(n,s){yi(n,s),yi(n+"Capture",s)}function yi(n,s){for(Mv[n]=s,n=0;n<s.length;n++)Ev.add(s[n])}var LT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Av={},Ov={};function zT(n){return Qe.call(Ov,n)?!0:Qe.call(Av,n)?!1:LT.test(n)?Ov[n]=!0:(Av[n]=!0,!1)}function Sc(n,s,i){if(zT(s))if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+i)}}function _c(n,s,i){if(i===null)n.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+i)}}function Za(n,s,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(s,i,""+c)}}function sa(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dv(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function IT(n,s,i){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function _f(n){if(!n._valueTracker){var s=Dv(n)?"checked":"value";n._valueTracker=IT(n,s,""+n[s])}}function Rv(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return n&&(c=Dv(n)?n.checked?"true":"false":n.value),n=c,n!==i?(s.setValue(n),!0):!1}function jc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var UT=/[\n"\\]/g;function ra(n){return n.replace(UT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jf(n,s,i,c,f,m,b,N){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+sa(s)):n.value!==""+sa(s)&&(n.value=""+sa(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Nf(n,b,sa(s)):i!=null?Nf(n,b,sa(i)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+sa(N):n.removeAttribute("name")}function Pv(n,s,i,c,f,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){_f(n);return}i=i!=null?""+sa(i):"",s=s!=null?""+sa(s):i,N||s===n.value||(n.value=s),n.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=N?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),_f(n)}function Nf(n,s,i){s==="number"&&jc(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function xi(n,s,i,c){if(n=n.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<n.length;i++)f=s.hasOwnProperty("$"+n[i].value),n[i].selected!==f&&(n[i].selected=f),f&&c&&(n[i].defaultSelected=!0)}else{for(i=""+sa(i),s=null,f=0;f<n.length;f++){if(n[f].value===i){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Lv(n,s,i){if(s!=null&&(s=""+sa(s),s!==n.value&&(n.value=s),i==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=i!=null?""+sa(i):""}function zv(n,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(r(92));if(De(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=sa(s),n.defaultValue=i,c=n.textContent,c===i&&c!==""&&c!==null&&(n.value=c),_f(n)}function bi(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var BT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iv(n,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,i):typeof i!="number"||i===0||BT.has(s)?s==="float"?n.cssFloat=i:n[s]=(""+i).trim():n[s]=i+"px"}function Uv(n,s,i){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&i[f]!==c&&Iv(n,f,c)}else for(var m in s)s.hasOwnProperty(m)&&Iv(n,m,s[m])}function Cf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nc(n){return FT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ka(){}var Tf=null;function kf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wi=null,Si=null;function Bv(n){var s=gi(n);if(s&&(n=s.stateNode)){var i=n[En]||null;e:switch(n=s.stateNode,s.type){case"input":if(jf(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ra(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==n&&c.form===n.form){var f=c[En]||null;if(!f)throw Error(r(90));jf(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===n.form&&Rv(c)}break e;case"textarea":Lv(n,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&xi(n,!!i.multiple,s,!1)}}}var Ef=!1;function Vv(n,s,i){if(Ef)return n(s,i);Ef=!0;try{var c=n(s);return c}finally{if(Ef=!1,(wi!==null||Si!==null)&&(fu(),wi&&(s=wi,n=Si,Si=wi=null,Bv(s),n)))for(s=0;s<n.length;s++)Bv(n[s])}}function Bo(n,s){var i=n.stateNode;if(i===null)return null;var c=i[En]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(r(231,s,typeof i));return i}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=!1;if(Xa)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Mf=!1}var Es=null,Af=null,Cc=null;function Fv(){if(Cc)return Cc;var n,s=Af,i=s.length,c,f="value"in Es?Es.value:Es.textContent,m=f.length;for(n=0;n<i&&s[n]===f[n];n++);var b=i-n;for(c=1;c<=b&&s[i-c]===f[m-c];c++);return Cc=f.slice(n,1<c?1-c:void 0)}function Tc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function kc(){return!0}function qv(){return!1}function Mn(n){function s(i,c,f,m,b){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(i=n[N],this[N]=i?i(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?kc:qv,this.isPropagationStopped=qv,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),s}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=Mn(vr),Fo=_({},vr,{view:0,detail:0}),qT=Mn(Fo),Of,Df,qo,Mc=_({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qo&&(qo&&n.type==="mousemove"?(Of=n.screenX-qo.screenX,Df=n.screenY-qo.screenY):Df=Of=0,qo=n),Of)},movementY:function(n){return"movementY"in n?n.movementY:Df}}),Hv=Mn(Mc),HT=_({},Mc,{dataTransfer:0}),$T=Mn(HT),QT=_({},Fo,{relatedTarget:0}),Rf=Mn(QT),GT=_({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),YT=Mn(GT),JT=_({},vr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ZT=Mn(JT),KT=_({},vr,{data:0}),$v=Mn(KT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=e2[n])?!!s[n]:!1}function Pf(){return t2}var n2=_({},Fo,{key:function(n){if(n.key){var s=XT[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Tc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?WT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(n){return n.type==="keypress"?Tc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),a2=Mn(n2),s2=_({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qv=Mn(s2),r2=_({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),i2=Mn(r2),o2=_({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),l2=Mn(o2),c2=_({},Mc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u2=Mn(c2),d2=_({},vr,{newState:0,oldState:0}),f2=Mn(d2),h2=[9,13,27,32],Lf=Xa&&"CompositionEvent"in window,Ho=null;Xa&&"documentMode"in document&&(Ho=document.documentMode);var m2=Xa&&"TextEvent"in window&&!Ho,Gv=Xa&&(!Lf||Ho&&8<Ho&&11>=Ho),Yv=" ",Jv=!1;function Zv(n,s){switch(n){case"keyup":return h2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _i=!1;function p2(n,s){switch(n){case"compositionend":return Kv(s);case"keypress":return s.which!==32?null:(Jv=!0,Yv);case"textInput":return n=s.data,n===Yv&&Jv?null:n;default:return null}}function g2(n,s){if(_i)return n==="compositionend"||!Lf&&Zv(n,s)?(n=Fv(),Cc=Af=Es=null,_i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gv&&s.locale!=="ko"?null:s.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!v2[n.type]:s==="textarea"}function Wv(n,s,i,c){wi?Si?Si.push(c):Si=[c]:wi=c,s=xu(s,"onChange"),0<s.length&&(i=new Ec("onChange","change",null,i,c),n.push({event:i,listeners:s}))}var $o=null,Qo=null;function y2(n){Pb(n,0)}function Ac(n){var s=Uo(n);if(Rv(s))return n}function ey(n,s){if(n==="change")return s}var ty=!1;if(Xa){var zf;if(Xa){var If="oninput"in document;if(!If){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),If=typeof ny.oninput=="function"}zf=If}else zf=!1;ty=zf&&(!document.documentMode||9<document.documentMode)}function ay(){$o&&($o.detachEvent("onpropertychange",sy),Qo=$o=null)}function sy(n){if(n.propertyName==="value"&&Ac(Qo)){var s=[];Wv(s,Qo,n,kf(n)),Vv(y2,s)}}function x2(n,s,i){n==="focusin"?(ay(),$o=s,Qo=i,$o.attachEvent("onpropertychange",sy)):n==="focusout"&&ay()}function b2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ac(Qo)}function w2(n,s){if(n==="click")return Ac(s)}function S2(n,s){if(n==="input"||n==="change")return Ac(s)}function _2(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Bn=typeof Object.is=="function"?Object.is:_2;function Go(n,s){if(Bn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!Qe.call(s,f)||!Bn(n[f],s[f]))return!1}return!0}function ry(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iy(n,s){var i=ry(n);n=0;for(var c;i;){if(i.nodeType===3){if(c=n+i.textContent.length,n<=s&&c>=s)return{node:i,offset:s-n};n=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ry(i)}}function oy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?oy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ly(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=jc(n.document);s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=jc(n.document)}return s}function Uf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var j2=Xa&&"documentMode"in document&&11>=document.documentMode,ji=null,Bf=null,Yo=null,Vf=!1;function cy(n,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vf||ji==null||ji!==jc(c)||(c=ji,"selectionStart"in c&&Uf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Go(Yo,c)||(Yo=c,c=xu(Bf,"onSelect"),0<c.length&&(s=new Ec("onSelect","select",null,s,i),n.push({event:s,listeners:c}),s.target=ji)))}function yr(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var Ni={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Ff={},uy={};Xa&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function xr(n){if(Ff[n])return Ff[n];if(!Ni[n])return n;var s=Ni[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in uy)return Ff[n]=s[i];return n}var dy=xr("animationend"),fy=xr("animationiteration"),hy=xr("animationstart"),N2=xr("transitionrun"),C2=xr("transitionstart"),T2=xr("transitioncancel"),my=xr("transitionend"),py=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function _a(n,s){py.set(n,s),gr(s,[n])}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ia=[],Ci=0,Hf=0;function Dc(){for(var n=Ci,s=Hf=Ci=0;s<n;){var i=ia[s];ia[s++]=null;var c=ia[s];ia[s++]=null;var f=ia[s];ia[s++]=null;var m=ia[s];if(ia[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&gy(i,f,m)}}function Rc(n,s,i,c){ia[Ci++]=n,ia[Ci++]=s,ia[Ci++]=i,ia[Ci++]=c,Hf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function $f(n,s,i,c){return Rc(n,s,i,c),Pc(n)}function br(n,s){return Rc(n,null,null,s),Pc(n)}function gy(n,s,i){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i);for(var f=!1,m=n.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Un(i),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[s]:c.push(s),s.lane=i|536870912),m):null}function Pc(n){if(50<gl)throw gl=0,em=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ti={};function k2(n,s,i,c){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(n,s,i,c){return new k2(n,s,i,c)}function Qf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wa(n,s){var i=n.alternate;return i===null?(i=Vn(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&65011712,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function vy(n,s){n.flags&=65011714;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Lc(n,s,i,c,f,m){var b=0;if(c=n,typeof n=="function")Qf(n)&&(b=1);else if(typeof n=="string")b=Dk(n,i,S.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case de:return n=Vn(31,i,s,f),n.elementType=de,n.lanes=m,n;case j:return wr(i.children,f,m,s);case T:b=8,f|=24;break;case k:return n=Vn(12,i,s,f|2),n.elementType=k,n.lanes=m,n;case U:return n=Vn(13,i,s,f),n.elementType=U,n.lanes=m,n;case F:return n=Vn(19,i,s,f),n.elementType=F,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:b=10;break e;case D:b=9;break e;case z:b=11;break e;case Y:b=14;break e;case Z:b=16,c=null;break e}b=29,i=Error(r(130,n===null?"null":typeof n,"")),c=null}return s=Vn(b,i,s,f),s.elementType=n,s.type=c,s.lanes=m,s}function wr(n,s,i,c){return n=Vn(7,n,c,s),n.lanes=i,n}function Gf(n,s,i){return n=Vn(6,n,null,s),n.lanes=i,n}function yy(n){var s=Vn(18,null,null,0);return s.stateNode=n,s}function Yf(n,s,i){return s=Vn(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var xy=new WeakMap;function oa(n,s){if(typeof n=="object"&&n!==null){var i=xy.get(n);return i!==void 0?i:(s={value:n,source:s,stack:se(s)},xy.set(n,s),s)}return{value:n,source:s,stack:se(s)}}var ki=[],Ei=0,zc=null,Jo=0,la=[],ca=0,Ms=null,za=1,Ia="";function es(n,s){ki[Ei++]=Jo,ki[Ei++]=zc,zc=n,Jo=s}function by(n,s,i){la[ca++]=za,la[ca++]=Ia,la[ca++]=Ms,Ms=n;var c=za;n=Ia;var f=32-Un(c)-1;c&=~(1<<f),i+=1;var m=32-Un(s)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,za=1<<32-Un(s)+f|i<<f|c,Ia=m+n}else za=1<<m|i<<f|c,Ia=n}function Jf(n){n.return!==null&&(es(n,1),by(n,1,0))}function Zf(n){for(;n===zc;)zc=ki[--Ei],ki[Ei]=null,Jo=ki[--Ei],ki[Ei]=null;for(;n===Ms;)Ms=la[--ca],la[ca]=null,Ia=la[--ca],la[ca]=null,za=la[--ca],la[ca]=null}function wy(n,s){la[ca++]=za,la[ca++]=Ia,la[ca++]=Ms,za=s.id,Ia=s.overflow,Ms=n}var un=null,Tt=null,Xe=!1,As=null,ua=!1,Kf=Error(r(519));function Os(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(oa(s,n)),Kf}function Sy(n){var s=n.stateNode,i=n.type,c=n.memoizedProps;switch(s[cn]=n,s[En]=c,i){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(i=0;i<yl.length;i++)Ye(yl[i],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Pv(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),zv(s,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||Ub(s.textContent,i)?(c.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),c.onScroll!=null&&Ye("scroll",s),c.onScrollEnd!=null&&Ye("scrollend",s),c.onClick!=null&&(s.onclick=Ka),s=!0):s=!1,s||Os(n,!0)}function _y(n){for(un=n.return;un;)switch(un.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:un=un.return}}function Mi(n){if(n!==un)return!1;if(!Xe)return _y(n),Xe=!0,!1;var s=n.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||pm(n.type,n.memoizedProps)),i=!i),i&&Tt&&Os(n),_y(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=Yb(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=Yb(n)}else s===27?(s=Tt,Qs(n.type)?(n=bm,bm=null,Tt=n):Tt=s):Tt=un?fa(n.stateNode.nextSibling):null;return!0}function Sr(){Tt=un=null,Xe=!1}function Xf(){var n=As;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),As=null),n}function Zo(n){As===null?As=[n]:As.push(n)}var Wf=nt(null),_r=null,ts=null;function Ds(n,s,i){g(Wf,s._currentValue),s._currentValue=i}function ns(n){n._currentValue=Wf.current,le(Wf)}function eh(n,s,i){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===i)break;n=n.return}}function th(n,s,i,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=f;for(var R=0;R<s.length;R++)if(N.context===s[R]){m.lanes|=i,N=m.alternate,N!==null&&(N.lanes|=i),eh(m.return,i,n),c||(b=null);break e}m=N.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),eh(b,i,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ai(n,s,i,c){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var N=f.type;Bn(f.pendingProps.value,b.value)||(n!==null?n.push(N):n=[N])}}else if(f===E.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(_l):n=[_l])}f=f.return}n!==null&&th(s,n,i,c),s.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!Bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function jr(n){_r=n,ts=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function dn(n){return jy(_r,n)}function Uc(n,s){return _r===null&&jr(n),jy(n,s)}function jy(n,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},ts===null){if(n===null)throw Error(r(308));ts=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ts=ts.next=s;return i}var E2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(i,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(i){return i()})}},M2=t.unstable_scheduleCallback,A2=t.unstable_NormalPriority,Gt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new E2,data:new Map,refCount:0}}function Ko(n){n.refCount--,n.refCount===0&&M2(A2,function(){n.controller.abort()})}var Xo=null,ah=0,Oi=0,Di=null;function O2(n,s){if(Xo===null){var i=Xo=[];ah=0,Oi=im(),Di={status:"pending",value:void 0,then:function(c){i.push(c)}}}return ah++,s.then(Ny,Ny),s}function Ny(){if(--ah===0&&Xo!==null){Di!==null&&(Di.status="fulfilled");var n=Xo;Xo=null,Oi=0,Di=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function D2(n,s){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<i.length;f++)(0,i[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var Cy=B.S;B.S=function(n,s){cb=Lt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&O2(n,s),Cy!==null&&Cy(n,s)};var Nr=nt(null);function sh(){var n=Nr.current;return n!==null?n:_t.pooledCache}function Bc(n,s){s===null?g(Nr,Nr.current):g(Nr,s.pool)}function Ty(){var n=sh();return n===null?null:{parent:Gt._currentValue,pool:n}}var Ri=Error(r(460)),rh=Error(r(474)),Vc=Error(r(542)),Fc={then:function(){}};function ky(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ey(n,s,i){switch(i=n[i],i===void 0?n.push(s):i!==s&&(s.then(Ka,Ka),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ay(n),n;default:if(typeof s.status=="string")s.then(Ka,Ka);else{if(n=_t,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ay(n),n}throw Tr=s,Ri}}function Cr(n){try{var s=n._init;return s(n._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Tr=i,Ri):i}}var Tr=null;function My(){if(Tr===null)throw Error(r(459));var n=Tr;return Tr=null,n}function Ay(n){if(n===Ri||n===Vc)throw Error(r(483))}var Pi=null,Wo=0;function qc(n){var s=Wo;return Wo+=1,Pi===null&&(Pi=[]),Ey(Pi,n,s)}function el(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Hc(n,s){throw s.$$typeof===C?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Oy(n){function s(I,L){if(n){var q=I.deletions;q===null?(I.deletions=[L],I.flags|=16):q.push(L)}}function i(I,L){if(!n)return null;for(;L!==null;)s(I,L),L=L.sibling;return null}function c(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function f(I,L){return I=Wa(I,L),I.index=0,I.sibling=null,I}function m(I,L,q){return I.index=q,n?(q=I.alternate,q!==null?(q=q.index,q<L?(I.flags|=67108866,L):q):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function b(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function N(I,L,q,W){return L===null||L.tag!==6?(L=Gf(q,I.mode,W),L.return=I,L):(L=f(L,q),L.return=I,L)}function R(I,L,q,W){var Ce=q.type;return Ce===j?K(I,L,q.props.children,W,q.key):L!==null&&(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&Cr(Ce)===L.type)?(L=f(L,q.props),el(L,q),L.return=I,L):(L=Lc(q.type,q.key,q.props,null,I.mode,W),el(L,q),L.return=I,L)}function H(I,L,q,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Yf(q,I.mode,W),L.return=I,L):(L=f(L,q.children||[]),L.return=I,L)}function K(I,L,q,W,Ce){return L===null||L.tag!==7?(L=wr(q,I.mode,W,Ce),L.return=I,L):(L=f(L,q),L.return=I,L)}function ee(I,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gf(""+L,I.mode,q),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return q=Lc(L.type,L.key,L.props,null,I.mode,q),el(q,L),q.return=I,q;case M:return L=Yf(L,I.mode,q),L.return=I,L;case Z:return L=Cr(L),ee(I,L,q)}if(De(L)||Pe(L))return L=wr(L,I.mode,q,null),L.return=I,L;if(typeof L.then=="function")return ee(I,qc(L),q);if(L.$$typeof===P)return ee(I,Uc(I,L),q);Hc(I,L)}return null}function $(I,L,q,W){var Ce=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ce!==null?null:N(I,L,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===Ce?R(I,L,q,W):null;case M:return q.key===Ce?H(I,L,q,W):null;case Z:return q=Cr(q),$(I,L,q,W)}if(De(q)||Pe(q))return Ce!==null?null:K(I,L,q,W,null);if(typeof q.then=="function")return $(I,L,qc(q),W);if(q.$$typeof===P)return $(I,L,Uc(I,q),W);Hc(I,q)}return null}function Q(I,L,q,W,Ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return I=I.get(q)||null,N(L,I,""+W,Ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return I=I.get(W.key===null?q:W.key)||null,R(L,I,W,Ce);case M:return I=I.get(W.key===null?q:W.key)||null,H(L,I,W,Ce);case Z:return W=Cr(W),Q(I,L,q,W,Ce)}if(De(W)||Pe(W))return I=I.get(q)||null,K(L,I,W,Ce,null);if(typeof W.then=="function")return Q(I,L,q,qc(W),Ce);if(W.$$typeof===P)return Q(I,L,q,Uc(L,W),Ce);Hc(L,W)}return null}function ve(I,L,q,W){for(var Ce=null,it=null,be=L,Ve=L=0,Ze=null;be!==null&&Ve<q.length;Ve++){be.index>Ve?(Ze=be,be=null):Ze=be.sibling;var ot=$(I,be,q[Ve],W);if(ot===null){be===null&&(be=Ze);break}n&&be&&ot.alternate===null&&s(I,be),L=m(ot,L,Ve),it===null?Ce=ot:it.sibling=ot,it=ot,be=Ze}if(Ve===q.length)return i(I,be),Xe&&es(I,Ve),Ce;if(be===null){for(;Ve<q.length;Ve++)be=ee(I,q[Ve],W),be!==null&&(L=m(be,L,Ve),it===null?Ce=be:it.sibling=be,it=be);return Xe&&es(I,Ve),Ce}for(be=c(be);Ve<q.length;Ve++)Ze=Q(be,I,Ve,q[Ve],W),Ze!==null&&(n&&Ze.alternate!==null&&be.delete(Ze.key===null?Ve:Ze.key),L=m(Ze,L,Ve),it===null?Ce=Ze:it.sibling=Ze,it=Ze);return n&&be.forEach(function(Ks){return s(I,Ks)}),Xe&&es(I,Ve),Ce}function ke(I,L,q,W){if(q==null)throw Error(r(151));for(var Ce=null,it=null,be=L,Ve=L=0,Ze=null,ot=q.next();be!==null&&!ot.done;Ve++,ot=q.next()){be.index>Ve?(Ze=be,be=null):Ze=be.sibling;var Ks=$(I,be,ot.value,W);if(Ks===null){be===null&&(be=Ze);break}n&&be&&Ks.alternate===null&&s(I,be),L=m(Ks,L,Ve),it===null?Ce=Ks:it.sibling=Ks,it=Ks,be=Ze}if(ot.done)return i(I,be),Xe&&es(I,Ve),Ce;if(be===null){for(;!ot.done;Ve++,ot=q.next())ot=ee(I,ot.value,W),ot!==null&&(L=m(ot,L,Ve),it===null?Ce=ot:it.sibling=ot,it=ot);return Xe&&es(I,Ve),Ce}for(be=c(be);!ot.done;Ve++,ot=q.next())ot=Q(be,I,Ve,ot.value,W),ot!==null&&(n&&ot.alternate!==null&&be.delete(ot.key===null?Ve:ot.key),L=m(ot,L,Ve),it===null?Ce=ot:it.sibling=ot,it=ot);return n&&be.forEach(function(Hk){return s(I,Hk)}),Xe&&es(I,Ve),Ce}function xt(I,L,q,W){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var Ce=q.key;L!==null;){if(L.key===Ce){if(Ce=q.type,Ce===j){if(L.tag===7){i(I,L.sibling),W=f(L,q.props.children),W.return=I,I=W;break e}}else if(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&Cr(Ce)===L.type){i(I,L.sibling),W=f(L,q.props),el(W,q),W.return=I,I=W;break e}i(I,L);break}else s(I,L);L=L.sibling}q.type===j?(W=wr(q.props.children,I.mode,W,q.key),W.return=I,I=W):(W=Lc(q.type,q.key,q.props,null,I.mode,W),el(W,q),W.return=I,I=W)}return b(I);case M:e:{for(Ce=q.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){i(I,L.sibling),W=f(L,q.children||[]),W.return=I,I=W;break e}else{i(I,L);break}else s(I,L);L=L.sibling}W=Yf(q,I.mode,W),W.return=I,I=W}return b(I);case Z:return q=Cr(q),xt(I,L,q,W)}if(De(q))return ve(I,L,q,W);if(Pe(q)){if(Ce=Pe(q),typeof Ce!="function")throw Error(r(150));return q=Ce.call(q),ke(I,L,q,W)}if(typeof q.then=="function")return xt(I,L,qc(q),W);if(q.$$typeof===P)return xt(I,L,Uc(I,q),W);Hc(I,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(i(I,L.sibling),W=f(L,q),W.return=I,I=W):(i(I,L),W=Gf(q,I.mode,W),W.return=I,I=W),b(I)):i(I,L)}return function(I,L,q,W){try{Wo=0;var Ce=xt(I,L,q,W);return Pi=null,Ce}catch(be){if(be===Ri||be===Vc)throw be;var it=Vn(29,be,null,I.mode);return it.lanes=W,it.return=I,it}}}var kr=Oy(!0),Dy=Oy(!1),Rs=!1;function ih(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ps(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ls(n,s,i){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Pc(n),gy(n,null,i),s}return Rc(n,c,s,i),Pc(n)}function tl(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,jv(n,i)}}function lh(n,s){var i=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?f=m=s:m=m.next=s}else f=m=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}var ch=!1;function nl(){if(ch){var n=Di;if(n!==null)throw n}}function al(n,s,i,c){ch=!1;var f=n.updateQueue;Rs=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var R=N,H=R.next;R.next=null,b===null?m=H:b.next=H,b=R;var K=n.alternate;K!==null&&(K=K.updateQueue,N=K.lastBaseUpdate,N!==b&&(N===null?K.firstBaseUpdate=H:N.next=H,K.lastBaseUpdate=R))}if(m!==null){var ee=f.baseState;b=0,K=H=R=null,N=m;do{var $=N.lane&-536870913,Q=$!==N.lane;if(Q?(Je&$)===$:(c&$)===$){$!==0&&$===Oi&&(ch=!0),K!==null&&(K=K.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ve=n,ke=N;$=s;var xt=i;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){ee=ve.call(xt,ee,$);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,$=typeof ve=="function"?ve.call(xt,ee,$):ve,$==null)break e;ee=_({},ee,$);break e;case 2:Rs=!0}}$=N.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},K===null?(H=K=Q,R=ee):K=K.next=Q,b|=$;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;Q=N,N=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);K===null&&(R=ee),f.baseState=R,f.firstBaseUpdate=H,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Vs|=b,n.lanes=b,n.memoizedState=ee}}function Ry(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Py(n,s){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)Ry(i[n],s)}var Li=nt(null),$c=nt(0);function Ly(n,s){n=ds,g($c,n),g(Li,s),ds=n|s.baseLanes}function uh(){g($c,ds),g(Li,Li.current)}function dh(){ds=$c.current,le(Li),le($c)}var Fn=nt(null),da=null;function zs(n){var s=n.alternate;g(Bt,Bt.current&1),g(Fn,n),da===null&&(s===null||Li.current!==null||s.memoizedState!==null)&&(da=n)}function fh(n){g(Bt,Bt.current),g(Fn,n),da===null&&(da=n)}function zy(n){n.tag===22?(g(Bt,Bt.current),g(Fn,n),da===null&&(da=n)):Is()}function Is(){g(Bt,Bt.current),g(Fn,Fn.current)}function qn(n){le(Fn),da===n&&(da=null),le(Bt)}var Bt=nt(0);function Qc(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ym(i)||xm(i)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var as=0,Ie=null,vt=null,Yt=null,Gc=!1,zi=!1,Er=!1,Yc=0,sl=0,Ii=null,R2=0;function zt(){throw Error(r(321))}function hh(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!Bn(n[i],s[i]))return!1;return!0}function mh(n,s,i,c,f,m){return as=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?bx:Eh,Er=!1,m=i(c,f),Er=!1,zi&&(m=Uy(s,i,c,f)),Iy(n),m}function Iy(n){B.H=ol;var s=vt!==null&&vt.next!==null;if(as=0,Yt=vt=Ie=null,Gc=!1,sl=0,Ii=null,s)throw Error(r(300));n===null||Jt||(n=n.dependencies,n!==null&&Ic(n)&&(Jt=!0))}function Uy(n,s,i,c){Ie=n;var f=0;do{if(zi&&(Ii=null),sl=0,zi=!1,25<=f)throw Error(r(301));if(f+=1,Yt=vt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=wx,m=s(i,c)}while(zi);return m}function P2(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?rl(s):s,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(Ie.flags|=1024),s}function ph(){var n=Yc!==0;return Yc=0,n}function gh(n,s,i){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~i}function vh(n){if(Gc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gc=!1}as=0,Yt=vt=Ie=null,zi=!1,sl=Yc=0,Ii=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ie.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function Vt(){if(vt===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var s=Yt===null?Ie.memoizedState:Yt.next;if(s!==null)Yt=s,vt=n;else{if(n===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Yt===null?Ie.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(n){var s=sl;return sl+=1,Ii===null&&(Ii=[]),n=Ey(Ii,n,s),s=Ie,(Yt===null?s.memoizedState:Yt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?bx:Eh),n}function Zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return rl(n);if(n.$$typeof===P)return dn(n)}throw Error(r(438,String(n)))}function yh(n){var s=null,i=Ie.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Jc(),Ie.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(n),c=0;c<n;c++)i[c]=pe;return s.index++,i}function ss(n,s){return typeof s=="function"?s(n):s}function Kc(n){var s=Vt();return xh(s,vt,n)}function xh(n,s,i){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var N=b=null,R=null,H=s,K=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Je&ee)===ee:(as&ee)===ee){var $=H.revertLane;if($===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Oi&&(K=!0);else if((as&$)===$){H=H.next,$===Oi&&(K=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(N=R=ee,b=m):R=R.next=ee,Ie.lanes|=$,Vs|=$;ee=H.action,Er&&i(m,ee),m=H.hasEagerState?H.eagerState:i(m,ee)}else $={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(N=R=$,b=m):R=R.next=$,Ie.lanes|=ee,Vs|=ee;H=H.next}while(H!==null&&H!==s);if(R===null?b=m:R.next=N,!Bn(m,n.memoizedState)&&(Jt=!0,K&&(i=Di,i!==null)))throw i;n.memoizedState=m,n.baseState=b,n.baseQueue=R,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function bh(n){var s=Vt(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var c=i.dispatch,f=i.pending,m=s.memoizedState;if(f!==null){i.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);Bn(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),i.lastRenderedState=m}return[m,c]}function By(n,s,i){var c=Ie,f=Vt(),m=Xe;if(m){if(i===void 0)throw Error(r(407));i=i()}else i=s();var b=!Bn((vt||f).memoizedState,i);if(b&&(f.memoizedState=i,Jt=!0),f=f.queue,_h(qy.bind(null,c,f,n),[n]),f.getSnapshot!==s||b||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,Ui(9,{destroy:void 0},Fy.bind(null,c,f,i,s),null),_t===null)throw Error(r(349));m||(as&127)!==0||Vy(c,s,i)}return i}function Vy(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=Ie.updateQueue,s===null?(s=Jc(),Ie.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function Fy(n,s,i,c){s.value=i,s.getSnapshot=c,Hy(s)&&$y(n)}function qy(n,s,i){return i(function(){Hy(s)&&$y(n)})}function Hy(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!Bn(n,i)}catch{return!0}}function $y(n){var s=br(n,2);s!==null&&Pn(s,n,2)}function wh(n){var s=bn();if(typeof n=="function"){var i=n;if(n=i(),Er){Ts(!0);try{i()}finally{Ts(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:n},s}function Qy(n,s,i,c){return n.baseState=i,xh(n,vt,typeof c=="function"?c:ss)}function L2(n,s,i,c,f){if(eu(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};B.T!==null?i(!0):m.isTransition=!1,c(m),i=s.pending,i===null?(m.next=s.pending=m,Gy(s,m)):(m.next=i.next,s.pending=i.next=m)}}function Gy(n,s){var i=s.action,c=s.payload,f=n.state;if(s.isTransition){var m=B.T,b={};B.T=b;try{var N=i(f,c),R=B.S;R!==null&&R(b,N),Yy(n,s,N)}catch(H){Sh(n,s,H)}finally{m!==null&&b.types!==null&&(m.types=b.types),B.T=m}}else try{m=i(f,c),Yy(n,s,m)}catch(H){Sh(n,s,H)}}function Yy(n,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Jy(n,s,c)},function(c){return Sh(n,s,c)}):Jy(n,s,i)}function Jy(n,s,i){s.status="fulfilled",s.value=i,Zy(s),n.state=i,s=n.pending,s!==null&&(i=s.next,i===s?n.pending=null:(i=i.next,s.next=i,Gy(n,i)))}function Sh(n,s,i){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,Zy(s),s=s.next;while(s!==c)}n.action=null}function Zy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Ky(n,s){return s}function Xy(n,s){if(Xe){var i=_t.formState;if(i!==null){e:{var c=Ie;if(Xe){if(Tt){t:{for(var f=Tt,m=ua;f.nodeType!==8;){if(!m){f=null;break t}if(f=fa(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Tt=fa(f.nextSibling),c=f.data==="F!";break e}}Os(c)}c=!1}c&&(s=i[0])}}return i=bn(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:s},i.queue=c,i=vx.bind(null,Ie,c),c.dispatch=i,c=wh(!1),m=kh.bind(null,Ie,!1,c.queue),c=bn(),f={state:s,dispatch:null,action:n,pending:null},c.queue=f,i=L2.bind(null,Ie,f,m,i),f.dispatch=i,c.memoizedState=n,[s,i,!1]}function Wy(n){var s=Vt();return ex(s,vt,n)}function ex(n,s,i){if(s=xh(n,s,Ky)[0],n=Kc(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=rl(s)}catch(b){throw b===Ri?Vc:b}else c=s;s=Vt();var f=s.queue,m=f.dispatch;return i!==s.memoizedState&&(Ie.flags|=2048,Ui(9,{destroy:void 0},z2.bind(null,f,i),null)),[c,m,n]}function z2(n,s){n.action=s}function tx(n){var s=Vt(),i=vt;if(i!==null)return ex(s,i,n);Vt(),s=s.memoizedState,i=Vt();var c=i.queue.dispatch;return i.memoizedState=n,[s,c,!1]}function Ui(n,s,i,c){return n={tag:n,create:i,deps:c,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Jc(),Ie.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=n.next=n:(c=i.next,i.next=n,n.next=c,s.lastEffect=n),n}function nx(){return Vt().memoizedState}function Xc(n,s,i,c){var f=bn();Ie.flags|=n,f.memoizedState=Ui(1|s,{destroy:void 0},i,c===void 0?null:c)}function Wc(n,s,i,c){var f=Vt();c=c===void 0?null:c;var m=f.memoizedState.inst;vt!==null&&c!==null&&hh(c,vt.memoizedState.deps)?f.memoizedState=Ui(s,m,i,c):(Ie.flags|=n,f.memoizedState=Ui(1|s,m,i,c))}function ax(n,s){Xc(8390656,8,n,s)}function _h(n,s){Wc(2048,8,n,s)}function I2(n){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Jc(),Ie.updateQueue=s,s.events=[n];else{var i=s.events;i===null?s.events=[n]:i.push(n)}}function sx(n){var s=Vt().memoizedState;return I2({ref:s,nextImpl:n}),function(){if((lt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function rx(n,s){return Wc(4,2,n,s)}function ix(n,s){return Wc(4,4,n,s)}function ox(n,s){if(typeof s=="function"){n=n();var i=s(n);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function lx(n,s,i){i=i!=null?i.concat([n]):null,Wc(4,4,ox.bind(null,s,n),i)}function jh(){}function cx(n,s){var i=Vt();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&hh(s,c[1])?c[0]:(i.memoizedState=[n,s],n)}function ux(n,s){var i=Vt();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&hh(s,c[1]))return c[0];if(c=n(),Er){Ts(!0);try{n()}finally{Ts(!1)}}return i.memoizedState=[c,s],c}function Nh(n,s,i){return i===void 0||(as&1073741824)!==0&&(Je&261930)===0?n.memoizedState=s:(n.memoizedState=i,n=db(),Ie.lanes|=n,Vs|=n,i)}function dx(n,s,i,c){return Bn(i,s)?i:Li.current!==null?(n=Nh(n,i,c),Bn(n,s)||(Jt=!0),n):(as&42)===0||(as&1073741824)!==0&&(Je&261930)===0?(Jt=!0,n.memoizedState=i):(n=db(),Ie.lanes|=n,Vs|=n,s)}function fx(n,s,i,c,f){var m=ne.p;ne.p=m!==0&&8>m?m:8;var b=B.T,N={};B.T=N,kh(n,!1,s,i);try{var R=f(),H=B.S;if(H!==null&&H(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=D2(R,c);il(n,s,K,Qn(n))}else il(n,s,c,Qn(n))}catch(ee){il(n,s,{then:function(){},status:"rejected",reason:ee},Qn())}finally{ne.p=m,b!==null&&N.types!==null&&(b.types=N.types),B.T=b}}function U2(){}function Ch(n,s,i,c){if(n.tag!==5)throw Error(r(476));var f=hx(n).queue;fx(n,f,s,X,i===null?U2:function(){return mx(n),i(c)})}function hx(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:X},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function mx(n){var s=hx(n);s.next===null&&(s=n.alternate.memoizedState),il(n,s.next.queue,{},Qn())}function Th(){return dn(_l)}function px(){return Vt().memoizedState}function gx(){return Vt().memoizedState}function B2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var i=Qn();n=Ps(i);var c=Ls(s,n,i);c!==null&&(Pn(c,s,i),tl(c,s,i)),s={cache:nh()},n.payload=s;return}s=s.return}}function V2(n,s,i){var c=Qn();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},eu(n)?yx(s,i):(i=$f(n,s,i,c),i!==null&&(Pn(i,n,c),xx(i,s,c)))}function vx(n,s,i){var c=Qn();il(n,s,i,c)}function il(n,s,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(eu(n))yx(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,N=m(b,i);if(f.hasEagerState=!0,f.eagerState=N,Bn(N,b))return Rc(n,s,f,0),_t===null&&Dc(),!1}catch{}if(i=$f(n,s,f,c),i!==null)return Pn(i,n,c),xx(i,s,c),!0}return!1}function kh(n,s,i,c){if(c={lane:2,revertLane:im(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},eu(n)){if(s)throw Error(r(479))}else s=$f(n,i,c,2),s!==null&&Pn(s,n,2)}function eu(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function yx(n,s){zi=Gc=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function xx(n,s,i){if((i&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,i|=c,s.lanes=i,jv(n,i)}}var ol={readContext:dn,use:Zc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};ol.useEffectEvent=zt;var bx={readContext:dn,use:Zc,useCallback:function(n,s){return bn().memoizedState=[n,s===void 0?null:s],n},useContext:dn,useEffect:ax,useImperativeHandle:function(n,s,i){i=i!=null?i.concat([n]):null,Xc(4194308,4,ox.bind(null,s,n),i)},useLayoutEffect:function(n,s){return Xc(4194308,4,n,s)},useInsertionEffect:function(n,s){Xc(4,2,n,s)},useMemo:function(n,s){var i=bn();s=s===void 0?null:s;var c=n();if(Er){Ts(!0);try{n()}finally{Ts(!1)}}return i.memoizedState=[c,s],c},useReducer:function(n,s,i){var c=bn();if(i!==void 0){var f=i(s);if(Er){Ts(!0);try{i(s)}finally{Ts(!1)}}}else f=s;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=V2.bind(null,Ie,n),[c.memoizedState,n]},useRef:function(n){var s=bn();return n={current:n},s.memoizedState=n},useState:function(n){n=wh(n);var s=n.queue,i=vx.bind(null,Ie,s);return s.dispatch=i,[n.memoizedState,i]},useDebugValue:jh,useDeferredValue:function(n,s){var i=bn();return Nh(i,n,s)},useTransition:function(){var n=wh(!1);return n=fx.bind(null,Ie,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,i){var c=Ie,f=bn();if(Xe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=s(),_t===null)throw Error(r(349));(Je&127)!==0||Vy(c,s,i)}f.memoizedState=i;var m={value:i,getSnapshot:s};return f.queue=m,ax(qy.bind(null,c,m,n),[n]),c.flags|=2048,Ui(9,{destroy:void 0},Fy.bind(null,c,m,i,s),null),i},useId:function(){var n=bn(),s=_t.identifierPrefix;if(Xe){var i=Ia,c=za;i=(c&~(1<<32-Un(c)-1)).toString(32)+i,s="_"+s+"R_"+i,i=Yc++,0<i&&(s+="H"+i.toString(32)),s+="_"}else i=R2++,s="_"+s+"r_"+i.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Th,useFormState:Xy,useActionState:Xy,useOptimistic:function(n){var s=bn();s.memoizedState=s.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=kh.bind(null,Ie,!0,i),i.dispatch=s,[n,s]},useMemoCache:yh,useCacheRefresh:function(){return bn().memoizedState=B2.bind(null,Ie)},useEffectEvent:function(n){var s=bn(),i={impl:n};return s.memoizedState=i,function(){if((lt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Eh={readContext:dn,use:Zc,useCallback:cx,useContext:dn,useEffect:_h,useImperativeHandle:lx,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:ux,useReducer:Kc,useRef:nx,useState:function(){return Kc(ss)},useDebugValue:jh,useDeferredValue:function(n,s){var i=Vt();return dx(i,vt.memoizedState,n,s)},useTransition:function(){var n=Kc(ss)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:rl(n),s]},useSyncExternalStore:By,useId:px,useHostTransitionStatus:Th,useFormState:Wy,useActionState:Wy,useOptimistic:function(n,s){var i=Vt();return Qy(i,vt,n,s)},useMemoCache:yh,useCacheRefresh:gx};Eh.useEffectEvent=sx;var wx={readContext:dn,use:Zc,useCallback:cx,useContext:dn,useEffect:_h,useImperativeHandle:lx,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:ux,useReducer:bh,useRef:nx,useState:function(){return bh(ss)},useDebugValue:jh,useDeferredValue:function(n,s){var i=Vt();return vt===null?Nh(i,n,s):dx(i,vt.memoizedState,n,s)},useTransition:function(){var n=bh(ss)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:rl(n),s]},useSyncExternalStore:By,useId:px,useHostTransitionStatus:Th,useFormState:tx,useActionState:tx,useOptimistic:function(n,s){var i=Vt();return vt!==null?Qy(i,vt,n,s):(i.baseState=n,[n,i.queue.dispatch])},useMemoCache:yh,useCacheRefresh:gx};wx.useEffectEvent=sx;function Mh(n,s,i,c){s=n.memoizedState,i=i(c,s),i=i==null?s:_({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var Ah={enqueueSetState:function(n,s,i){n=n._reactInternals;var c=Qn(),f=Ps(c);f.payload=s,i!=null&&(f.callback=i),s=Ls(n,f,c),s!==null&&(Pn(s,n,c),tl(s,n,c))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var c=Qn(),f=Ps(c);f.tag=1,f.payload=s,i!=null&&(f.callback=i),s=Ls(n,f,c),s!==null&&(Pn(s,n,c),tl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=Qn(),c=Ps(i);c.tag=2,s!=null&&(c.callback=s),s=Ls(n,c,i),s!==null&&(Pn(s,n,i),tl(s,n,i))}};function Sx(n,s,i,c,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Go(i,c)||!Go(f,m):!0}function _x(n,s,i,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==n&&Ah.enqueueReplaceState(s,s.state,null)}function Mr(n,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(n=n.defaultProps){i===s&&(i=_({},i));for(var f in n)i[f]===void 0&&(i[f]=n[f])}return i}function jx(n){Oc(n)}function Nx(n){console.error(n)}function Cx(n){Oc(n)}function tu(n,s){try{var i=n.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Tx(n,s,i){try{var c=n.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Oh(n,s,i){return i=Ps(i),i.tag=3,i.payload={element:null},i.callback=function(){tu(n,s)},i}function kx(n){return n=Ps(n),n.tag=3,n}function Ex(n,s,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Tx(s,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Tx(s,i,c),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function F2(n,s,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&Ai(s,i,f,!0),i=Fn.current,i!==null){switch(i.tag){case 31:case 13:return da===null?hu():i.alternate===null&&It===0&&(It=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Fc?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),am(n,c,f)),!1;case 22:return i.flags|=65536,c===Fc?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),am(n,c,f)),!1}throw Error(r(435,i.tag))}return am(n,c,f),hu(),!1}if(Xe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Kf&&(n=Error(r(422),{cause:c}),Zo(oa(n,i)))):(c!==Kf&&(s=Error(r(423),{cause:c}),Zo(oa(s,i))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=oa(c,i),f=Oh(n.stateNode,c,f),lh(n,f),It!==4&&(It=2)),!1;var m=Error(r(520),{cause:c});if(m=oa(m,i),pl===null?pl=[m]:pl.push(m),It!==4&&(It=2),s===null)return!0;c=oa(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,n=f&-f,i.lanes|=n,n=Oh(i.stateNode,c,n),lh(i,n),!1;case 1:if(s=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fs===null||!Fs.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=kx(f),Ex(f,n,i,c),lh(i,f),!1}i=i.return}while(i!==null);return!1}var Dh=Error(r(461)),Jt=!1;function fn(n,s,i,c){s.child=n===null?Dy(s,null,i,c):kr(s,n.child,i,c)}function Mx(n,s,i,c,f){i=i.render;var m=s.ref;if("ref"in c){var b={};for(var N in c)N!=="ref"&&(b[N]=c[N])}else b=c;return jr(s),c=mh(n,s,i,b,m,f),N=ph(),n!==null&&!Jt?(gh(n,s,f),rs(n,s,f)):(Xe&&N&&Jf(s),s.flags|=1,fn(n,s,c,f),s.child)}function Ax(n,s,i,c,f){if(n===null){var m=i.type;return typeof m=="function"&&!Qf(m)&&m.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=m,Ox(n,s,m,c,f)):(n=Lc(i.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Vh(n,f)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:Go,i(b,c)&&n.ref===s.ref)return rs(n,s,f)}return s.flags|=1,n=Wa(m,c),n.ref=s.ref,n.return=s,s.child=n}function Ox(n,s,i,c,f){if(n!==null){var m=n.memoizedProps;if(Go(m,c)&&n.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,Vh(n,f))(n.flags&131072)!==0&&(Jt=!0);else return s.lanes=n.lanes,rs(n,s,f)}return Rh(n,s,i,c,f)}function Dx(n,s,i,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,n!==null){for(c=s.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Rx(n,s,m,i,c)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bc(s,m!==null?m.cachePool:null),m!==null?Ly(s,m):uh(),zy(s);else return c=s.lanes=536870912,Rx(n,s,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(Bc(s,m.cachePool),Ly(s,m),Is(),s.memoizedState=null):(n!==null&&Bc(s,null),uh(),Is());return fn(n,s,f,i),s.child}function ll(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Rx(n,s,i,c,f){var m=sh();return m=m===null?null:{parent:Gt._currentValue,pool:m},s.memoizedState={baseLanes:i,cachePool:m},n!==null&&Bc(s,null),uh(),zy(s),n!==null&&Ai(n,s,c,!0),s.childLanes=f,null}function nu(n,s){return s=su({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Px(n,s,i){return kr(s,n.child,null,i),n=nu(s,s.pendingProps),n.flags|=2,qn(s),s.memoizedState=null,n}function q2(n,s,i){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Xe){if(c.mode==="hidden")return n=nu(s,c),s.lanes=536870912,ll(null,n);if(fh(s),(n=Tt)?(n=Gb(n,ua),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ms!==null?{id:za,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},i=yy(n),i.return=s,s.child=i,un=s,Tt=null)):n=null,n===null)throw Os(s);return s.lanes=536870912,null}return nu(s,c)}var m=n.memoizedState;if(m!==null){var b=m.dehydrated;if(fh(s),f)if(s.flags&256)s.flags&=-257,s=Px(n,s,i);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Jt||Ai(n,s,i,!1),f=(i&n.childLanes)!==0,Jt||f){if(c=_t,c!==null&&(b=Nv(c,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,br(n,b),Pn(c,n,b),Dh;hu(),s=Px(n,s,i)}else n=m.treeContext,Tt=fa(b.nextSibling),un=s,Xe=!0,As=null,ua=!1,n!==null&&wy(s,n),s=nu(s,c),s.flags|=4096;return s}return n=Wa(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function au(n,s){var i=s.ref;if(i===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(n===null||n.ref!==i)&&(s.flags|=4194816)}}function Rh(n,s,i,c,f){return jr(s),i=mh(n,s,i,c,void 0,f),c=ph(),n!==null&&!Jt?(gh(n,s,f),rs(n,s,f)):(Xe&&c&&Jf(s),s.flags|=1,fn(n,s,i,f),s.child)}function Lx(n,s,i,c,f,m){return jr(s),s.updateQueue=null,i=Uy(s,c,i,f),Iy(n),c=ph(),n!==null&&!Jt?(gh(n,s,m),rs(n,s,m)):(Xe&&c&&Jf(s),s.flags|=1,fn(n,s,i,m),s.child)}function zx(n,s,i,c,f){if(jr(s),s.stateNode===null){var m=Ti,b=i.contextType;typeof b=="object"&&b!==null&&(m=dn(b)),m=new i(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ah,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},ih(s),b=i.contextType,m.context=typeof b=="object"&&b!==null?dn(b):Ti,m.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Mh(s,i,b,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Ah.enqueueReplaceState(m,m.state,null),al(s,c,m,f),nl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){m=s.stateNode;var N=s.memoizedProps,R=Mr(i,N);m.props=R;var H=m.context,K=i.contextType;b=Ti,typeof K=="object"&&K!==null&&(b=dn(K));var ee=i.getDerivedStateFromProps;K=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||H!==b)&&_x(s,m,c,b),Rs=!1;var $=s.memoizedState;m.state=$,al(s,c,m,f),nl(),H=s.memoizedState,N||$!==H||Rs?(typeof ee=="function"&&(Mh(s,i,ee,c),H=s.memoizedState),(R=Rs||Sx(s,i,R,c,$,H,b))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),m.props=c,m.state=H,m.context=b,c=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,oh(n,s),b=s.memoizedProps,K=Mr(i,b),m.props=K,ee=s.pendingProps,$=m.context,H=i.contextType,R=Ti,typeof H=="object"&&H!==null&&(R=dn(H)),N=i.getDerivedStateFromProps,(H=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||$!==R)&&_x(s,m,c,R),Rs=!1,$=s.memoizedState,m.state=$,al(s,c,m,f),nl();var Q=s.memoizedState;b!==ee||$!==Q||Rs||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof N=="function"&&(Mh(s,i,N,c),Q=s.memoizedState),(K=Rs||Sx(s,i,K,c,$,Q,R)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),m.props=c,m.state=Q,m.context=R,c=K):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),c=!1)}return m=c,au(n,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&c?(s.child=kr(s,n.child,null,f),s.child=kr(s,null,i,f)):fn(n,s,i,f),s.memoizedState=m.state,n=s.child):n=rs(n,s,f),n}function Ix(n,s,i,c){return Sr(),s.flags|=256,fn(n,s,i,c),s.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(n){return{baseLanes:n,cachePool:Ty()}}function zh(n,s,i){return n=n!==null?n.childLanes&~i:0,s&&(n|=$n),n}function Ux(n,s,i){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Bt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xe){if(f?zs(s):Is(),(n=Tt)?(n=Gb(n,ua),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ms!==null?{id:za,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},i=yy(n),i.return=s,s.child=i,un=s,Tt=null)):n=null,n===null)throw Os(s);return xm(n)?s.lanes=32:s.lanes=536870912,null}var N=c.children;return c=c.fallback,f?(Is(),f=s.mode,N=su({mode:"hidden",children:N},f),c=wr(c,f,i,null),N.return=s,c.return=s,N.sibling=c,s.child=N,c=s.child,c.memoizedState=Lh(i),c.childLanes=zh(n,b,i),s.memoizedState=Ph,ll(null,c)):(zs(s),Ih(s,N))}var R=n.memoizedState;if(R!==null&&(N=R.dehydrated,N!==null)){if(m)s.flags&256?(zs(s),s.flags&=-257,s=Uh(n,s,i)):s.memoizedState!==null?(Is(),s.child=n.child,s.flags|=128,s=null):(Is(),N=c.fallback,f=s.mode,c=su({mode:"visible",children:c.children},f),N=wr(N,f,i,null),N.flags|=2,c.return=s,N.return=s,c.sibling=N,s.child=c,kr(s,n.child,null,i),c=s.child,c.memoizedState=Lh(i),c.childLanes=zh(n,b,i),s.memoizedState=Ph,s=ll(null,c));else if(zs(s),xm(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var H=b.dgst;b=H,c=Error(r(419)),c.stack="",c.digest=b,Zo({value:c,source:null,stack:null}),s=Uh(n,s,i)}else if(Jt||Ai(n,s,i,!1),b=(i&n.childLanes)!==0,Jt||b){if(b=_t,b!==null&&(c=Nv(b,i),c!==0&&c!==R.retryLane))throw R.retryLane=c,br(n,c),Pn(b,n,c),Dh;ym(N)||hu(),s=Uh(n,s,i)}else ym(N)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,Tt=fa(N.nextSibling),un=s,Xe=!0,As=null,ua=!1,n!==null&&wy(s,n),s=Ih(s,c.children),s.flags|=4096);return s}return f?(Is(),N=c.fallback,f=s.mode,R=n.child,H=R.sibling,c=Wa(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,H!==null?N=Wa(H,N):(N=wr(N,f,i,null),N.flags|=2),N.return=s,c.return=s,c.sibling=N,s.child=c,ll(null,c),c=s.child,N=n.child.memoizedState,N===null?N=Lh(i):(f=N.cachePool,f!==null?(R=Gt._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=Ty(),N={baseLanes:N.baseLanes|i,cachePool:f}),c.memoizedState=N,c.childLanes=zh(n,b,i),s.memoizedState=Ph,ll(n.child,c)):(zs(s),i=n.child,n=i.sibling,i=Wa(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=i,s.memoizedState=null,i)}function Ih(n,s){return s=su({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function su(n,s){return n=Vn(22,n,null,s),n.lanes=0,n}function Uh(n,s,i){return kr(s,n.child,null,i),n=Ih(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Bx(n,s,i){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),eh(n.return,s,i)}function Bh(n,s,i,c,f,m){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=i,b.tailMode=f,b.treeForkCount=m)}function Vx(n,s,i){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=Bt.current,N=(b&2)!==0;if(N?(b=b&1|2,s.flags|=128):b&=1,g(Bt,b),fn(n,s,c,i),c=Xe?Jo:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bx(n,i,s);else if(n.tag===19)Bx(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(i=s.child,f=null;i!==null;)n=i.alternate,n!==null&&Qc(n)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),Bh(s,!1,f,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Qc(n)===null){s.child=f;break}n=f.sibling,f.sibling=i,i=f,f=n}Bh(s,!0,i,null,m,c);break;case"together":Bh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function rs(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Vs|=s.lanes,(i&s.childLanes)===0)if(n!==null){if(Ai(n,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,i=Wa(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=Wa(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function Vh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function H2(n,s,i){switch(s.tag){case 3:V(s,s.stateNode.containerInfo),Ds(s,Gt,n.memoizedState.cache),Sr();break;case 27:case 5:G(s);break;case 4:V(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(zs(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Ux(n,s,i):(zs(s),n=rs(n,s,i),n!==null?n.sibling:null);zs(s);break;case 19:var f=(n.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(Ai(n,s,i,!1),c=(i&s.childLanes)!==0),f){if(c)return Vx(n,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),g(Bt,Bt.current),c)break;return null;case 22:return s.lanes=0,Dx(n,s,i,s.pendingProps);case 24:Ds(s,Gt,n.memoizedState.cache)}return rs(n,s,i)}function Fx(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Vh(n,i)&&(s.flags&128)===0)return Jt=!1,H2(n,s,i);Jt=(n.flags&131072)!==0}else Jt=!1,Xe&&(s.flags&1048576)!==0&&by(s,Jo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Cr(s.elementType),s.type=n,typeof n=="function")Qf(n)?(c=Mr(n,c),s.tag=1,s=zx(null,s,n,c,i)):(s.tag=0,s=Rh(null,s,n,c,i));else{if(n!=null){var f=n.$$typeof;if(f===z){s.tag=11,s=Mx(null,s,n,c,i);break e}else if(f===Y){s.tag=14,s=Ax(null,s,n,c,i);break e}}throw s=ge(n)||n,Error(r(306,s,""))}}return s;case 0:return Rh(n,s,s.type,s.pendingProps,i);case 1:return c=s.type,f=Mr(c,s.pendingProps),zx(n,s,c,f,i);case 3:e:{if(V(s,s.stateNode.containerInfo),n===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,oh(n,s),al(s,c,null,i);var b=s.memoizedState;if(c=b.cache,Ds(s,Gt,c),c!==m.cache&&th(s,[Gt],i,!0),nl(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Ix(n,s,c,i);break e}else if(c!==f){f=oa(Error(r(424)),s),Zo(f),s=Ix(n,s,c,i);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Tt=fa(n.firstChild),un=s,Xe=!0,As=null,ua=!0,i=Dy(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Sr(),c===f){s=rs(n,s,i);break e}fn(n,s,c,i)}s=s.child}return s;case 26:return au(n,s),n===null?(i=Wb(s.type,null,s.pendingProps,null))?s.memoizedState=i:Xe||(i=s.type,n=s.pendingProps,c=bu(O.current).createElement(i),c[cn]=s,c[En]=n,hn(c,i,n),sn(c),s.stateNode=c):s.memoizedState=Wb(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return G(s),n===null&&Xe&&(c=s.stateNode=Zb(s.type,s.pendingProps,O.current),un=s,ua=!0,f=Tt,Qs(s.type)?(bm=f,Tt=fa(c.firstChild)):Tt=f),fn(n,s,s.pendingProps.children,i),au(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Xe&&((f=c=Tt)&&(c=bk(c,s.type,s.pendingProps,ua),c!==null?(s.stateNode=c,un=s,Tt=fa(c.firstChild),ua=!1,f=!0):f=!1),f||Os(s)),G(s),f=s.type,m=s.pendingProps,b=n!==null?n.memoizedProps:null,c=m.children,pm(f,m)?c=null:b!==null&&pm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=mh(n,s,P2,null,null,i),_l._currentValue=f),au(n,s),fn(n,s,c,i),s.child;case 6:return n===null&&Xe&&((n=i=Tt)&&(i=wk(i,s.pendingProps,ua),i!==null?(s.stateNode=i,un=s,Tt=null,n=!0):n=!1),n||Os(s)),null;case 13:return Ux(n,s,i);case 4:return V(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=kr(s,null,c,i):fn(n,s,c,i),s.child;case 11:return Mx(n,s,s.type,s.pendingProps,i);case 7:return fn(n,s,s.pendingProps,i),s.child;case 8:return fn(n,s,s.pendingProps.children,i),s.child;case 12:return fn(n,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,Ds(s,s.type,c.value),fn(n,s,c.children,i),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,jr(s),f=dn(f),c=c(f),s.flags|=1,fn(n,s,c,i),s.child;case 14:return Ax(n,s,s.type,s.pendingProps,i);case 15:return Ox(n,s,s.type,s.pendingProps,i);case 19:return Vx(n,s,i);case 31:return q2(n,s,i);case 22:return Dx(n,s,i,s.pendingProps);case 24:return jr(s),c=dn(Gt),n===null?(f=sh(),f===null&&(f=_t,m=nh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),s.memoizedState={parent:c,cache:f},ih(s),Ds(s,Gt,f)):((n.lanes&i)!==0&&(oh(n,s),al(s,null,null,i),nl()),f=n.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ds(s,Gt,c)):(c=m.cache,Ds(s,Gt,c),c!==f.cache&&th(s,[Gt],i,!0))),fn(n,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function is(n){n.flags|=4}function Fh(n,s,i,c,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(pb())n.flags|=8192;else throw Tr=Fc,rh}else n.flags&=-16777217}function qx(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!s0(s))if(pb())n.flags|=8192;else throw Tr=Fc,rh}function ru(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Sv():536870912,n.lanes|=s,qi|=s)}function cl(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function kt(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,c=0;if(s)for(var f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=i,s}function $2(n,s,i){var c=s.pendingProps;switch(Zf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(s),null;case 1:return kt(s),null;case 3:return i=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ns(Gt),J(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Mi(s)?is(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xf())),kt(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(is(s),m!==null?(kt(s),qx(s,m)):(kt(s),Fh(s,f,null,c,i))):m?m!==n.memoizedState?(is(s),kt(s),qx(s,m)):(kt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&is(s),kt(s),Fh(s,f,n,c,i)),null;case 27:if(ie(s),i=O.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&is(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return kt(s),null}n=S.current,Mi(s)?Sy(s):(n=Zb(f,c,i),s.stateNode=n,is(s))}return kt(s),null;case 5:if(ie(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&is(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return kt(s),null}if(m=S.current,Mi(s))Sy(s);else{var b=bu(O.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[cn]=s,m[En]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(hn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&is(s)}}return kt(s),Fh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,i),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&is(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(n=O.current,Mi(s)){if(n=s.stateNode,i=s.memoizedProps,c=null,f=un,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[cn]=s,n=!!(n.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Ub(n.nodeValue,i)),n||Os(s,!0)}else n=bu(n).createTextNode(c),n[cn]=s,s.stateNode=n}return kt(s),null;case 31:if(i=s.memoizedState,n===null||n.memoizedState!==null){if(c=Mi(s),i!==null){if(n===null){if(!c)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[cn]=s}else Sr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),n=!1}else i=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),n=!0;if(!n)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return kt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Mi(s),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[cn]=s}else Sr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),f=!1}else f=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=i,s):(i=c!==null,n=n!==null&&n.memoizedState!==null,i&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),i!==n&&i&&(s.child.flags|=8192),ru(s,s.updateQueue),kt(s),null);case 4:return J(),n===null&&um(s.stateNode.containerInfo),kt(s),null;case 10:return ns(s.type),kt(s),null;case 19:if(le(Bt),c=s.memoizedState,c===null)return kt(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)cl(c,!1);else{if(It!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Qc(n),m!==null){for(s.flags|=128,cl(c,!1),n=m.updateQueue,s.updateQueue=n,ru(s,n),s.subtreeFlags=0,n=i,i=s.child;i!==null;)vy(i,n),i=i.sibling;return g(Bt,Bt.current&1|2),Xe&&es(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&Lt()>uu&&(s.flags|=128,f=!0,cl(c,!1),s.lanes=4194304)}else{if(!f)if(n=Qc(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,ru(s,n),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Xe)return kt(s),null}else 2*Lt()-c.renderingStartTime>uu&&i!==536870912&&(s.flags|=128,f=!0,cl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(n=c.last,n!==null?n.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Lt(),n.sibling=null,i=Bt.current,g(Bt,f?i&1|2:i&1),Xe&&es(s,c.treeForkCount),n):(kt(s),null);case 22:case 23:return qn(s),dh(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(kt(s),s.subtreeFlags&6&&(s.flags|=8192)):kt(s),i=s.updateQueue,i!==null&&ru(s,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),n!==null&&le(Nr),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),ns(Gt),kt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Q2(n,s){switch(Zf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ns(Gt),J(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ie(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(r(340));Sr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(qn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Sr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return le(Bt),null;case 4:return J(),null;case 10:return ns(s.type),null;case 22:case 23:return qn(s),dh(),n!==null&&le(Nr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ns(Gt),null;case 25:return null;default:return null}}function Hx(n,s){switch(Zf(s),s.tag){case 3:ns(Gt),J();break;case 26:case 27:case 5:ie(s);break;case 4:J();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:le(Bt);break;case 10:ns(s.type);break;case 22:case 23:qn(s),dh(),n!==null&&le(Nr);break;case 24:ns(Gt)}}function ul(n,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&n)===n){c=void 0;var m=i.create,b=i.inst;c=m(),b.destroy=c}i=i.next}while(i!==f)}}catch(N){ht(s,s.return,N)}}function Us(n,s,i){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var b=c.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,f=s;var R=i,H=N;try{H()}catch(K){ht(f,R,K)}}}c=c.next}while(c!==m)}}catch(K){ht(s,s.return,K)}}function $x(n){var s=n.updateQueue;if(s!==null){var i=n.stateNode;try{Py(s,i)}catch(c){ht(n,n.return,c)}}}function Qx(n,s,i){i.props=Mr(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(c){ht(n,s,c)}}function dl(n,s){try{var i=n.ref;if(i!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof i=="function"?n.refCleanup=i(c):i.current=c}}catch(f){ht(n,s,f)}}function Ua(n,s){var i=n.ref,c=n.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){ht(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ht(n,s,f)}else i.current=null}function Gx(n){var s=n.type,i=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){ht(n,n.return,f)}}function qh(n,s,i){try{var c=n.stateNode;mk(c,n.type,i,s),c[En]=s}catch(f){ht(n,n.return,f)}}function Yx(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qs(n.type)||n.tag===4}function Hh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $h(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(n,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(n),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Ka));else if(c!==4&&(c===27&&Qs(n.type)&&(i=n.stateNode,s=null),n=n.child,n!==null))for($h(n,s,i),n=n.sibling;n!==null;)$h(n,s,i),n=n.sibling}function iu(n,s,i){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(c!==4&&(c===27&&Qs(n.type)&&(i=n.stateNode),n=n.child,n!==null))for(iu(n,s,i),n=n.sibling;n!==null;)iu(n,s,i),n=n.sibling}function Jx(n){var s=n.stateNode,i=n.memoizedProps;try{for(var c=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);hn(s,c,i),s[cn]=n,s[En]=i}catch(m){ht(n,n.return,m)}}var os=!1,Zt=!1,Qh=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,rn=null;function G2(n,s){if(n=n.containerInfo,hm=Tu,n=ly(n),Uf(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,N=-1,R=-1,H=0,K=0,ee=n,$=null;t:for(;;){for(var Q;ee!==i||f!==0&&ee.nodeType!==3||(N=b+f),ee!==m||c!==0&&ee.nodeType!==3||(R=b+c),ee.nodeType===3&&(b+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)$=ee,ee=Q;for(;;){if(ee===n)break t;if($===i&&++H===f&&(N=b),$===m&&++K===c&&(R=b),(Q=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=Q}i=N===-1||R===-1?null:{start:N,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(mm={focusedElem:n,selectionRange:i},Tu=!1,rn=s;rn!==null;)if(s=rn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,rn=n;else for(;rn!==null;){switch(s=rn,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(i=0;i<n.length;i++)f=n[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,i=s,f=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var ve=Mr(i.type,f);n=c.getSnapshotBeforeUpdate(ve,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(ke){ht(i,i.return,ke)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,i=n.nodeType,i===9)vm(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,rn=n;break}rn=s.return}}function Kx(n,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:cs(n,i),c&4&&ul(5,i);break;case 1:if(cs(n,i),c&4)if(n=i.stateNode,s===null)try{n.componentDidMount()}catch(b){ht(i,i.return,b)}else{var f=Mr(i.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ht(i,i.return,b)}}c&64&&$x(i),c&512&&dl(i,i.return);break;case 3:if(cs(n,i),c&64&&(n=i.updateQueue,n!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{Py(n,s)}catch(b){ht(i,i.return,b)}}break;case 27:s===null&&c&4&&Jx(i);case 26:case 5:cs(n,i),s===null&&c&4&&Gx(i),c&512&&dl(i,i.return);break;case 12:cs(n,i);break;case 31:cs(n,i),c&4&&eb(n,i);break;case 13:cs(n,i),c&4&&tb(n,i),c&64&&(n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(i=nk.bind(null,i),Sk(n,i))));break;case 22:if(c=i.memoizedState!==null||os,!c){s=s!==null&&s.memoizedState!==null||Zt,f=os;var m=Zt;os=c,(Zt=s)&&!m?us(n,i,(i.subtreeFlags&8772)!==0):cs(n,i),os=f,Zt=m}break;case 30:break;default:cs(n,i)}}function Xx(n){var s=n.alternate;s!==null&&(n.alternate=null,Xx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Sf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,An=!1;function ls(n,s,i){for(i=i.child;i!==null;)Wx(n,s,i),i=i.sibling}function Wx(n,s,i){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Po,i)}catch{}switch(i.tag){case 26:Zt||Ua(i,s),ls(n,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Zt||Ua(i,s);var c=Et,f=An;Qs(i.type)&&(Et=i.stateNode,An=!1),ls(n,s,i),bl(i.stateNode),Et=c,An=f;break;case 5:Zt||Ua(i,s);case 6:if(c=Et,f=An,Et=null,ls(n,s,i),Et=c,An=f,Et!==null)if(An)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(i.stateNode)}catch(m){ht(i,s,m)}else try{Et.removeChild(i.stateNode)}catch(m){ht(i,s,m)}break;case 18:Et!==null&&(An?(n=Et,$b(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.stateNode),Ki(n)):$b(Et,i.stateNode));break;case 4:c=Et,f=An,Et=i.stateNode.containerInfo,An=!0,ls(n,s,i),Et=c,An=f;break;case 0:case 11:case 14:case 15:Us(2,i,s),Zt||Us(4,i,s),ls(n,s,i);break;case 1:Zt||(Ua(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Qx(i,s,c)),ls(n,s,i);break;case 21:ls(n,s,i);break;case 22:Zt=(c=Zt)||i.memoizedState!==null,ls(n,s,i),Zt=c;break;default:ls(n,s,i)}}function eb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ki(n)}catch(i){ht(s,s.return,i)}}}function tb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ki(n)}catch(i){ht(s,s.return,i)}}function Y2(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Zx),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Zx),s;default:throw Error(r(435,n.tag))}}function ou(n,s){var i=Y2(n);s.forEach(function(c){if(!i.has(c)){i.add(c);var f=ak.bind(null,n,c);c.then(f,f)}})}function On(n,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],m=n,b=s,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(Qs(N.type)){Et=N.stateNode,An=!1;break e}break;case 5:Et=N.stateNode,An=!1;break e;case 3:case 4:Et=N.stateNode.containerInfo,An=!0;break e}N=N.return}if(Et===null)throw Error(r(160));Wx(m,b,f),Et=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)nb(s,n),s=s.sibling}var ja=null;function nb(n,s){var i=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(s,n),Dn(n),c&4&&(Us(3,n,n.return),ul(3,n),Us(5,n,n.return));break;case 1:On(s,n),Dn(n),c&512&&(Zt||i===null||Ua(i,i.return)),c&64&&os&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=ja;if(On(s,n),Dn(n),c&512&&(Zt||i===null||Ua(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=n.memoizedState,i===null)if(c===null)if(n.stateNode===null){e:{c=n.type,i=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Io]||m[cn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),hn(m,c,i),m[cn]=n,sn(m),c=m;break e;case"link":var b=n0("link","href",f).get(c+(i.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(N,1);break t}}m=f.createElement(c),hn(m,c,i),f.head.appendChild(m);break;case"meta":if(b=n0("meta","content",f).get(c+(i.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(N,1);break t}}m=f.createElement(c),hn(m,c,i),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[cn]=n,sn(m),c=m}n.stateNode=c}else a0(f,n.type,n.stateNode);else n.stateNode=t0(f,c,n.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?a0(f,n.type,n.stateNode):t0(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&qh(n,n.memoizedProps,i.memoizedProps)}break;case 27:On(s,n),Dn(n),c&512&&(Zt||i===null||Ua(i,i.return)),i!==null&&c&4&&qh(n,n.memoizedProps,i.memoizedProps);break;case 5:if(On(s,n),Dn(n),c&512&&(Zt||i===null||Ua(i,i.return)),n.flags&32){f=n.stateNode;try{bi(f,"")}catch(ve){ht(n,n.return,ve)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,qh(n,f,i!==null?i.memoizedProps:f)),c&1024&&(Qh=!0);break;case 6:if(On(s,n),Dn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,i=n.stateNode;try{i.nodeValue=c}catch(ve){ht(n,n.return,ve)}}break;case 3:if(_u=null,f=ja,ja=wu(s.containerInfo),On(s,n),ja=f,Dn(n),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Ki(s.containerInfo)}catch(ve){ht(n,n.return,ve)}Qh&&(Qh=!1,ab(n));break;case 4:c=ja,ja=wu(n.stateNode.containerInfo),On(s,n),Dn(n),ja=c;break;case 12:On(s,n),Dn(n);break;case 31:On(s,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ou(n,c)));break;case 13:On(s,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(cu=Lt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ou(n,c)));break;case 22:f=n.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,H=os,K=Zt;if(os=H||f,Zt=K||R,On(s,n),Zt=K,os=H,Dn(n),c&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(i===null||R||os||Zt||Ar(n)),i=null,s=n;;){if(s.tag===5||s.tag===26){if(i===null){R=i=s;try{if(m=R.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=R.stateNode;var ee=R.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ve){ht(R,R.return,ve)}}}else if(s.tag===6){if(i===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(ve){ht(R,R.return,ve)}}}else if(s.tag===18){if(i===null){R=s;try{var Q=R.stateNode;f?Qb(Q,!0):Qb(R.stateNode,!1)}catch(ve){ht(R,R.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,ou(n,i))));break;case 19:On(s,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ou(n,c)));break;case 30:break;case 21:break;default:On(s,n),Dn(n)}}function Dn(n){var s=n.flags;if(s&2){try{for(var i,c=n.return;c!==null;){if(Yx(c)){i=c;break}c=c.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var f=i.stateNode,m=Hh(n);iu(n,m,f);break;case 5:var b=i.stateNode;i.flags&32&&(bi(b,""),i.flags&=-33);var N=Hh(n);iu(n,N,b);break;case 3:case 4:var R=i.stateNode.containerInfo,H=Hh(n);$h(n,H,R);break;default:throw Error(r(161))}}catch(K){ht(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ab(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ab(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function cs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Kx(n,s.alternate,s),s=s.sibling}function Ar(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),Ar(s);break;case 1:Ua(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Qx(s,s.return,i),Ar(s);break;case 27:bl(s.stateNode);case 26:case 5:Ua(s,s.return),Ar(s);break;case 22:s.memoizedState===null&&Ar(s);break;case 30:Ar(s);break;default:Ar(s)}n=n.sibling}}function us(n,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=n,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:us(f,m,i),ul(4,m);break;case 1:if(us(f,m,i),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ht(c,c.return,H)}if(c=m,f=c.updateQueue,f!==null){var N=c.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Ry(R[f],N)}catch(H){ht(c,c.return,H)}}i&&b&64&&$x(m),dl(m,m.return);break;case 27:Jx(m);case 26:case 5:us(f,m,i),i&&c===null&&b&4&&Gx(m),dl(m,m.return);break;case 12:us(f,m,i);break;case 31:us(f,m,i),i&&b&4&&eb(f,m);break;case 13:us(f,m,i),i&&b&4&&tb(f,m);break;case 22:m.memoizedState===null&&us(f,m,i),dl(m,m.return);break;case 30:break;default:us(f,m,i)}s=s.sibling}}function Gh(n,s){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&Ko(i))}function Yh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ko(n))}function Na(n,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sb(n,s,i,c),s=s.sibling}function sb(n,s,i,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Na(n,s,i,c),f&2048&&ul(9,s);break;case 1:Na(n,s,i,c);break;case 3:Na(n,s,i,c),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ko(n)));break;case 12:if(f&2048){Na(n,s,i,c),n=s.stateNode;try{var m=s.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){ht(s,s.return,R)}}else Na(n,s,i,c);break;case 31:Na(n,s,i,c);break;case 13:Na(n,s,i,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Na(n,s,i,c):fl(n,s):m._visibility&2?Na(n,s,i,c):(m._visibility|=2,Bi(n,s,i,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Gh(b,s);break;case 24:Na(n,s,i,c),f&2048&&Yh(s.alternate,s);break;default:Na(n,s,i,c)}}function Bi(n,s,i,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,b=s,N=i,R=c,H=b.flags;switch(b.tag){case 0:case 11:case 15:Bi(m,b,N,R,f),ul(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?Bi(m,b,N,R,f):fl(m,b):(K._visibility|=2,Bi(m,b,N,R,f)),f&&H&2048&&Gh(b.alternate,b);break;case 24:Bi(m,b,N,R,f),f&&H&2048&&Yh(b.alternate,b);break;default:Bi(m,b,N,R,f)}s=s.sibling}}function fl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=n,c=s,f=c.flags;switch(c.tag){case 22:fl(i,c),f&2048&&Gh(c.alternate,c);break;case 24:fl(i,c),f&2048&&Yh(c.alternate,c);break;default:fl(i,c)}s=s.sibling}}var hl=8192;function Vi(n,s,i){if(n.subtreeFlags&hl)for(n=n.child;n!==null;)rb(n,s,i),n=n.sibling}function rb(n,s,i){switch(n.tag){case 26:Vi(n,s,i),n.flags&hl&&n.memoizedState!==null&&Rk(i,ja,n.memoizedState,n.memoizedProps);break;case 5:Vi(n,s,i);break;case 3:case 4:var c=ja;ja=wu(n.stateNode.containerInfo),Vi(n,s,i),ja=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=hl,hl=16777216,Vi(n,s,i),hl=c):Vi(n,s,i));break;default:Vi(n,s,i)}}function ib(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ml(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];rn=c,lb(c,n)}ib(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ob(n),n=n.sibling}function ob(n){switch(n.tag){case 0:case 11:case 15:ml(n),n.flags&2048&&Us(9,n,n.return);break;case 3:ml(n);break;case 12:ml(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,lu(n)):ml(n);break;default:ml(n)}}function lu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];rn=c,lb(c,n)}ib(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Us(8,s,s.return),lu(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,lu(s));break;default:lu(s)}n=n.sibling}}function lb(n,s){for(;rn!==null;){var i=rn;switch(i.tag){case 0:case 11:case 15:Us(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ko(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,rn=c;else e:for(i=n;rn!==null;){c=rn;var f=c.sibling,m=c.return;if(Xx(c),c===i){rn=null;break e}if(f!==null){f.return=m,rn=f;break e}rn=m}}}var J2={getCacheForType:function(n){var s=dn(Gt),i=s.data.get(n);return i===void 0&&(i=n(),s.data.set(n,i)),i},cacheSignal:function(){return dn(Gt).controller.signal}},Z2=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Ge=null,Je=0,ft=0,Hn=null,Bs=!1,Fi=!1,Jh=!1,ds=0,It=0,Vs=0,Or=0,Zh=0,$n=0,qi=0,pl=null,Rn=null,Kh=!1,cu=0,cb=0,uu=1/0,du=null,Fs=null,en=0,qs=null,Hi=null,fs=0,Xh=0,Wh=null,ub=null,gl=0,em=null;function Qn(){return(lt&2)!==0&&Je!==0?Je&-Je:B.T!==null?im():Cv()}function db(){if($n===0)if((Je&536870912)===0||Xe){var n=xc;xc<<=1,(xc&3932160)===0&&(xc=262144),$n=n}else $n=536870912;return n=Fn.current,n!==null&&(n.flags|=32),$n}function Pn(n,s,i){(n===_t&&(ft===2||ft===9)||n.cancelPendingCommit!==null)&&($i(n,0),Hs(n,Je,$n,!1)),zo(n,i),((lt&2)===0||n!==_t)&&(n===_t&&((lt&2)===0&&(Or|=i),It===4&&Hs(n,Je,$n,!1)),Ba(n))}function fb(n,s,i){if((lt&6)!==0)throw Error(r(327));var c=!i&&(s&127)===0&&(s&n.expiredLanes)===0||Lo(n,s),f=c?W2(n,s):nm(n,s,!0),m=c;do{if(f===0){Fi&&!c&&Hs(n,s,0,!1);break}else{if(i=n.current.alternate,m&&!K2(i)){f=nm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var N=n;f=pl;var R=N.current.memoizedState.isDehydrated;if(R&&($i(N,b).flags|=256),b=nm(N,b,!1),b!==2){if(Jh&&!R){N.errorRecoveryDisabledLanes|=m,Or|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){$i(n,0),Hs(n,s,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Hs(c,s,$n,!Bs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=cu+300-Lt(),10<f)){if(Hs(c,s,$n,!Bs),wc(c,0,!0)!==0)break e;fs=s,c.timeoutHandle=qb(hb.bind(null,c,i,Rn,du,Kh,s,$n,Or,qi,Bs,m,"Throttled",-0,0),f);break e}hb(c,i,Rn,du,Kh,s,$n,Or,qi,Bs,m,null,-0,0)}}break}while(!0);Ba(n)}function hb(n,s,i,c,f,m,b,N,R,H,K,ee,$,Q){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ka},rb(s,m,ee);var ve=(m&62914560)===m?cu-Lt():(m&4194048)===m?cb-Lt():0;if(ve=Pk(ee,ve),ve!==null){fs=m,n.cancelPendingCommit=ve(wb.bind(null,n,s,m,i,c,f,b,N,R,K,ee,null,$,Q)),Hs(n,m,b,!H);return}}wb(n,s,m,i,c,f,b,N,R)}function K2(n){for(var s=n;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],m=f.getSnapshot;f=f.value;try{if(!Bn(m(),f))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(n,s,i,c){s&=~Zh,s&=~Or,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var f=s;0<f;){var m=31-Un(f),b=1<<m;c[m]=-1,f&=~b}i!==0&&_v(n,i,s)}function fu(){return(lt&6)===0?(vl(0),!1):!0}function tm(){if(Ge!==null){if(ft===0)var n=Ge.return;else n=Ge,ts=_r=null,vh(n),Pi=null,Wo=0,n=Ge;for(;n!==null;)Hx(n.alternate,n),n=n.return;Ge=null}}function $i(n,s){var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,vk(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),fs=0,tm(),_t=n,Ge=i=Wa(n.current,null),Je=s,ft=0,Hn=null,Bs=!1,Fi=Lo(n,s),Jh=!1,qi=$n=Zh=Or=Vs=It=0,Rn=pl=null,Kh=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var f=31-Un(c),m=1<<f;s|=n[f],c&=~m}return ds=s,Dc(),i}function mb(n,s){Ie=null,B.H=ol,s===Ri||s===Vc?(s=My(),ft=3):s===rh?(s=My(),ft=4):ft=s===Dh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Ge===null&&(It=1,tu(n,oa(s,n.current)))}function pb(){var n=Fn.current;return n===null?!0:(Je&4194048)===Je?da===null:(Je&62914560)===Je||(Je&536870912)!==0?n===da:!1}function gb(){var n=B.H;return B.H=ol,n===null?ol:n}function vb(){var n=B.A;return B.A=J2,n}function hu(){It=4,Bs||(Je&4194048)!==Je&&Fn.current!==null||(Fi=!0),(Vs&134217727)===0&&(Or&134217727)===0||_t===null||Hs(_t,Je,$n,!1)}function nm(n,s,i){var c=lt;lt|=2;var f=gb(),m=vb();(_t!==n||Je!==s)&&(du=null,$i(n,s)),s=!1;var b=It;e:do try{if(ft!==0&&Ge!==null){var N=Ge,R=Hn;switch(ft){case 8:tm(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var H=ft;if(ft=0,Hn=null,Qi(n,N,R,H),i&&Fi){b=0;break e}break;default:H=ft,ft=0,Hn=null,Qi(n,N,R,H)}}X2(),b=It;break}catch(K){mb(n,K)}while(!0);return s&&n.shellSuspendCounter++,ts=_r=null,lt=c,B.H=f,B.A=m,Ge===null&&(_t=null,Je=0,Dc()),b}function X2(){for(;Ge!==null;)yb(Ge)}function W2(n,s){var i=lt;lt|=2;var c=gb(),f=vb();_t!==n||Je!==s?(du=null,uu=Lt()+500,$i(n,s)):Fi=Lo(n,s);e:do try{if(ft!==0&&Ge!==null){s=Ge;var m=Hn;t:switch(ft){case 1:ft=0,Hn=null,Qi(n,s,m,1);break;case 2:case 9:if(ky(m)){ft=0,Hn=null,xb(s);break}s=function(){ft!==2&&ft!==9||_t!==n||(ft=7),Ba(n)},m.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:ky(m)?(ft=0,Hn=null,xb(s)):(ft=0,Hn=null,Qi(n,s,m,7));break;case 5:var b=null;switch(Ge.tag){case 26:b=Ge.memoizedState;case 5:case 27:var N=Ge;if(b?s0(b):N.stateNode.complete){ft=0,Hn=null;var R=N.sibling;if(R!==null)Ge=R;else{var H=N.return;H!==null?(Ge=H,mu(H)):Ge=null}break t}}ft=0,Hn=null,Qi(n,s,m,5);break;case 6:ft=0,Hn=null,Qi(n,s,m,6);break;case 8:tm(),It=6;break e;default:throw Error(r(462))}}ek();break}catch(K){mb(n,K)}while(!0);return ts=_r=null,B.H=c,B.A=f,lt=i,Ge!==null?0:(_t=null,Je=0,Dc(),It)}function ek(){for(;Ge!==null&&!gt();)yb(Ge)}function yb(n){var s=Fx(n.alternate,n,ds);n.memoizedProps=n.pendingProps,s===null?mu(n):Ge=s}function xb(n){var s=n,i=s.alternate;switch(s.tag){case 15:case 0:s=Lx(i,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=Lx(i,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:vh(s);default:Hx(i,s),s=Ge=vy(s,ds),s=Fx(i,s,ds)}n.memoizedProps=n.pendingProps,s===null?mu(n):Ge=s}function Qi(n,s,i,c){ts=_r=null,vh(s),Pi=null,Wo=0;var f=s.return;try{if(F2(n,f,s,i,Je)){It=1,tu(n,oa(i,n.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;It=1,tu(n,oa(i,n.current)),Ge=null;return}s.flags&32768?(Xe||c===1?n=!0:Fi||(Je&536870912)!==0?n=!1:(Bs=n=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),bb(s,n)):mu(s)}function mu(n){var s=n;do{if((s.flags&32768)!==0){bb(s,Bs);return}n=s.return;var i=$2(s.alternate,s,ds);if(i!==null){Ge=i;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=n}while(s!==null);It===0&&(It=5)}function bb(n,s){do{var i=Q2(n.alternate,n);if(i!==null){i.flags&=32767,Ge=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=i}while(n!==null);It=6,Ge=null}function wb(n,s,i,c,f,m,b,N,R){n.cancelPendingCommit=null;do pu();while(en!==0);if((lt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Hf,DT(n,i,m,b,N,R),n===_t&&(Ge=_t=null,Je=0),Hi=s,qs=n,fs=i,Xh=m,Wh=f,ub=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,sk(vc,function(){return Cb(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=ne.p,ne.p=2,b=lt,lt|=4;try{G2(n,s,i)}finally{lt=b,ne.p=f,B.T=c}}en=1,Sb(),_b(),jb()}}function Sb(){if(en===1){en=0;var n=qs,s=Hi,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=ne.p;ne.p=2;var f=lt;lt|=4;try{nb(s,n);var m=mm,b=ly(n.containerInfo),N=m.focusedElem,R=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&oy(N.ownerDocument.documentElement,N)){if(R!==null&&Uf(N)){var H=R.start,K=R.end;if(K===void 0&&(K=H),"selectionStart"in N)N.selectionStart=H,N.selectionEnd=Math.min(K,N.value.length);else{var ee=N.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var Q=$.getSelection(),ve=N.textContent.length,ke=Math.min(R.start,ve),xt=R.end===void 0?ke:Math.min(R.end,ve);!Q.extend&&ke>xt&&(b=xt,xt=ke,ke=b);var I=iy(N,ke),L=iy(N,xt);if(I&&L&&(Q.rangeCount!==1||Q.anchorNode!==I.node||Q.anchorOffset!==I.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var q=ee.createRange();q.setStart(I.node,I.offset),Q.removeAllRanges(),ke>xt?(Q.addRange(q),Q.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Q.addRange(q))}}}}for(ee=[],Q=N;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ee.length;N++){var W=ee[N];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tu=!!hm,mm=hm=null}finally{lt=f,ne.p=c,B.T=i}}n.current=s,en=2}}function _b(){if(en===2){en=0;var n=qs,s=Hi,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=ne.p;ne.p=2;var f=lt;lt|=4;try{Kx(n,s.alternate,s)}finally{lt=f,ne.p=c,B.T=i}}en=3}}function jb(){if(en===4||en===3){en=0,zn();var n=qs,s=Hi,i=fs,c=ub;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,Hi=qs=null,Nb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Fs=null),bf(i),s=s.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Po,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,f=ne.p,ne.p=2,B.T=null;try{for(var m=n.onRecoverableError,b=0;b<c.length;b++){var N=c[b];m(N.value,{componentStack:N.stack})}}finally{B.T=s,ne.p=f}}(fs&3)!==0&&pu(),Ba(n),f=n.pendingLanes,(i&261930)!==0&&(f&42)!==0?n===em?gl++:(gl=0,em=n):gl=0,vl(0)}}function Nb(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ko(s)))}function pu(){return Sb(),_b(),jb(),Cb()}function Cb(){if(en!==5)return!1;var n=qs,s=Xh;Xh=0;var i=bf(fs),c=B.T,f=ne.p;try{ne.p=32>i?32:i,B.T=null,i=Wh,Wh=null;var m=qs,b=fs;if(en=0,Hi=qs=null,fs=0,(lt&6)!==0)throw Error(r(331));var N=lt;if(lt|=4,ob(m.current),sb(m,m.current,b,i),lt=N,vl(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Po,m)}catch{}return!0}finally{ne.p=f,B.T=c,Nb(n,s)}}function Tb(n,s,i){s=oa(i,s),s=Oh(n.stateNode,s,2),n=Ls(n,s,2),n!==null&&(zo(n,2),Ba(n))}function ht(n,s,i){if(n.tag===3)Tb(n,n,i);else for(;s!==null;){if(s.tag===3){Tb(s,n,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fs===null||!Fs.has(c))){n=oa(i,n),i=kx(2),c=Ls(s,i,2),c!==null&&(Ex(i,c,s,n),zo(c,2),Ba(c));break}}s=s.return}}function am(n,s,i){var c=n.pingCache;if(c===null){c=n.pingCache=new Z2;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(Jh=!0,f.add(i),n=tk.bind(null,n,s,i),s.then(n,n))}function tk(n,s,i){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,_t===n&&(Je&i)===i&&(It===4||It===3&&(Je&62914560)===Je&&300>Lt()-cu?(lt&2)===0&&$i(n,0):Zh|=i,qi===Je&&(qi=0)),Ba(n)}function kb(n,s){s===0&&(s=Sv()),n=br(n,s),n!==null&&(zo(n,s),Ba(n))}function nk(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),kb(n,i)}function ak(n,s){var i=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),kb(n,i)}function sk(n,s){return Le(n,s)}var gu=null,Gi=null,sm=!1,vu=!1,rm=!1,$s=0;function Ba(n){n!==Gi&&n.next===null&&(Gi===null?gu=Gi=n:Gi=Gi.next=n),vu=!0,sm||(sm=!0,ik())}function vl(n,s){if(!rm&&vu){rm=!0;do for(var i=!1,c=gu;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,N=c.pingedLanes;m=(1<<31-Un(42|n)+1)-1,m&=f&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Ob(c,m))}else m=Je,m=wc(c,c===_t?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Lo(c,m)||(i=!0,Ob(c,m));c=c.next}while(i);rm=!1}}function rk(){Eb()}function Eb(){vu=sm=!1;var n=0;$s!==0&&gk()&&(n=$s);for(var s=Lt(),i=null,c=gu;c!==null;){var f=c.next,m=Mb(c,s);m===0?(c.next=null,i===null?gu=f:i.next=f,f===null&&(Gi=i)):(i=c,(n!==0||(m&3)!==0)&&(vu=!0)),c=f}en!==0&&en!==5||vl(n),$s!==0&&($s=0)}function Mb(n,s){for(var i=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Un(m),N=1<<b,R=f[b];R===-1?((N&i)===0||(N&c)!==0)&&(f[b]=OT(N,s)):R<=s&&(n.expiredLanes|=N),m&=~N}if(s=_t,i=Je,i=wc(n,n===s?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,i===0||n===s&&(ft===2||ft===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&St(c),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||Lo(n,i)){if(s=i&-i,s===n.callbackPriority)return s;switch(c!==null&&St(c),bf(i)){case 2:case 8:i=bv;break;case 32:i=vc;break;case 268435456:i=wv;break;default:i=vc}return c=Ab.bind(null,n),i=Le(i,c),n.callbackPriority=s,n.callbackNode=i,s}return c!==null&&c!==null&&St(c),n.callbackPriority=2,n.callbackNode=null,2}function Ab(n,s){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var i=n.callbackNode;if(pu()&&n.callbackNode!==i)return null;var c=Je;return c=wc(n,n===_t?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(fb(n,c,s),Mb(n,Lt()),n.callbackNode!=null&&n.callbackNode===i?Ab.bind(null,n):null)}function Ob(n,s){if(pu())return null;fb(n,s,!0)}function ik(){yk(function(){(lt&6)!==0?Le(gc,rk):Eb()})}function im(){if($s===0){var n=Oi;n===0&&(n=yc,yc<<=1,(yc&261888)===0&&(yc=256)),$s=n}return $s}function Db(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Nc(""+n)}function Rb(n,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,n.id&&i.setAttribute("form",n.id),s.parentNode.insertBefore(i,s),n=new FormData(n),i.parentNode.removeChild(i),n}function ok(n,s,i,c,f){if(s==="submit"&&i&&i.stateNode===f){var m=Db((f[En]||null).action),b=c.submitter;b&&(s=(s=b[En]||null)?Db(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var N=new Ec("action","action",null,c,f);n.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($s!==0){var R=b?Rb(f,b):new FormData(f);Ch(i,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(N.preventDefault(),R=b?Rb(f,b):new FormData(f),Ch(i,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var om=0;om<qf.length;om++){var lm=qf[om],lk=lm.toLowerCase(),ck=lm[0].toUpperCase()+lm.slice(1);_a(lk,"on"+ck)}_a(dy,"onAnimationEnd"),_a(fy,"onAnimationIteration"),_a(hy,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(N2,"onTransitionRun"),_a(C2,"onTransitionStart"),_a(T2,"onTransitionCancel"),_a(my,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Pb(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var c=n[i],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var N=c[b],R=N.instance,H=N.currentTarget;if(N=N.listener,R!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=H;try{m(f)}catch(K){Oc(K)}f.currentTarget=null,m=R}else for(b=0;b<c.length;b++){if(N=c[b],R=N.instance,H=N.currentTarget,N=N.listener,R!==m&&f.isPropagationStopped())break e;m=N,f.currentTarget=H;try{m(f)}catch(K){Oc(K)}f.currentTarget=null,m=R}}}}function Ye(n,s){var i=s[wf];i===void 0&&(i=s[wf]=new Set);var c=n+"__bubble";i.has(c)||(Lb(s,n,2,!1),i.add(c))}function cm(n,s,i){var c=0;s&&(c|=4),Lb(i,n,c,s)}var yu="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[yu]){n[yu]=!0,Ev.forEach(function(i){i!=="selectionchange"&&(uk.has(i)||cm(i,!1,n),cm(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[yu]||(s[yu]=!0,cm("selectionchange",!1,s))}}function Lb(n,s,i,c){switch(d0(s)){case 2:var f=Ik;break;case 8:f=Uk;break;default:f=Nm}i=f.bind(null,s,i,n),f=void 0,!Mf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,i,{capture:!0,passive:f}):n.addEventListener(s,i,!0):f!==void 0?n.addEventListener(s,i,{passive:f}):n.addEventListener(s,i,!1)}function dm(n,s,i,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var N=c.stateNode.containerInfo;if(N===f)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;N!==null;){if(b=pi(N),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){c=m=b;continue e}N=N.parentNode}}c=c.return}Vv(function(){var H=m,K=kf(i),ee=[];e:{var $=py.get(n);if($!==void 0){var Q=Ec,ve=n;switch(n){case"keypress":if(Tc(i)===0)break e;case"keydown":case"keyup":Q=a2;break;case"focusin":ve="focus",Q=Rf;break;case"focusout":ve="blur",Q=Rf;break;case"beforeblur":case"afterblur":Q=Rf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=i2;break;case dy:case fy:case hy:Q=YT;break;case my:Q=l2;break;case"scroll":case"scrollend":Q=qT;break;case"wheel":Q=u2;break;case"copy":case"cut":case"paste":Q=ZT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qv;break;case"toggle":case"beforetoggle":Q=f2}var ke=(s&4)!==0,xt=!ke&&(n==="scroll"||n==="scrollend"),I=ke?$!==null?$+"Capture":null:$;ke=[];for(var L=H,q;L!==null;){var W=L;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||I===null||(W=Bo(L,I),W!=null&&ke.push(xl(L,W,q))),xt)break;L=L.return}0<ke.length&&($=new Q($,ve,null,i,K),ee.push({event:$,listeners:ke}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&i!==Tf&&(ve=i.relatedTarget||i.fromElement)&&(pi(ve)||ve[mi]))break e;if((Q||$)&&($=K.window===K?K:($=K.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(ve=i.relatedTarget||i.toElement,Q=H,ve=ve?pi(ve):null,ve!==null&&(xt=u(ve),ke=ve.tag,ve!==xt||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(Q=null,ve=H),Q!==ve)){if(ke=Hv,W="onMouseLeave",I="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ke=Qv,W="onPointerLeave",I="onPointerEnter",L="pointer"),xt=Q==null?$:Uo(Q),q=ve==null?$:Uo(ve),$=new ke(W,L+"leave",Q,i,K),$.target=xt,$.relatedTarget=q,W=null,pi(K)===H&&(ke=new ke(I,L+"enter",ve,i,K),ke.target=q,ke.relatedTarget=xt,W=ke),xt=W,Q&&ve)t:{for(ke=dk,I=Q,L=ve,q=0,W=I;W;W=ke(W))q++;W=0;for(var Ce=L;Ce;Ce=ke(Ce))W++;for(;0<q-W;)I=ke(I),q--;for(;0<W-q;)L=ke(L),W--;for(;q--;){if(I===L||L!==null&&I===L.alternate){ke=I;break t}I=ke(I),L=ke(L)}ke=null}else ke=null;Q!==null&&zb(ee,$,Q,ke,!1),ve!==null&&xt!==null&&zb(ee,xt,ve,ke,!0)}}e:{if($=H?Uo(H):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var it=ey;else if(Xv($))if(ty)it=S2;else{it=b2;var be=x2}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Cf(H.elementType)&&(it=ey):it=w2;if(it&&(it=it(n,H))){Wv(ee,it,i,K);break e}be&&be(n,$,H),n==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&Nf($,"number",$.value)}switch(be=H?Uo(H):window,n){case"focusin":(Xv(be)||be.contentEditable==="true")&&(ji=be,Bf=H,Yo=null);break;case"focusout":Yo=Bf=ji=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,cy(ee,i,K);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":cy(ee,i,K)}var Ve;if(Lf)e:{switch(n){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else _i?Zv(n,i)&&(Ze="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Ze="onCompositionStart");Ze&&(Gv&&i.locale!=="ko"&&(_i||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&_i&&(Ve=Fv()):(Es=K,Af="value"in Es?Es.value:Es.textContent,_i=!0)),be=xu(H,Ze),0<be.length&&(Ze=new $v(Ze,n,null,i,K),ee.push({event:Ze,listeners:be}),Ve?Ze.data=Ve:(Ve=Kv(i),Ve!==null&&(Ze.data=Ve)))),(Ve=m2?p2(n,i):g2(n,i))&&(Ze=xu(H,"onBeforeInput"),0<Ze.length&&(be=new $v("onBeforeInput","beforeinput",null,i,K),ee.push({event:be,listeners:Ze}),be.data=Ve)),ok(ee,n,H,i,K)}Pb(ee,s)})}function xl(n,s,i){return{instance:n,listener:s,currentTarget:i}}function xu(n,s){for(var i=s+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Bo(n,i),f!=null&&c.unshift(xl(n,f,m)),f=Bo(n,s),f!=null&&c.push(xl(n,f,m))),n.tag===3)return c;n=n.return}return[]}function dk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zb(n,s,i,c,f){for(var m=s._reactName,b=[];i!==null&&i!==c;){var N=i,R=N.alternate,H=N.stateNode;if(N=N.tag,R!==null&&R===c)break;N!==5&&N!==26&&N!==27||H===null||(R=H,f?(H=Bo(i,m),H!=null&&b.unshift(xl(i,H,R))):f||(H=Bo(i,m),H!=null&&b.push(xl(i,H,R)))),i=i.return}b.length!==0&&n.push({event:s,listeners:b})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function Ib(n){return(typeof n=="string"?n:""+n).replace(fk,`
`).replace(hk,"")}function Ub(n,s){return s=Ib(s),Ib(n)===s}function yt(n,s,i,c,f,m){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||bi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&bi(n,""+c);break;case"className":_c(n,"class",c);break;case"tabIndex":_c(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_c(n,i,c);break;case"style":Uv(n,c,m);break;case"data":if(s!=="object"){_c(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){n.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=Nc(""+c),n.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(s!=="input"&&yt(n,s,"name",f.name,f,null),yt(n,s,"formEncType",f.formEncType,f,null),yt(n,s,"formMethod",f.formMethod,f,null),yt(n,s,"formTarget",f.formTarget,f,null)):(yt(n,s,"encType",f.encType,f,null),yt(n,s,"method",f.method,f,null),yt(n,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(i);break}c=Nc(""+c),n.setAttribute(i,c);break;case"onClick":c!=null&&(n.onclick=Ka);break;case"onScroll":c!=null&&Ye("scroll",n);break;case"onScrollEnd":c!=null&&Ye("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}i=Nc(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""+c):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":c===!0?n.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(i,c):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(i,c):n.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(i):n.setAttribute(i,c);break;case"popover":Ye("beforetoggle",n),Ye("toggle",n),Sc(n,"popover",c);break;case"xlinkActuate":Za(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Za(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Za(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Za(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Za(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Za(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Za(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Za(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Za(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Sc(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=VT.get(i)||i,Sc(n,i,c))}}function fm(n,s,i,c,f,m){switch(i){case"style":Uv(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"children":typeof c=="string"?bi(n,c):(typeof c=="number"||typeof c=="bigint")&&bi(n,""+c);break;case"onScroll":c!=null&&Ye("scroll",n);break;case"onScrollEnd":c!=null&&Ye("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mv.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),s=i.slice(2,f?i.length-7:void 0),m=n[En]||null,m=m!=null?m[i]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(s,c,f);break e}i in n?n[i]=c:c===!0?n.setAttribute(i,""):Sc(n,i,c)}}}function hn(n,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",n),Ye("load",n);var c=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(n,s,m,b,i,null)}}f&&yt(n,s,"srcSet",i.srcSet,i,null),c&&yt(n,s,"src",i.src,i,null);return;case"input":Ye("invalid",n);var N=m=b=f=null,R=null,H=null;for(c in i)if(i.hasOwnProperty(c)){var K=i[c];if(K!=null)switch(c){case"name":f=K;break;case"type":b=K;break;case"checked":R=K;break;case"defaultChecked":H=K;break;case"value":m=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:yt(n,s,c,K,i,null)}}Pv(n,m,N,R,H,b,f,!1);return;case"select":Ye("invalid",n),c=b=m=null;for(f in i)if(i.hasOwnProperty(f)&&(N=i[f],N!=null))switch(f){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":c=N;default:yt(n,s,f,N,i,null)}s=m,i=b,n.multiple=!!c,s!=null?xi(n,!!c,s,!1):i!=null&&xi(n,!!c,i,!0);return;case"textarea":Ye("invalid",n),m=f=c=null;for(b in i)if(i.hasOwnProperty(b)&&(N=i[b],N!=null))switch(b){case"value":c=N;break;case"defaultValue":f=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:yt(n,s,b,N,i,null)}zv(n,c,f,m);return;case"option":for(R in i)i.hasOwnProperty(R)&&(c=i[R],c!=null)&&(R==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":yt(n,s,R,c,i,null));return;case"dialog":Ye("beforetoggle",n),Ye("toggle",n),Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":Ye("load",n);break;case"video":case"audio":for(c=0;c<yl.length;c++)Ye(yl[c],n);break;case"image":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"embed":case"source":case"link":Ye("error",n),Ye("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(c=i[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(n,s,H,c,i,null)}return;default:if(Cf(s)){for(K in i)i.hasOwnProperty(K)&&(c=i[K],c!==void 0&&fm(n,s,K,c,i,void 0));return}}for(N in i)i.hasOwnProperty(N)&&(c=i[N],c!=null&&yt(n,s,N,c,i,null))}function mk(n,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,N=null,R=null,H=null,K=null;for(Q in i){var ee=i[Q];if(i.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=ee;default:c.hasOwnProperty(Q)||yt(n,s,Q,null,c,ee)}}for(var $ in c){var Q=c[$];if(ee=i[$],c.hasOwnProperty($)&&(Q!=null||ee!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":K=Q;break;case"value":b=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ee&&yt(n,s,$,Q,c,ee)}}jf(n,b,N,R,H,K,m,f);return;case"select":Q=b=N=$=null;for(m in i)if(R=i[m],i.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":Q=R;default:c.hasOwnProperty(m)||yt(n,s,m,null,c,R)}for(f in c)if(m=c[f],R=i[f],c.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":$=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==R&&yt(n,s,f,m,c,R)}s=N,i=b,c=Q,$!=null?xi(n,!!i,$,!1):!!c!=!!i&&(s!=null?xi(n,!!i,s,!0):xi(n,!!i,i?[]:"",!1));return;case"textarea":Q=$=null;for(N in i)if(f=i[N],i.hasOwnProperty(N)&&f!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:yt(n,s,N,null,c,f)}for(b in c)if(f=c[b],m=i[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&yt(n,s,b,f,c,m)}Lv(n,$,Q);return;case"option":for(var ve in i)$=i[ve],i.hasOwnProperty(ve)&&$!=null&&!c.hasOwnProperty(ve)&&(ve==="selected"?n.selected=!1:yt(n,s,ve,null,c,$));for(R in c)$=c[R],Q=i[R],c.hasOwnProperty(R)&&$!==Q&&($!=null||Q!=null)&&(R==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":yt(n,s,R,$,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in i)$=i[ke],i.hasOwnProperty(ke)&&$!=null&&!c.hasOwnProperty(ke)&&yt(n,s,ke,null,c,$);for(H in c)if($=c[H],Q=i[H],c.hasOwnProperty(H)&&$!==Q&&($!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:yt(n,s,H,$,c,Q)}return;default:if(Cf(s)){for(var xt in i)$=i[xt],i.hasOwnProperty(xt)&&$!==void 0&&!c.hasOwnProperty(xt)&&fm(n,s,xt,void 0,c,$);for(K in c)$=c[K],Q=i[K],!c.hasOwnProperty(K)||$===Q||$===void 0&&Q===void 0||fm(n,s,K,$,c,Q);return}}for(var I in i)$=i[I],i.hasOwnProperty(I)&&$!=null&&!c.hasOwnProperty(I)&&yt(n,s,I,null,c,$);for(ee in c)$=c[ee],Q=i[ee],!c.hasOwnProperty(ee)||$===Q||$==null&&Q==null||yt(n,s,ee,$,c,Q)}function Bb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],m=f.transferSize,b=f.initiatorType,N=f.duration;if(m&&N&&Bb(b)){for(b=0,N=f.responseEnd,c+=1;c<i.length;c++){var R=i[c],H=R.startTime;if(H>N)break;var K=R.transferSize,ee=R.initiatorType;K&&Bb(ee)&&(R=R.responseEnd,b+=K*(R<N?1:(N-H)/(R-H)))}if(--c,s+=8*(m+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var hm=null,mm=null;function bu(n){return n.nodeType===9?n:n.ownerDocument}function Vb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function pm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gm=null;function gk(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var qb=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(n){return Hb.resolve(null).then(n).catch(xk)}:qb;function xk(n){setTimeout(function(){throw n})}function Qs(n){return n==="head"}function $b(n,s){var i=s,c=0;do{var f=i.nextSibling;if(n.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){n.removeChild(f),Ki(s);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")bl(n.ownerDocument.documentElement);else if(i==="head"){i=n.ownerDocument.head,bl(i);for(var m=i.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[Io]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&bl(n.ownerDocument.body);i=f}while(i);Ki(s)}function Qb(n,s){var i=n;n=0;do{var c=i.nextSibling;if(i.nodeType===1?s?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(s?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(n===0)break;n--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||n++;i=c}while(i)}function vm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":vm(i),Sf(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function bk(n,s,i,c){for(;n.nodeType===1;){var f=i;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Io])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=fa(n.nextSibling),n===null)break}return null}function wk(n,s,i){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=fa(n.nextSibling),n===null))return null;return n}function Gb(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=fa(n.nextSibling),n===null))return null;return n}function ym(n){return n.data==="$?"||n.data==="$~"}function xm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Sk(n,s){var i=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||i.readyState!=="loading")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function fa(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var bm=null;function Yb(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"||i==="/&"){if(s===0)return fa(n.nextSibling);s--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||s++}n=n.nextSibling}return null}function Jb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(s===0)return n;s--}else i!=="/$"&&i!=="/&"||s++}n=n.previousSibling}return null}function Zb(n,s,i){switch(s=bu(i),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function bl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Sf(n)}var ha=new Map,Kb=new Set;function wu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hs=ne.d;ne.d={f:_k,r:jk,D:Nk,C:Ck,L:Tk,m:kk,X:Mk,S:Ek,M:Ak};function _k(){var n=hs.f(),s=fu();return n||s}function jk(n){var s=gi(n);s!==null&&s.tag===5&&s.type==="form"?mx(s):hs.r(n)}var Yi=typeof document>"u"?null:document;function Xb(n,s,i){var c=Yi;if(c&&typeof s=="string"&&s){var f=ra(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Kb.has(f)||(Kb.add(f),n={rel:n,crossOrigin:i,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),hn(s,"link",n),sn(s),c.head.appendChild(s)))}}function Nk(n){hs.D(n),Xb("dns-prefetch",n,null)}function Ck(n,s){hs.C(n,s),Xb("preconnect",n,s)}function Tk(n,s,i){hs.L(n,s,i);var c=Yi;if(c&&n&&s){var f='link[rel="preload"][as="'+ra(s)+'"]';s==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ra(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ra(i.imageSizes)+'"]')):f+='[href="'+ra(n)+'"]';var m=f;switch(s){case"style":m=Ji(n);break;case"script":m=Zi(n)}ha.has(m)||(n=_({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:n,as:s},i),ha.set(m,n),c.querySelector(f)!==null||s==="style"&&c.querySelector(wl(m))||s==="script"&&c.querySelector(Sl(m))||(s=c.createElement("link"),hn(s,"link",n),sn(s),c.head.appendChild(s)))}}function kk(n,s){hs.m(n,s);var i=Yi;if(i&&n){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+ra(c)+'"][href="'+ra(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Zi(n)}if(!ha.has(m)&&(n=_({rel:"modulepreload",href:n},s),ha.set(m,n),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Sl(m)))return}c=i.createElement("link"),hn(c,"link",n),sn(c),i.head.appendChild(c)}}}function Ek(n,s,i){hs.S(n,s,i);var c=Yi;if(c&&n){var f=vi(c).hoistableStyles,m=Ji(n);s=s||"default";var b=f.get(m);if(!b){var N={loading:0,preload:null};if(b=c.querySelector(wl(m)))N.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},i),(i=ha.get(m))&&wm(n,i);var R=b=c.createElement("link");sn(R),hn(R,"link",n),R._p=new Promise(function(H,K){R.onload=H,R.onerror=K}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Su(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:N},f.set(m,b)}}}function Mk(n,s){hs.X(n,s);var i=Yi;if(i&&n){var c=vi(i).hoistableScripts,f=Zi(n),m=c.get(f);m||(m=i.querySelector(Sl(f)),m||(n=_({src:n,async:!0},s),(s=ha.get(f))&&Sm(n,s),m=i.createElement("script"),sn(m),hn(m,"link",n),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Ak(n,s){hs.M(n,s);var i=Yi;if(i&&n){var c=vi(i).hoistableScripts,f=Zi(n),m=c.get(f);m||(m=i.querySelector(Sl(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=ha.get(f))&&Sm(n,s),m=i.createElement("script"),sn(m),hn(m,"link",n),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Wb(n,s,i,c){var f=(f=O.current)?wu(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Ji(i.href),i=vi(f).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=Ji(i.href);var m=vi(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(wl(n)))&&!m._p&&(b.instance=m,b.state.loading=5),ha.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ha.set(n,i),m||Ok(f,n,i,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zi(i),i=vi(f).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ji(n){return'href="'+ra(n)+'"'}function wl(n){return'link[rel="stylesheet"]['+n+"]"}function e0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Ok(n,s,i,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),hn(s,"link",i),sn(s),n.head.appendChild(s))}function Zi(n){return'[src="'+ra(n)+'"]'}function Sl(n){return"script[async]"+n}function t0(n,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+ra(i.href)+'"]');if(c)return s.instance=c,sn(c),c;var f=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),sn(c),hn(c,"style",f),Su(c,i.precedence,n),s.instance=c;case"stylesheet":f=Ji(i.href);var m=n.querySelector(wl(f));if(m)return s.state.loading|=4,s.instance=m,sn(m),m;c=e0(i),(f=ha.get(f))&&wm(c,f),m=(n.ownerDocument||n).createElement("link"),sn(m);var b=m;return b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),hn(m,"link",c),s.state.loading|=4,Su(m,i.precedence,n),s.instance=m;case"script":return m=Zi(i.src),(f=n.querySelector(Sl(m)))?(s.instance=f,sn(f),f):(c=i,(f=ha.get(m))&&(c=_({},i),Sm(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),sn(f),hn(f,"link",c),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Su(c,i.precedence,n));return s.instance}function Su(n,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var N=c[b];if(N.dataset.precedence===s)m=N;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(n,s.firstChild))}function wm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Sm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var _u=null;function n0(n,s,i){if(_u===null){var c=new Map,f=_u=new Map;f.set(i,c)}else f=_u,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(n))return c;for(c.set(n,null),i=i.getElementsByTagName(n),f=0;f<i.length;f++){var m=i[f];if(!(m[Io]||m[cn]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=n+b;var N=c.get(b);N?N.push(m):c.set(b,[m])}}return c}function a0(n,s,i){n=n.ownerDocument||n,n.head.insertBefore(i,s==="title"?n.querySelector("head > title"):null)}function Dk(n,s,i){if(i===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function s0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Rk(n,s,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ji(c.href),m=s.querySelector(wl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=ju.bind(n),s.then(n,n)),i.state.loading|=4,i.instance=m,sn(m);return}m=s.ownerDocument||s,c=e0(c),(f=ha.get(f))&&wm(c,f),m=m.createElement("link"),sn(m);var b=m;b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),hn(m,"link",c),i.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(n.count++,i=ju.bind(n),s.addEventListener("load",i),s.addEventListener("error",i))}}var _m=0;function Pk(n,s){return n.stylesheets&&n.count===0&&Cu(n,n.stylesheets),0<n.count||0<n.imgCount?function(i){var c=setTimeout(function(){if(n.stylesheets&&Cu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&_m===0&&(_m=62500*pk());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Cu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>_m?50:800)+s);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nu=null;function Cu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nu=new Map,s.forEach(Lk,n),Nu=null,ju.call(n))}function Lk(n,s){if(!(s.state.loading&4)){var i=Nu.get(n);if(i)var c=i.get(null);else{i=new Map,Nu.set(n,i);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),m=i.get(b)||c,m===c&&i.set(null,f),i.set(b,f),this.count++,c=ju.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var _l={$$typeof:P,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function zk(n,s,i,c,f,m,b,N,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.hiddenUpdates=yf(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function r0(n,s,i,c,f,m,b,N,R,H,K,ee){return n=new zk(n,s,i,b,R,H,K,ee,N),s=1,m===!0&&(s|=24),m=Vn(3,null,null,s),n.current=m,m.stateNode=n,s=nh(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:s},ih(m),n}function i0(n){return n?(n=Ti,n):Ti}function o0(n,s,i,c,f,m){f=i0(f),c.context===null?c.context=f:c.pendingContext=f,c=Ps(s),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=Ls(n,c,s),i!==null&&(Pn(i,n,s),tl(i,n,s))}function l0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function jm(n,s){l0(n,s),(n=n.alternate)&&l0(n,s)}function c0(n){if(n.tag===13||n.tag===31){var s=br(n,67108864);s!==null&&Pn(s,n,67108864),jm(n,67108864)}}function u0(n){if(n.tag===13||n.tag===31){var s=Qn();s=xf(s);var i=br(n,s);i!==null&&Pn(i,n,s),jm(n,s)}}var Tu=!0;function Ik(n,s,i,c){var f=B.T;B.T=null;var m=ne.p;try{ne.p=2,Nm(n,s,i,c)}finally{ne.p=m,B.T=f}}function Uk(n,s,i,c){var f=B.T;B.T=null;var m=ne.p;try{ne.p=8,Nm(n,s,i,c)}finally{ne.p=m,B.T=f}}function Nm(n,s,i,c){if(Tu){var f=Cm(c);if(f===null)dm(n,s,c,ku,i),f0(n,c);else if(Vk(f,n,s,i,c))c.stopPropagation();else if(f0(n,c),s&4&&-1<Bk.indexOf(n)){for(;f!==null;){var m=gi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=pr(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var R=1<<31-Un(b);N.entanglements[1]|=R,b&=~R}Ba(m),(lt&6)===0&&(uu=Lt()+500,vl(0))}}break;case 31:case 13:N=br(m,2),N!==null&&Pn(N,m,2),fu(),jm(m,2)}if(m=Cm(c),m===null&&dm(n,s,c,ku,i),m===f)break;f=m}f!==null&&c.stopPropagation()}else dm(n,s,c,null,i)}}function Cm(n){return n=kf(n),Tm(n)}var ku=null;function Tm(n){if(ku=null,n=pi(n),n!==null){var s=u(n);if(s===null)n=null;else{var i=s.tag;if(i===13){if(n=d(s),n!==null)return n;n=null}else if(i===31){if(n=h(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ku=n,null}function d0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vf()){case gc:return 2;case bv:return 8;case vc:case CT:return 32;case wv:return 268435456;default:return 32}default:return 32}}var km=!1,Gs=null,Ys=null,Js=null,jl=new Map,Nl=new Map,Zs=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(n,s){switch(n){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function Cl(n,s,i,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=gi(s),s!==null&&c0(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Vk(n,s,i,c,f){switch(s){case"focusin":return Gs=Cl(Gs,n,s,i,c,f),!0;case"dragenter":return Ys=Cl(Ys,n,s,i,c,f),!0;case"mouseover":return Js=Cl(Js,n,s,i,c,f),!0;case"pointerover":var m=f.pointerId;return jl.set(m,Cl(jl.get(m)||null,n,s,i,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Nl.set(m,Cl(Nl.get(m)||null,n,s,i,c,f)),!0}return!1}function h0(n){var s=pi(n.target);if(s!==null){var i=u(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){n.blockedOn=s,Tv(n.priority,function(){u0(i)});return}}else if(s===31){if(s=h(i),s!==null){n.blockedOn=s,Tv(n.priority,function(){u0(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=Cm(n.nativeEvent);if(i===null){i=n.nativeEvent;var c=new i.constructor(i.type,i);Tf=c,i.target.dispatchEvent(c),Tf=null}else return s=gi(i),s!==null&&c0(s),n.blockedOn=i,!1;s.shift()}return!0}function m0(n,s,i){Eu(n)&&i.delete(s)}function Fk(){km=!1,Gs!==null&&Eu(Gs)&&(Gs=null),Ys!==null&&Eu(Ys)&&(Ys=null),Js!==null&&Eu(Js)&&(Js=null),jl.forEach(m0),Nl.forEach(m0)}function Mu(n,s){n.blockedOn===s&&(n.blockedOn=null,km||(km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fk)))}var Au=null;function p0(n){Au!==n&&(Au=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Au===n&&(Au=null);for(var s=0;s<n.length;s+=3){var i=n[s],c=n[s+1],f=n[s+2];if(typeof c!="function"){if(Tm(c||i)===null)continue;break}var m=gi(i);m!==null&&(n.splice(s,3),s-=3,Ch(m,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function Ki(n){function s(R){return Mu(R,n)}Gs!==null&&Mu(Gs,n),Ys!==null&&Mu(Ys,n),Js!==null&&Mu(Js,n),jl.forEach(s),Nl.forEach(s);for(var i=0;i<Zs.length;i++){var c=Zs[i];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Zs.length&&(i=Zs[0],i.blockedOn===null);)h0(i),i.blockedOn===null&&Zs.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],m=i[c+1],b=f[En]||null;if(typeof m=="function")b||p0(i);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[En]||null)N=b.formAction;else if(Tm(f)!==null)continue}else N=b.action;typeof N=="function"?i[c+1]=N:(i.splice(c,3),c-=3),p0(i)}}}function g0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Em(n){this._internalRoot=n}Ou.prototype.render=Em.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var i=s.current,c=Qn();o0(i,c,n,s,null,null)},Ou.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;o0(n.current,2,null,n,null,null),fu(),s[mi]=null}};function Ou(n){this._internalRoot=n}Ou.prototype.unstable_scheduleHydration=function(n){if(n){var s=Cv();n={blockedOn:null,target:n,priority:s};for(var i=0;i<Zs.length&&s!==0&&s<Zs[i].priority;i++);Zs.splice(i,0,n),i===0&&h0(n)}};var v0=e.version;if(v0!=="19.2.3")throw Error(r(527,v0,"19.2.3"));ne.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=v(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var qk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Po=Du.inject(qk),In=Du}catch{}}return Tl.createRoot=function(n,s){if(!l(n))throw Error(r(299));var i=!1,c="",f=jx,m=Nx,b=Cx;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=r0(n,1,!1,null,null,i,c,null,f,m,b,g0),n[mi]=s.current,um(n),new Em(s)},Tl.hydrateRoot=function(n,s,i){if(!l(n))throw Error(r(299));var c=!1,f="",m=jx,b=Nx,N=Cx,R=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),s=r0(n,1,!0,s,i??null,c,f,R,m,b,N,g0),s.context=i0(null),i=s.current,c=Qn(),c=xf(c),f=Ps(c),f.callback=null,Ls(i,f,c),i=c,s.current.lanes=i,zo(s,i),Ba(s),n[mi]=s.current,um(n),new Ou(s)},Tl.version="19.2.3",Tl}var w0;function lE(){if(w0)return Mm.exports;w0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mm.exports=oE(),Mm.exports}var cE=lE();function uE(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var a,r,l,u,d=[],h="",p=t.split("/");for(p[0]||p.shift();l=p.shift();)a=l[0],a==="*"?(d.push(a),h+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):a===":"?(r=l.indexOf("?",1),u=l.indexOf(".",1),d.push(l.substring(1,~r?r:~u?u:l.length)),h+=~r&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(h+=(~r?"?":"")+"\\"+l.substring(u))):h+="/"+l;return{keys:d,pattern:new RegExp("^"+h+(e?"(?=$|/)":"/?$"),"i")}}var Dm={exports:{}},Rm={};var S0;function dE(){if(S0)return Rm;S0=1;var t=q1();function e(_,C){return _===C&&(_!==0||1/_===1/C)||_!==_&&C!==C}var a=typeof Object.is=="function"?Object.is:e,r=t.useState,l=t.useEffect,u=t.useLayoutEffect,d=t.useDebugValue;function h(_,C){var A=C(),M=r({inst:{value:A,getSnapshot:C}}),j=M[0].inst,T=M[1];return u(function(){j.value=A,j.getSnapshot=C,p(j)&&T({inst:j})},[_,A,C]),l(function(){return p(j)&&T({inst:j}),_(function(){p(j)&&T({inst:j})})},[_]),d(A),A}function p(_){var C=_.getSnapshot;_=_.value;try{var A=C();return!a(_,A)}catch{return!0}}function v(_,C){return C()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:h;return Rm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Rm}var _0;function fE(){return _0||(_0=1,Dm.exports=dE()),Dm.exports}var H1=fE();const hE=y1.useInsertionEffect,mE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pE=mE?x.useLayoutEffect:x.useEffect,gE=hE||pE,$1=t=>{const e=x.useRef([t,(...a)=>e[0](...a)]).current;return gE(()=>{e[0]=t}),e[1]},vE="popstate",xg="pushState",bg="replaceState",yE="hashchange",j0=[vE,xg,bg,yE],xE=t=>{for(const e of j0)addEventListener(e,t);return()=>{for(const e of j0)removeEventListener(e,t)}},Q1=(t,e)=>H1.useSyncExternalStore(xE,t,e),N0=()=>location.search,bE=({ssrSearch:t}={})=>Q1(N0,t!=null?()=>t:N0),C0=()=>location.pathname,wE=({ssrPath:t}={})=>Q1(C0,t!=null?()=>t:C0),SE=(t,{replace:e=!1,state:a=null}={})=>history[e?bg:xg](a,"",t),_E=(t={})=>[wE(t),SE],T0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[T0]>"u"){for(const t of[xg,bg]){const e=history[t];history[t]=function(){const a=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),a}}Object.defineProperty(window,T0,{value:!0})}const jE=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",G1=(t="")=>t==="/"?"":t,NE=(t,e)=>t[0]==="~"?t.slice(1):G1(e)+t,CE=(t="",e)=>jE(k0(G1(t)),k0(e)),k0=t=>{try{return decodeURI(t)}catch{return t}},Y1={hook:_E,searchHook:bE,parser:uE,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,e,a)=>t(e,a)},J1=x.createContext(Y1),To=()=>x.useContext(J1),Z1={},K1=x.createContext(Z1),TE=()=>x.useContext(K1),Id=t=>{const[e,a]=t.hook(t);return[CE(t.base,e),$1((r,l)=>t.aroundNav(a,NE(r,t.base),l))]},Ns=()=>Id(To()),wg=(t,e,a,r)=>{const{pattern:l,keys:u}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),d=l.exec(a)||[],[h,...p]=d;return h!==void 0?[!0,(()=>{const v=u!==!1?Object.fromEntries(u.map((_,C)=>[_,p[C]])):d.groups;let y={...p};return v&&Object.assign(y,v),y})(),...r?[h]:[]]:[!1,null]},Ud=t=>wg(To().parser,t,Ns()[0]),kE=({children:t,...e})=>{const a=To(),r=e.hook?Y1:a;let l=r;const[u,d=e.ssrSearch??""]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=d,e.ssrPath=u),e.hrefs=e.hrefs??e.hook?.hrefs,e.searchHook=e.searchHook??e.hook?.searchHook;let h=x.useRef({}),p=h.current,v=p;for(let y in r){const _=y==="base"?r[y]+(e[y]??""):e[y]??r[y];p===v&&_!==v[y]&&(h.current=v={...v}),v[y]=_,(_!==r[y]||_!==l[y])&&(l=v)}return x.createElement(J1.Provider,{value:l,children:t})},E0=({children:t,component:e},a)=>e?x.createElement(e,{params:a}):typeof t=="function"?t(a):t,EE=t=>{let e=x.useRef(Z1);const a=e.current;return e.current=Object.keys(t).length!==Object.keys(a).length||Object.entries(t).some(([r,l])=>l!==a[r])?t:a},ed=({path:t,nest:e,match:a,...r})=>{const l=To(),[u]=Id(l),[d,h,p]=a??wg(l.parser,t,u,e),v=EE({...TE(),...h});if(!d)return null;const y=p?x.createElement(kE,{base:p},E0(r,v)):E0(r,v);return x.createElement(K1.Provider,{value:v,children:y})},ma=x.forwardRef((t,e)=>{const a=To(),[r,l]=Id(a),{to:u="",href:d=u,onClick:h,asChild:p,children:v,className:y,replace:_,state:C,transition:A,...M}=t,j=$1(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(h?.(k),k.defaultPrevented||(k.preventDefault(),l(d,t)))}),T=a.hrefs(d[0]==="~"?d.slice(1):a.base+d,a);return p&&x.isValidElement(v)?x.cloneElement(v,{onClick:j,href:T}):x.createElement("a",{...M,onClick:j,href:T,className:y?.call?y(r===d):y,children:v,ref:e})}),X1=t=>Array.isArray(t)?t.flatMap(e=>X1(e&&e.type===x.Fragment?e.props.children:e)):[t],ME=({children:t,location:e})=>{const a=To(),[r]=Id(a);for(const l of X1(t)){let u=0;if(x.isValidElement(l)&&(u=wg(a.parser,l.props.path,e||r,l.props.nest))[0])return x.cloneElement(l,{match:u})}return null};var ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},OE=class{#e=AE;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Vr=new OE;function DE(t){setTimeout(t,0)}var Jr=typeof window>"u"||"Deno"in globalThis;function Sn(){}function RE(t,e){return typeof t=="function"?t(e):t}function up(t){return typeof t=="number"&&t>=0&&t!==1/0}function W1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sr(t,e){return typeof t=="function"?t(e):t}function pa(t,e){return typeof t=="function"?t(e):t}function M0(t,e){const{type:a="all",exact:r,fetchStatus:l,predicate:u,queryKey:d,stale:h}=t;if(d){if(r){if(e.queryHash!==Sg(d,e.options))return!1}else if(!Vl(e.queryKey,d))return!1}if(a!=="all"){const p=e.isActive();if(a==="active"&&!p||a==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||l&&l!==e.state.fetchStatus||u&&!u(e))}function A0(t,e){const{exact:a,status:r,predicate:l,mutationKey:u}=t;if(u){if(!e.options.mutationKey)return!1;if(a){if(Zr(e.options.mutationKey)!==Zr(u))return!1}else if(!Vl(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||l&&!l(e))}function Sg(t,e){return(e?.queryKeyHashFn||Zr)(t)}function Zr(t){return JSON.stringify(t,(e,a)=>dp(a)?Object.keys(a).sort().reduce((r,l)=>(r[l]=a[l],r),{}):a)}function Vl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>Vl(t[a],e[a])):!1}var PE=Object.prototype.hasOwnProperty;function e_(t,e){if(t===e)return t;const a=O0(t)&&O0(e);if(!a&&!(dp(t)&&dp(e)))return e;const l=(a?t:Object.keys(t)).length,u=a?e:Object.keys(e),d=u.length,h=a?new Array(d):{};let p=0;for(let v=0;v<d;v++){const y=a?v:u[v],_=t[y],C=e[y];if(_===C){h[y]=_,(a?v<l:PE.call(t,y))&&p++;continue}if(_===null||C===null||typeof _!="object"||typeof C!="object"){h[y]=C;continue}const A=e_(_,C);h[y]=A,A===_&&p++}return l===d&&p===l?t:h}function cd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}function O0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dp(t){if(!D0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!D0(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function D0(t){return Object.prototype.toString.call(t)==="[object Object]"}function LE(t){return new Promise(e=>{Vr.setTimeout(e,t)})}function fp(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?e_(t,e):e}function zE(t,e,a=0){const r=[...t,e];return a&&r.length>a?r.slice(1):r}function IE(t,e,a=0){const r=[e,...t];return a&&r.length>a?r.slice(0,-1):r}var _g=Symbol();function t_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===_g?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function n_(t,e){return typeof t=="function"?t(...e):!!t}var UE=class extends ko{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Jr&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},jg=new UE;function hp(){let t,e;const a=new Promise((l,u)=>{t=l,e=u});a.status="pending",a.catch(()=>{});function r(l){Object.assign(a,l),delete a.resolve,delete a.reject}return a.resolve=l=>{r({status:"fulfilled",value:l}),t(l)},a.reject=l=>{r({status:"rejected",reason:l}),e(l)},a}var BE=DE;function VE(){let t=[],e=0,a=h=>{h()},r=h=>{h()},l=BE;const u=h=>{e?t.push(h):l(()=>{a(h)})},d=()=>{const h=t;t=[],h.length&&l(()=>{r(()=>{h.forEach(p=>{a(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||d()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{a=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{l=h}}}var nn=VE(),FE=class extends ko{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Jr&&window.addEventListener){const e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},ud=new FE;function qE(t){return Math.min(1e3*2**t,3e4)}function a_(t){return(t??"online")==="online"?ud.isOnline():!0}var mp=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function s_(t){let e=!1,a=0,r;const l=hp(),u=()=>l.status!=="pending",d=j=>{if(!u()){const T=new mp(j);C(T),t.onCancel?.(T)}},h=()=>{e=!0},p=()=>{e=!1},v=()=>jg.isFocused()&&(t.networkMode==="always"||ud.isOnline())&&t.canRun(),y=()=>a_(t.networkMode)&&t.canRun(),_=j=>{u()||(r?.(),l.resolve(j))},C=j=>{u()||(r?.(),l.reject(j))},A=()=>new Promise(j=>{r=T=>{(u()||v())&&j(T)},t.onPause?.()}).then(()=>{r=void 0,u()||t.onContinue?.()}),M=()=>{if(u())return;let j;const T=a===0?t.initialPromise:void 0;try{j=T??t.fn()}catch(k){j=Promise.reject(k)}Promise.resolve(j).then(_).catch(k=>{if(u())return;const D=t.retry??(Jr?0:3),P=t.retryDelay??qE,z=typeof P=="function"?P(a,k):P,U=D===!0||typeof D=="number"&&a<D||typeof D=="function"&&D(a,k);if(e||!U){C(k);return}a++,t.onFail?.(a,k),LE(z).then(()=>v()?void 0:A()).then(()=>{e?C(k):M()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(r?.(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?M():A().then(M),l)}}var r_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),up(this.gcTime)&&(this.#e=Vr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Vr.clearTimeout(this.#e),this.#e=void 0)}},HE=class extends r_{#e;#t;#n;#s;#a;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=P0(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=P0(this.options);e.data!==void 0&&(this.setState(R0(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const a=fp(this.state.data,t,this.options);return this.#r({data:a,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),a}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>pa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_g||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!W1(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},l=()=>{const h=t_(this.options,e),v=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,v,this):h(v)},d=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:l};return r(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=s_({initialPromise:e?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof mp&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(h,p)=>{this.#r({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof mp){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#r({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#r(t){const e=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...i_(a.data,this.options),fetchMeta:t.meta??null};case"success":const r={...a,...R0(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const l=t.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=e(this.state),nn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function i_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function R0(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function P0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var $E=class extends ko{constructor(t,e){super(),this.options=e,this.#e=t,this.#r=null,this.#o=hp(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#i;#o;#r;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),L0(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pp(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pp(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pa(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!cd(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&z0(this.#t,a,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==a||pa(this.options.enabled,this.#t)!==pa(e.enabled,this.#t)||sr(this.options.staleTime,this.#t)!==sr(e.staleTime,this.#t))&&this.#g();const l=this.#v();r&&(this.#t!==a||pa(this.options.enabled,this.#t)!==pa(e.enabled,this.#t)||l!==this.#l)&&this.#y(l)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(e,t);return GE(this,a)&&(this.#s=a,this.#i=this.options,this.#a=this.#t.state),a}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,e);return a.fetch().then(()=>this.createResult(a,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Sn)),e}#g(){this.#b();const t=sr(this.options.staleTime,this.#t);if(Jr||this.#s.isStale||!up(t))return;const a=W1(this.#s.dataUpdatedAt,t)+1;this.#c=Vr.setTimeout(()=>{this.#s.isStale||this.updateResult()},a)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Jr||pa(this.options.enabled,this.#t)===!1||!up(this.#l)||this.#l===0)&&(this.#u=Vr.setInterval(()=>{(this.options.refetchIntervalInBackground||jg.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(Vr.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Vr.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const a=this.#t,r=this.options,l=this.#s,u=this.#a,d=this.#i,p=t!==a?t.state:this.#n,{state:v}=t;let y={...v},_=!1,C;if(e._optimisticResults){const Z=this.hasListeners(),de=!Z&&L0(t,e),pe=Z&&z0(t,a,e,r);(de||pe)&&(y={...y,...i_(v.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:A,errorUpdatedAt:M,status:j}=y;C=y.data;let T=!1;if(e.placeholderData!==void 0&&C===void 0&&j==="pending"){let Z;l?.isPlaceholderData&&e.placeholderData===d?.placeholderData?(Z=l.data,T=!0):Z=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,Z!==void 0&&(j="success",C=fp(l?.data,Z,e),_=!0)}if(e.select&&C!==void 0&&!T)if(l&&C===u?.data&&e.select===this.#p)C=this.#f;else try{this.#p=e.select,C=e.select(C),C=fp(l?.data,C,e),this.#f=C,this.#r=null}catch(Z){this.#r=Z}this.#r&&(A=this.#r,C=this.#f,M=Date.now(),j="error");const k=y.fetchStatus==="fetching",D=j==="pending",P=j==="error",z=D&&k,U=C!==void 0,Y={status:j,fetchStatus:y.fetchStatus,isPending:D,isSuccess:j==="success",isError:P,isInitialLoading:z,isLoading:z,data:C,dataUpdatedAt:y.dataUpdatedAt,error:A,errorUpdatedAt:M,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:k,isRefetching:k&&!D,isLoadingError:P&&!U,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:P&&U,isStale:Ng(t,e),refetch:this.refetch,promise:this.#o,isEnabled:pa(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Z=Ne=>{Y.status==="error"?Ne.reject(Y.error):Y.data!==void 0&&Ne.resolve(Y.data)},de=()=>{const Ne=this.#o=Y.promise=hp();Z(Ne)},pe=this.#o;switch(pe.status){case"pending":t.queryHash===a.queryHash&&Z(pe);break;case"fulfilled":(Y.status==="error"||Y.data!==pe.value)&&de();break;case"rejected":(Y.status!=="error"||Y.error!==pe.reason)&&de();break}}return Y}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),cd(e,t))return;this.#s=e;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!this.#m.size)return!0;const u=new Set(l??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(d=>{const h=d;return this.#s[h]!==t[h]&&u.has(h)})};this.#_({listeners:a()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function QE(t,e){return pa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function L0(t,e){return QE(t,e)||t.state.data!==void 0&&pp(t,e,e.refetchOnMount)}function pp(t,e,a){if(pa(e.enabled,t)!==!1&&sr(e.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&Ng(t,e)}return!1}function z0(t,e,a,r){return(t!==e||pa(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&Ng(t,a)}function Ng(t,e){return pa(e.enabled,t)!==!1&&t.isStaleByTime(sr(e.staleTime,t))}function GE(t,e){return!cd(t.getCurrentResult(),e)}function I0(t){return{onFetch:(e,a)=>{const r=e.options,l=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],d=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const v=async()=>{let y=!1;const _=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},C=t_(e.options,e.fetchOptions),A=async(M,j,T)=>{if(y)return Promise.reject();if(j==null&&M.pages.length)return Promise.resolve(M);const D=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:j,direction:T?"backward":"forward",meta:e.options.meta};return _(F),F})(),P=await C(D),{maxPages:z}=e.options,U=T?IE:zE;return{pages:U(M.pages,P,z),pageParams:U(M.pageParams,j,z)}};if(l&&u.length){const M=l==="backward",j=M?YE:U0,T={pages:u,pageParams:d},k=j(r,T);h=await A(T,k,M)}else{const M=t??u.length;do{const j=p===0?d[0]??r.initialPageParam:U0(r,h);if(p>0&&j==null)break;h=await A(h,j),p++}while(p<M)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(v,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a):e.fetchFn=v}}}function U0(t,{pages:e,pageParams:a}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,a[r],a):void 0}function YE(t,{pages:e,pageParams:a}){return e.length>0?t.getPreviousPageParam?.(e[0],e,a[0],a):void 0}var JE=class extends r_{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||o_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=s_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",l=!this.#s.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:l}),await this.#n.config.onMutate?.(t,this,a);const d=await this.options.onMutate?.(t,a);d!==this.state.context&&this.#a({type:"pending",context:d,variables:t,isPaused:l})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,t,this.state.context,this,a),await this.options.onSuccess?.(u,t,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,t,this.state.context,a),this.#a({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,t,this.state.context,this,a),await this.options.onError?.(u,t,this.state.context,a),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,u,t,this.state.context,a),u}finally{this.#a({type:"error",error:u})}}finally{this.#n.runNext(this)}}#a(t){const e=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),nn.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function o_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZE=class extends ko{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,a){const r=new JE({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:a});return this.add(r),r}add(t){this.#e.add(t);const e=Ru(t);if(typeof e=="string"){const a=this.#t.get(e);a?a.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Ru(t);if(typeof e=="string"){const a=this.#t.get(e);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Ru(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(l=>l.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Ru(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(a=>A0(e,a))}findAll(t={}){return this.getAll().filter(e=>A0(t,e))}notify(t){nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return nn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Sn))))}};function Ru(t){return t.options.scope?.id}var KE=class extends ko{#e;#t=void 0;#n;#s;constructor(e,a){super(),this.#e=e,this.setOptions(a),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const a=this.options;this.options=this.#e.defaultMutationOptions(e),cd(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&Zr(a.mutationKey)!==Zr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(e,a){return this.#s=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??o_();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){nn.batch(()=>{if(this.#s&&this.hasListeners()){const a=this.#t.variables,r=this.#t.context,l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,a,r,l),this.#s.onSettled?.(e.data,null,a,r,l)):e?.type==="error"&&(this.#s.onError?.(e.error,a,r,l),this.#s.onSettled?.(void 0,e.error,a,r,l))}this.listeners.forEach(a=>{a(this.#t)})})}},XE=class extends ko{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,a){const r=e.queryKey,l=e.queryHash??Sg(r,e);let u=this.get(l);return u||(u=new HE({client:t,queryKey:r,queryHash:l,options:t.defaultQueryOptions(e),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(u)),u}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(a=>M0(e,a))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(a=>M0(t,a)):e}notify(t){nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},WE=class{#e;#t;#n;#s;#a;#i;#o;#r;constructor(t={}){this.#e=t.queryCache||new XE,this.#t=t.mutationCache||new ZE,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=jg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=ud.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=this.#e.build(this,e),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(sr(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:a})=>{const r=a.data;return[e,r]})}setQueryData(t,e,a){const r=this.defaultQueryOptions({queryKey:t}),u=this.#e.get(r.queryHash)?.state.data,d=RE(e,u);if(d!==void 0)return this.#e.build(this,r).setData(d,{...a,manual:!0})}setQueriesData(t,e,a){return nn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,a)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;nn.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=this.#e;return nn.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},r=nn.batch(()=>this.#e.findAll(t).map(l=>l.cancel(a)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t,e={}){return nn.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},r=nn.batch(()=>this.#e.findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,a);return a.throwOnError||(u=u.catch(Sn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=this.#e.build(this,e);return a.isStaleByTime(sr(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=I0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=I0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ud.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Zr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],a={};return e.forEach(r=>{Vl(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,e){this.#a.set(Zr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],a={};return e.forEach(r=>{Vl(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_g&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},l_=x.createContext(void 0),La=t=>{const e=x.useContext(l_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},eM=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(l_.Provider,{value:t,children:e})),c_=x.createContext(!1),tM=()=>x.useContext(c_);c_.Provider;function nM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aM=x.createContext(nM()),sM=()=>x.useContext(aM),rM=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},iM=t=>{x.useEffect(()=>{t.clearReset()},[t])},oM=({result:t,errorResetBoundary:e,throwOnError:a,query:r,suspense:l})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(l&&t.data===void 0||n_(a,[t.error,r])),lM=t=>{if(t.suspense){const a=l=>l==="static"?l:Math.max(l??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...l)=>a(r(...l)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cM=(t,e)=>t.isLoading&&t.isFetching&&!e,uM=(t,e)=>t?.suspense&&e.isPending,B0=(t,e,a)=>e.fetchOptimistic(t).catch(()=>{a.clearReset()});function dM(t,e,a){const r=tM(),l=sM(),u=La(),d=u.defaultQueryOptions(t);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=r?"isRestoring":"optimistic",lM(d),rM(d,l),iM(l);const h=!u.getQueryCache().get(d.queryHash),[p]=x.useState(()=>new e(u,d)),v=p.getOptimisticResult(d),y=!r&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(_=>{const C=y?p.subscribe(nn.batchCalls(_)):Sn;return p.updateResult(),C},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),x.useEffect(()=>{p.setOptions(d)},[d,p]),uM(d,v))throw B0(d,p,l);if(oM({result:v,errorResetBoundary:l,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw v.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,v),d.experimental_prefetchInRender&&!Jr&&cM(v,r)&&(h?B0(d,p,l):u.getQueryCache().get(d.queryHash)?.promise)?.catch(Sn).finally(()=>{p.updateResult()}),d.notifyOnChangeProps?v:p.trackResult(v)}function gn(t,e){return dM(t,$E)}function Xn(t,e){const a=La(),[r]=x.useState(()=>new KE(a,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const l=x.useSyncExternalStore(x.useCallback(d=>r.subscribe(nn.batchCalls(d)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=x.useCallback((d,h)=>{r.mutate(d,h).catch(Sn)},[r]);if(l.error&&n_(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}async function u_(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function ro(t,e,a){const r=await fetch(e,{method:t,headers:a?{"Content-Type":"application/json"}:{},body:a?JSON.stringify(a):void 0,credentials:"include"});return await u_(r),r}const fM=({on401:t})=>async({queryKey:e})=>{const a=await fetch(e.join("/"),{credentials:"include"});return await u_(a),await a.json()},tr=new WE({defaultOptions:{queries:{queryFn:fM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hM=1,mM=1e6;let Pm=0;function pM(){return Pm=(Pm+1)%Number.MAX_SAFE_INTEGER,Pm.toString()}const Lm=new Map,V0=t=>{if(Lm.has(t))return;const e=setTimeout(()=>{Lm.delete(t),Ll({type:"REMOVE_TOAST",toastId:t})},mM);Lm.set(t,e)},gM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=e;return a?V0(a):t.toasts.forEach(r=>{V0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)}}},td=[];let nd={toasts:[]};function Ll(t){nd=gM(nd,t),td.forEach(e=>{e(nd)})}function vM({...t}){const e=pM(),a=l=>Ll({type:"UPDATE_TOAST",toast:{...l,id:e}}),r=()=>Ll({type:"DISMISS_TOAST",toastId:e});return Ll({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:l=>{l||r()}}}),{id:e,dismiss:r,update:a}}function Wn(){const[t,e]=x.useState(nd);return x.useEffect(()=>(td.push(e),()=>{const a=td.indexOf(e);a>-1&&td.splice(a,1)}),[t]),{...t,toast:vM,dismiss:a=>Ll({type:"DISMISS_TOAST",toastId:a})}}var d_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yM="VisuallyHidden",Bd=x.forwardRef((t,e)=>o.jsx(wt.span,{...t,ref:e,style:{...d_,...t.style}}));Bd.displayName=yM;var xM=Bd,Cg="ToastProvider",[Tg,bM,wM]=x1("Toast"),[f_]=Co("Toast",[wM]),[SM,Vd]=f_(Cg),h_=t=>{const{__scopeToast:e,label:a="Notification",duration:r=5e3,swipeDirection:l="right",swipeThreshold:u=50,children:d}=t,[h,p]=x.useState(null),[v,y]=x.useState(0),_=x.useRef(!1),C=x.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),o.jsx(Tg.Provider,{scope:e,children:o.jsx(SM,{scope:e,label:a,duration:r,swipeDirection:l,swipeThreshold:u,toastCount:v,viewport:h,onViewportChange:p,onToastAdd:x.useCallback(()=>y(A=>A+1),[]),onToastRemove:x.useCallback(()=>y(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:C,children:d})})};h_.displayName=Cg;var m_="ToastViewport",_M=["F8"],gp="toast.viewportPause",vp="toast.viewportResume",p_=x.forwardRef((t,e)=>{const{__scopeToast:a,hotkey:r=_M,label:l="Notifications ({hotkey})",...u}=t,d=Vd(m_,a),h=bM(a),p=x.useRef(null),v=x.useRef(null),y=x.useRef(null),_=x.useRef(null),C=Ot(e,_,d.onViewportChange),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=d.toastCount>0;x.useEffect(()=>{const T=k=>{r.length!==0&&r.every(P=>k[P]||k.code===P)&&_.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),x.useEffect(()=>{const T=p.current,k=_.current;if(M&&T&&k){const D=()=>{if(!d.isClosePausedRef.current){const F=new CustomEvent(gp);k.dispatchEvent(F),d.isClosePausedRef.current=!0}},P=()=>{if(d.isClosePausedRef.current){const F=new CustomEvent(vp);k.dispatchEvent(F),d.isClosePausedRef.current=!1}},z=F=>{!T.contains(F.relatedTarget)&&P()},U=()=>{T.contains(document.activeElement)||P()};return T.addEventListener("focusin",D),T.addEventListener("focusout",z),T.addEventListener("pointermove",D),T.addEventListener("pointerleave",U),window.addEventListener("blur",D),window.addEventListener("focus",P),()=>{T.removeEventListener("focusin",D),T.removeEventListener("focusout",z),T.removeEventListener("pointermove",D),T.removeEventListener("pointerleave",U),window.removeEventListener("blur",D),window.removeEventListener("focus",P)}}},[M,d.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:T})=>{const D=h().map(P=>{const z=P.ref.current,U=[z,...LM(z)];return T==="forwards"?U:U.reverse()});return(T==="forwards"?D.reverse():D).flat()},[h]);return x.useEffect(()=>{const T=_.current;if(T){const k=D=>{const P=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!P){const U=document.activeElement,F=D.shiftKey;if(D.target===T&&F){v.current?.focus();return}const de=j({tabbingDirection:F?"backwards":"forwards"}),pe=de.findIndex(Ne=>Ne===U);zm(de.slice(pe+1))?D.preventDefault():F?v.current?.focus():y.current?.focus()}};return T.addEventListener("keydown",k),()=>T.removeEventListener("keydown",k)}},[h,j]),o.jsxs($k,{ref:p,role:"region","aria-label":l.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:M?void 0:"none"},children:[M&&o.jsx(yp,{ref:v,onFocusFromOutsideViewport:()=>{const T=j({tabbingDirection:"forwards"});zm(T)}}),o.jsx(Tg.Slot,{scope:a,children:o.jsx(wt.ol,{tabIndex:-1,...u,ref:C})}),M&&o.jsx(yp,{ref:y,onFocusFromOutsideViewport:()=>{const T=j({tabbingDirection:"backwards"});zm(T)}})]})});p_.displayName=m_;var g_="ToastFocusProxy",yp=x.forwardRef((t,e)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...l}=t,u=Vd(g_,a);return o.jsx(Bd,{tabIndex:0,...l,ref:e,style:{position:"fixed"},onFocus:d=>{const h=d.relatedTarget;!u.viewport?.contains(h)&&r()}})});yp.displayName=g_;var ic="Toast",jM="toast.swipeStart",NM="toast.swipeMove",CM="toast.swipeCancel",TM="toast.swipeEnd",v_=x.forwardRef((t,e)=>{const{forceMount:a,open:r,defaultOpen:l,onOpenChange:u,...d}=t,[h,p]=Bl({prop:r,defaultProp:l??!0,onChange:u,caller:ic});return o.jsx(di,{present:a||h,children:o.jsx(MM,{open:h,...d,ref:e,onClose:()=>p(!1),onPause:Jn(t.onPause),onResume:Jn(t.onResume),onSwipeStart:Ue(t.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(t.onSwipeMove,v=>{const{x:y,y:_}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Ue(t.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(t.onSwipeEnd,v=>{const{x:y,y:_}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),p(!1)})})})});v_.displayName=ic;var[kM,EM]=f_(ic,{onClose(){}}),MM=x.forwardRef((t,e)=>{const{__scopeToast:a,type:r="foreground",duration:l,open:u,onClose:d,onEscapeKeyDown:h,onPause:p,onResume:v,onSwipeStart:y,onSwipeMove:_,onSwipeCancel:C,onSwipeEnd:A,...M}=t,j=Vd(ic,a),[T,k]=x.useState(null),D=Ot(e,ge=>k(ge)),P=x.useRef(null),z=x.useRef(null),U=l||j.duration,F=x.useRef(0),Y=x.useRef(U),Z=x.useRef(0),{onToastAdd:de,onToastRemove:pe}=j,Ne=Jn(()=>{T?.contains(document.activeElement)&&j.viewport?.focus(),d()}),Pe=x.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(Z.current),F.current=new Date().getTime(),Z.current=window.setTimeout(Ne,ge))},[Ne]);x.useEffect(()=>{const ge=j.viewport;if(ge){const De=()=>{Pe(Y.current),v?.()},B=()=>{const ne=new Date().getTime()-F.current;Y.current=Y.current-ne,window.clearTimeout(Z.current),p?.()};return ge.addEventListener(gp,B),ge.addEventListener(vp,De),()=>{ge.removeEventListener(gp,B),ge.removeEventListener(vp,De)}}},[j.viewport,U,p,v,Pe]),x.useEffect(()=>{u&&!j.isClosePausedRef.current&&Pe(U)},[u,U,j.isClosePausedRef,Pe]),x.useEffect(()=>(de(),()=>pe()),[de,pe]);const rt=x.useMemo(()=>T?j_(T):null,[T]);return j.viewport?o.jsxs(o.Fragment,{children:[rt&&o.jsx(AM,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:rt}),o.jsx(kM,{scope:a,onClose:Ne,children:fg.createPortal(o.jsx(Tg.ItemSlot,{scope:a,children:o.jsx(Qk,{asChild:!0,onEscapeKeyDown:Ue(h,()=>{j.isFocusedToastEscapeKeyDownRef.current||Ne(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(wt.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":j.swipeDirection,...M,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ue(t.onKeyDown,ge=>{ge.key==="Escape"&&(h?.(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,Ne()))}),onPointerDown:Ue(t.onPointerDown,ge=>{ge.button===0&&(P.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Ue(t.onPointerMove,ge=>{if(!P.current)return;const De=ge.clientX-P.current.x,B=ge.clientY-P.current.y,ne=!!z.current,X=["left","right"].includes(j.swipeDirection),Ee=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,Se=X?Ee(0,De):0,nt=X?0:Ee(0,B),le=ge.pointerType==="touch"?10:2,g={x:Se,y:nt},S={originalEvent:ge,delta:g};ne?(z.current=g,Pu(NM,_,S,{discrete:!1})):F0(g,j.swipeDirection,le)?(z.current=g,Pu(jM,y,S,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(De)>le||Math.abs(B)>le)&&(P.current=null)}),onPointerUp:Ue(t.onPointerUp,ge=>{const De=z.current,B=ge.target;if(B.hasPointerCapture(ge.pointerId)&&B.releasePointerCapture(ge.pointerId),z.current=null,P.current=null,De){const ne=ge.currentTarget,X={originalEvent:ge,delta:De};F0(De,j.swipeDirection,j.swipeThreshold)?Pu(TM,A,X,{discrete:!0}):Pu(CM,C,X,{discrete:!0}),ne.addEventListener("click",Ee=>Ee.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),AM=t=>{const{__scopeToast:e,children:a,...r}=t,l=Vd(ic,e),[u,d]=x.useState(!1),[h,p]=x.useState(!1);return RM(()=>d(!0)),x.useEffect(()=>{const v=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(v)},[]),h?null:o.jsx(hg,{asChild:!0,children:o.jsx(Bd,{...r,children:u&&o.jsxs(o.Fragment,{children:[l.label," ",a]})})})},OM="ToastTitle",y_=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t;return o.jsx(wt.div,{...r,ref:e})});y_.displayName=OM;var DM="ToastDescription",x_=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t;return o.jsx(wt.div,{...r,ref:e})});x_.displayName=DM;var b_="ToastAction",w_=x.forwardRef((t,e)=>{const{altText:a,...r}=t;return a.trim()?o.jsx(__,{altText:a,asChild:!0,children:o.jsx(kg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${b_}\`. Expected non-empty \`string\`.`),null)});w_.displayName=b_;var S_="ToastClose",kg=x.forwardRef((t,e)=>{const{__scopeToast:a,...r}=t,l=EM(S_,a);return o.jsx(__,{asChild:!0,children:o.jsx(wt.button,{type:"button",...r,ref:e,onClick:Ue(t.onClick,l.onClose)})})});kg.displayName=S_;var __=x.forwardRef((t,e)=>{const{__scopeToast:a,altText:r,...l}=t;return o.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...l,ref:e})});function j_(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),PM(r)){const l=r.ariaHidden||r.hidden||r.style.display==="none",u=r.dataset.radixToastAnnounceExclude==="";if(!l)if(u){const d=r.dataset.radixToastAnnounceAlt;d&&e.push(d)}else e.push(...j_(r))}}),e}function Pu(t,e,a,{discrete:r}){const l=a.originalEvent.currentTarget,u=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});e&&l.addEventListener(t,e,{once:!0}),r?Gk(l,u):l.dispatchEvent(u)}var F0=(t,e,a=0)=>{const r=Math.abs(t.x),l=Math.abs(t.y),u=r>l;return e==="left"||e==="right"?u&&r>a:!u&&l>a};function RM(t=()=>{}){const e=Jn(t);Kn(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[e])}function PM(t){return t.nodeType===t.ELEMENT_NODE}function LM(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const l=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||l?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function zm(t){const e=document.activeElement;return t.some(a=>a===e?!0:(a.focus(),document.activeElement!==e))}var zM=h_,N_=p_,C_=v_,T_=y_,k_=x_,E_=w_,M_=kg;function A_(t){var e,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(a=A_(t[e]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function O_(){for(var t,e,a=0,r="",l=arguments.length;a<l;a++)(t=arguments[a])&&(e=A_(t))&&(r&&(r+=" "),r+=e);return r}const q0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,H0=O_,Fd=(t,e)=>a=>{var r;if(e?.variants==null)return H0(t,a?.class,a?.className);const{variants:l,defaultVariants:u}=e,d=Object.keys(l).map(v=>{const y=a?.[v],_=u?.[v];if(y===null)return null;const C=q0(y)||q0(_);return l[v][C]}),h=a&&Object.entries(a).reduce((v,y)=>{let[_,C]=y;return C===void 0||(v[_]=C),v},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((v,y)=>{let{class:_,className:C,...A}=y;return Object.entries(A).every(M=>{let[j,T]=M;return Array.isArray(T)?T.includes({...u,...h}[j]):{...u,...h}[j]===T})?[...v,_,C]:v},[]);return H0(t,d,p,a?.class,a?.className)};const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),$0=t=>{const e=UM(t);return e.charAt(0).toUpperCase()+e.slice(1)},D_=(...t)=>t.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim(),BM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FM=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...h},p)=>x.createElement("svg",{ref:p,...VM,width:e,height:e,stroke:t,strokeWidth:r?Number(a)*24/Number(e):a,className:D_("lucide",l),...!u&&!BM(h)&&{"aria-hidden":"true"},...h},[...d.map(([v,y])=>x.createElement(v,y)),...Array.isArray(u)?u:[u]]));const ue=(t,e)=>{const a=x.forwardRef(({className:r,...l},u)=>x.createElement(FM,{ref:u,iconNode:e,className:D_(`lucide-${IM($0(t))}`,`lucide-${t}`,r),...l}));return a.displayName=$0(t),a};const qM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],HM=ue("activity",qM);const $M=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],QM=ue("arrow-right",$M);const GM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],R_=ue("bell",GM);const YM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ad=ue("book-open",YM);const JM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Eo=ue("brain-circuit",JM);const ZM=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],P_=ue("briefcase",ZM);const KM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],XM=ue("calendar-check",KM);const WM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eg=ue("calendar",WM);const eA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fr=ue("check",eA);const tA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],L_=ue("chevron-down",tA);const nA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aA=ue("chevron-left",nA);const sA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ir=ue("chevron-right",sA);const rA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iA=ue("chevron-up",rA);const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mg=ue("circle-alert",oA);const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Q0=ue("circle-check",lA);const cA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uA=ue("circle-check-big",cA);const dA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fA=ue("circle-question-mark",dA);const hA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],mA=ue("circle-stop",hA);const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Al=ue("circle",pA);const gA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qd=ue("clock",gA);const vA=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],yA=ue("cloud-off",vA);const xA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],dd=ue("cloud-upload",xA);const bA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ha=ue("cloud",bA);const wA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],SA=ue("database",wA);const _A=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xp=ue("download",_A);const jA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],z_=ue("ellipsis-vertical",jA);const NA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rr=ue("external-link",NA);const CA=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],I_=ue("file-pen",CA);const TA=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],kA=ue("file-search",TA);const EA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ya=ue("file-text",EA);const MA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],AA=ue("folder-open",MA);const OA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U_=ue("funnel",OA);const DA=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],oc=ue("gavel",DA);const RA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PA=ue("history",RA);const LA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zA=ue("image",LA);const IA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],UA=ue("info",IA);const BA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],VA=ue("key",BA);const FA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qA=ue("layout-dashboard",FA);const HA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lu=ue("lightbulb",HA);const $A=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],QA=ue("link",$A);const GA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],an=ue("loader-circle",GA);const YA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JA=ue("log-out",YA);const ZA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bp=ue("lock",ZA);const KA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],XA=ue("maximize-2",KA);const WA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eO=ue("menu",WA);const tO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zl=ue("message-circle",tO);const nO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wp=ue("message-square",nO);const aO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],B_=ue("mic-off",aO);const sO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],qr=ue("mic",sO);const rO=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],V_=ue("minimize-2",rO);const iO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],oO=ue("monitor",iO);const lO=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Sp=ue("newspaper",lO);const cO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uO=ue("palette",cO);const dO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],fO=ue("pause",dO);const hO=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],G0=ue("phone-off",hO);const mO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pO=ue("phone",mO);const gO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vO=ue("play",gO);const yO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kr=ue("plus",yO);const xO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bO=ue("refresh-cw",xO);const wO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],SO=ue("rotate-ccw",wO);const _O=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_p=ue("save",_O);const jO=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],F_=ue("scale",jO);const NO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xr=ue("search",NO);const CO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ag=ue("send",CO);const TO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kO=ue("settings",TO);const EO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sd=ue("shield-check",EO);const MO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AO=ue("shield",MO);const OO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DO=ue("sparkles",OO);const RO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lc=ue("trash-2",RO);const PO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],LO=ue("trending-up",PO);const zO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y0=ue("triangle-alert",zO);const IO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fl=ue("users",IO);const UO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q_=ue("user",UO);const BO=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],J0=ue("video-off",BO);const VO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ol=ue("video",VO);const FO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],qO=ue("volume-2",FO);const HO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],$O=ue("volume-x",HO);const QO=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],GO=ue("workflow",QO);const YO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ho=ue("x",YO),JO=(t,e)=>{const a=new Array(t.length+e.length);for(let r=0;r<t.length;r++)a[r]=t[r];for(let r=0;r<e.length;r++)a[t.length+r]=e[r];return a},ZO=(t,e)=>({classGroupId:t,validator:e}),H_=(t=new Map,e=null,a)=>({nextPart:t,validators:e,classGroupId:a}),fd="-",Z0=[],KO="arbitrary..",XO=t=>{const e=e4(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return WO(d);const h=d.split(fd),p=h[0]===""&&h.length>1?1:0;return $_(h,p,e)},getConflictingClassGroupIds:(d,h)=>{if(h){const p=r[d],v=a[d];return p?v?JO(v,p):p:v||Z0}return a[d]||Z0}}},$_=(t,e,a)=>{if(t.length-e===0)return a.classGroupId;const l=t[e],u=a.nextPart.get(l);if(u){const v=$_(t,e+1,u);if(v)return v}const d=a.validators;if(d===null)return;const h=e===0?t.join(fd):t.slice(e).join(fd),p=d.length;for(let v=0;v<p;v++){const y=d[v];if(y.validator(h))return y.classGroupId}},WO=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),a=e.indexOf(":"),r=e.slice(0,a);return r?KO+r:void 0})(),e4=t=>{const{theme:e,classGroups:a}=t;return t4(a,e)},t4=(t,e)=>{const a=H_();for(const r in t){const l=t[r];Og(l,a,r,e)}return a},Og=(t,e,a,r)=>{const l=t.length;for(let u=0;u<l;u++){const d=t[u];n4(d,e,a,r)}},n4=(t,e,a,r)=>{if(typeof t=="string"){a4(t,e,a);return}if(typeof t=="function"){s4(t,e,a,r);return}r4(t,e,a,r)},a4=(t,e,a)=>{const r=t===""?e:Q_(e,t);r.classGroupId=a},s4=(t,e,a,r)=>{if(i4(t)){Og(t(r),e,a,r);return}e.validators===null&&(e.validators=[]),e.validators.push(ZO(a,t))},r4=(t,e,a,r)=>{const l=Object.entries(t),u=l.length;for(let d=0;d<u;d++){const[h,p]=l[d];Og(p,Q_(e,h),a,r)}},Q_=(t,e)=>{let a=t;const r=e.split(fd),l=r.length;for(let u=0;u<l;u++){const d=r[u];let h=a.nextPart.get(d);h||(h=H_(),a.nextPart.set(d,h)),a=h}return a},i4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,o4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,a=Object.create(null),r=Object.create(null);const l=(u,d)=>{a[u]=d,e++,e>t&&(e=0,r=a,a=Object.create(null))};return{get(u){let d=a[u];if(d!==void 0)return d;if((d=r[u])!==void 0)return l(u,d),d},set(u,d){u in a?a[u]=d:l(u,d)}}},jp="!",K0=":",l4=[],X0=(t,e,a,r,l)=>({modifiers:t,hasImportantModifier:e,baseClassName:a,maybePostfixModifierPosition:r,isExternal:l}),c4=t=>{const{prefix:e,experimentalParseClassName:a}=t;let r=l=>{const u=[];let d=0,h=0,p=0,v;const y=l.length;for(let j=0;j<y;j++){const T=l[j];if(d===0&&h===0){if(T===K0){u.push(l.slice(p,j)),p=j+1;continue}if(T==="/"){v=j;continue}}T==="["?d++:T==="]"?d--:T==="("?h++:T===")"&&h--}const _=u.length===0?l:l.slice(p);let C=_,A=!1;_.endsWith(jp)?(C=_.slice(0,-1),A=!0):_.startsWith(jp)&&(C=_.slice(1),A=!0);const M=v&&v>p?v-p:void 0;return X0(u,A,C,M)};if(e){const l=e+K0,u=r;r=d=>d.startsWith(l)?u(d.slice(l.length)):X0(l4,!1,d,void 0,!0)}if(a){const l=r;r=u=>a({className:u,parseClassName:l})}return r},u4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((a,r)=>{e.set(a,1e6+r)}),a=>{const r=[];let l=[];for(let u=0;u<a.length;u++){const d=a[u],h=d[0]==="[",p=e.has(d);h||p?(l.length>0&&(l.sort(),r.push(...l),l=[]),r.push(d)):l.push(d)}return l.length>0&&(l.sort(),r.push(...l)),r}},d4=t=>({cache:o4(t.cacheSize),parseClassName:c4(t),sortModifiers:u4(t),...XO(t)}),f4=/\s+/,h4=(t,e)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:u}=e,d=[],h=t.trim().split(f4);let p="";for(let v=h.length-1;v>=0;v-=1){const y=h[v],{isExternal:_,modifiers:C,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:j}=a(y);if(_){p=y+(p.length>0?" "+p:p);continue}let T=!!j,k=r(T?M.substring(0,j):M);if(!k){if(!T){p=y+(p.length>0?" "+p:p);continue}if(k=r(M),!k){p=y+(p.length>0?" "+p:p);continue}T=!1}const D=C.length===0?"":C.length===1?C[0]:u(C).join(":"),P=A?D+jp:D,z=P+k;if(d.indexOf(z)>-1)continue;d.push(z);const U=l(k,T);for(let F=0;F<U.length;++F){const Y=U[F];d.push(P+Y)}p=y+(p.length>0?" "+p:p)}return p},m4=(...t)=>{let e=0,a,r,l="";for(;e<t.length;)(a=t[e++])&&(r=G_(a))&&(l&&(l+=" "),l+=r);return l},G_=t=>{if(typeof t=="string")return t;let e,a="";for(let r=0;r<t.length;r++)t[r]&&(e=G_(t[r]))&&(a&&(a+=" "),a+=e);return a},p4=(t,...e)=>{let a,r,l,u;const d=p=>{const v=e.reduce((y,_)=>_(y),t());return a=d4(v),r=a.cache.get,l=a.cache.set,u=h,h(p)},h=p=>{const v=r(p);if(v)return v;const y=h4(p,a);return l(p,y),y};return u=d,(...p)=>u(m4(...p))},g4=[],tn=t=>{const e=a=>a[t]||g4;return e.isThemeGetter=!0,e},Y_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v4=/^\d+\/\d+$/,y4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=t=>v4.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Xs=t=>!!t&&Number.isInteger(Number(t)),Im=t=>t.endsWith("%")&&$e(t.slice(0,-1)),ms=t=>y4.test(t),_4=()=>!0,j4=t=>x4.test(t)&&!b4.test(t),Z_=()=>!1,N4=t=>w4.test(t),C4=t=>S4.test(t),T4=t=>!ye(t)&&!xe(t),k4=t=>Mo(t,W_,Z_),ye=t=>Y_.test(t),Dr=t=>Mo(t,ej,j4),Um=t=>Mo(t,D4,$e),W0=t=>Mo(t,K_,Z_),E4=t=>Mo(t,X_,C4),zu=t=>Mo(t,tj,N4),xe=t=>J_.test(t),kl=t=>Ao(t,ej),M4=t=>Ao(t,R4),ew=t=>Ao(t,K_),A4=t=>Ao(t,W_),O4=t=>Ao(t,X_),Iu=t=>Ao(t,tj,!0),Mo=(t,e,a)=>{const r=Y_.exec(t);return r?r[1]?e(r[1]):a(r[2]):!1},Ao=(t,e,a=!1)=>{const r=J_.exec(t);return r?r[1]?e(r[1]):a:!1},K_=t=>t==="position"||t==="percentage",X_=t=>t==="image"||t==="url",W_=t=>t==="length"||t==="size"||t==="bg-size",ej=t=>t==="length",D4=t=>t==="number",R4=t=>t==="family-name",tj=t=>t==="shadow",P4=()=>{const t=tn("color"),e=tn("font"),a=tn("text"),r=tn("font-weight"),l=tn("tracking"),u=tn("leading"),d=tn("breakpoint"),h=tn("container"),p=tn("spacing"),v=tn("radius"),y=tn("shadow"),_=tn("inset-shadow"),C=tn("text-shadow"),A=tn("drop-shadow"),M=tn("blur"),j=tn("perspective"),T=tn("aspect"),k=tn("ease"),D=tn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...z(),xe,ye],F=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],Z=()=>[xe,ye,p],de=()=>[Xi,"full","auto",...Z()],pe=()=>[Xs,"none","subgrid",xe,ye],Ne=()=>["auto",{span:["full",Xs,xe,ye]},Xs,xe,ye],Pe=()=>[Xs,"auto",xe,ye],rt=()=>["auto","min","max","fr",xe,ye],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...Z()],ne=()=>[Xi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Z()],X=()=>[t,xe,ye],Ee=()=>[...z(),ew,W0,{position:[xe,ye]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],nt=()=>["auto","cover","contain",A4,k4,{size:[xe,ye]}],le=()=>[Im,kl,Dr],g=()=>["","none","full",v,xe,ye],S=()=>["",$e,kl,Dr],w=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>[$e,Im,ew,W0],V=()=>["","none",M,xe,ye],J=()=>["none",$e,xe,ye],G=()=>["none",$e,xe,ye],ie=()=>[$e,xe,ye],fe=()=>[Xi,"full",...Z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ms],breakpoint:[ms],color:[_4],container:[ms],"drop-shadow":[ms],ease:["in","out","in-out"],font:[T4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ms],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ms],shadow:[ms],spacing:["px",$e],text:[ms],"text-shadow":[ms],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xi,ye,xe,T]}],container:["container"],columns:[{columns:[$e,ye,xe,h]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:de()}],"inset-x":[{"inset-x":de()}],"inset-y":[{"inset-y":de()}],start:[{start:de()}],end:[{end:de()}],top:[{top:de()}],right:[{right:de()}],bottom:[{bottom:de()}],left:[{left:de()}],visibility:["visible","invisible","collapse"],z:[{z:[Xs,"auto",xe,ye]}],basis:[{basis:[Xi,"full","auto",h,...Z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Xi,"auto","initial","none",ye]}],grow:[{grow:["",$e,xe,ye]}],shrink:[{shrink:["",$e,xe,ye]}],order:[{order:[Xs,"first","last","none",xe,ye]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:Ne()}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:Ne()}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":rt()}],"auto-rows":[{"auto-rows":rt()}],gap:[{gap:Z()}],"gap-x":[{"gap-x":Z()}],"gap-y":[{"gap-y":Z()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:Z()}],px:[{px:Z()}],py:[{py:Z()}],ps:[{ps:Z()}],pe:[{pe:Z()}],pt:[{pt:Z()}],pr:[{pr:Z()}],pb:[{pb:Z()}],pl:[{pl:Z()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":Z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[h,"screen",...ne()]}],"min-w":[{"min-w":[h,"screen","none",...ne()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",a,kl,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,Um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Im,ye]}],"font-family":[{font:[M4,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,xe,ye]}],"line-clamp":[{"line-clamp":[$e,"none",xe,Um]}],leading:[{leading:[u,...Z()]}],"list-image":[{"list-image":["none",xe,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",xe,Dr]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[$e,"auto",xe,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:nt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xs,xe,ye],radial:["",xe,ye],conic:[Xs,xe,ye]},O4,E4]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:g()}],"rounded-s":[{"rounded-s":g()}],"rounded-e":[{"rounded-e":g()}],"rounded-t":[{"rounded-t":g()}],"rounded-r":[{"rounded-r":g()}],"rounded-b":[{"rounded-b":g()}],"rounded-l":[{"rounded-l":g()}],"rounded-ss":[{"rounded-ss":g()}],"rounded-se":[{"rounded-se":g()}],"rounded-ee":[{"rounded-ee":g()}],"rounded-es":[{"rounded-es":g()}],"rounded-tl":[{"rounded-tl":g()}],"rounded-tr":[{"rounded-tr":g()}],"rounded-br":[{"rounded-br":g()}],"rounded-bl":[{"rounded-bl":g()}],"border-w":[{border:S()}],"border-w-x":[{"border-x":S()}],"border-w-y":[{"border-y":S()}],"border-w-s":[{"border-s":S()}],"border-w-e":[{"border-e":S()}],"border-w-t":[{"border-t":S()}],"border-w-r":[{"border-r":S()}],"border-w-b":[{"border-b":S()}],"border-w-l":[{"border-l":S()}],"divide-x":[{"divide-x":S()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":S()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...w(),"hidden","none"]}],"divide-style":[{divide:[...w(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...w(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,xe,ye]}],"outline-w":[{outline:["",$e,kl,Dr]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",y,Iu,zu]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",_,Iu,zu]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[$e,Dr]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":S()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",C,Iu,zu]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[$e,xe,ye]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":E()}],"mask-image-linear-to-pos":[{"mask-linear-to":E()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":E()}],"mask-image-t-to-pos":[{"mask-t-to":E()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":E()}],"mask-image-r-to-pos":[{"mask-r-to":E()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":E()}],"mask-image-b-to-pos":[{"mask-b-to":E()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":E()}],"mask-image-l-to-pos":[{"mask-l-to":E()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":E()}],"mask-image-x-to-pos":[{"mask-x-to":E()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":E()}],"mask-image-y-to-pos":[{"mask-y-to":E()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[xe,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":E()}],"mask-image-radial-to-pos":[{"mask-radial-to":E()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":E()}],"mask-image-conic-to-pos":[{"mask-conic-to":E()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:nt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ye]}],filter:[{filter:["","none",xe,ye]}],blur:[{blur:V()}],brightness:[{brightness:[$e,xe,ye]}],contrast:[{contrast:[$e,xe,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,Iu,zu]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",$e,xe,ye]}],"hue-rotate":[{"hue-rotate":[$e,xe,ye]}],invert:[{invert:["",$e,xe,ye]}],saturate:[{saturate:[$e,xe,ye]}],sepia:[{sepia:["",$e,xe,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ye]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[$e,xe,ye]}],"backdrop-contrast":[{"backdrop-contrast":[$e,xe,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,xe,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,xe,ye]}],"backdrop-invert":[{"backdrop-invert":["",$e,xe,ye]}],"backdrop-opacity":[{"backdrop-opacity":[$e,xe,ye]}],"backdrop-saturate":[{"backdrop-saturate":[$e,xe,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,xe,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Z()}],"border-spacing-x":[{"border-spacing-x":Z()}],"border-spacing-y":[{"border-spacing-y":Z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",xe,ye]}],ease:[{ease:["linear","initial",k,xe,ye]}],delay:[{delay:[$e,xe,ye]}],animate:[{animate:["none",D,xe,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,xe,ye]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[xe,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ye]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[$e,kl,Dr,Um]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},L4=p4(P4);function _e(...t){return L4(O_(t))}const z4=zM,nj=x.forwardRef(({className:t,...e},a)=>o.jsx(N_,{ref:a,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nj.displayName=N_.displayName;const I4=Fd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aj=x.forwardRef(({className:t,variant:e,...a},r)=>o.jsx(C_,{ref:r,className:_e(I4({variant:e}),t),...a}));aj.displayName=C_.displayName;const U4=x.forwardRef(({className:t,...e},a)=>o.jsx(E_,{ref:a,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));U4.displayName=E_.displayName;const sj=x.forwardRef(({className:t,...e},a)=>o.jsx(M_,{ref:a,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(ho,{className:"h-4 w-4"})}));sj.displayName=M_.displayName;const rj=x.forwardRef(({className:t,...e},a)=>o.jsx(T_,{ref:a,className:_e("text-sm font-semibold",t),...e}));rj.displayName=T_.displayName;const ij=x.forwardRef(({className:t,...e},a)=>o.jsx(k_,{ref:a,className:_e("text-sm opacity-90",t),...e}));ij.displayName=k_.displayName;function B4(){const{toasts:t}=Wn();return o.jsxs(z4,{children:[t.map(function({id:e,title:a,description:r,action:l,...u}){return o.jsxs(aj,{...u,children:[o.jsxs("div",{className:"grid gap-1",children:[a&&o.jsx(rj,{children:a}),r&&o.jsx(ij,{children:r})]}),l,o.jsx(sj,{})]},e)}),o.jsx(nj,{})]})}var V4=Symbol("radix.slottable");function F4(t){const e=({children:a})=>o.jsx(o.Fragment,{children:a});return e.displayName=`${t}.Slottable`,e.__radixId=V4,e}var[Hd]=Co("Tooltip",[Ld]),$d=Ld(),oj="TooltipProvider",q4=700,Np="tooltip.open",[H4,Dg]=Hd(oj),lj=t=>{const{__scopeTooltip:e,delayDuration:a=q4,skipDelayDuration:r=300,disableHoverableContent:l=!1,children:u}=t,d=x.useRef(!0),h=x.useRef(!1),p=x.useRef(0);return x.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),o.jsx(H4,{scope:e,isOpenDelayedRef:d,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(p.current),d.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:x.useCallback(v=>{h.current=v},[]),disableHoverableContent:l,children:u})};lj.displayName=oj;var ql="Tooltip",[$4,cc]=Hd(ql),cj=t=>{const{__scopeTooltip:e,children:a,open:r,defaultOpen:l,onOpenChange:u,disableHoverableContent:d,delayDuration:h}=t,p=Dg(ql,t.__scopeTooltip),v=$d(e),[y,_]=x.useState(null),C=zd(),A=x.useRef(0),M=d??p.disableHoverableContent,j=h??p.delayDuration,T=x.useRef(!1),[k,D]=Bl({prop:r,defaultProp:l??!1,onChange:Y=>{Y?(p.onOpen(),document.dispatchEvent(new CustomEvent(Np))):p.onClose(),u?.(Y)},caller:ql}),P=x.useMemo(()=>k?T.current?"delayed-open":"instant-open":"closed",[k]),z=x.useCallback(()=>{window.clearTimeout(A.current),A.current=0,T.current=!1,D(!0)},[D]),U=x.useCallback(()=>{window.clearTimeout(A.current),A.current=0,D(!1)},[D]),F=x.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>{T.current=!0,D(!0),A.current=0},j)},[j,D]);return x.useEffect(()=>()=>{A.current&&(window.clearTimeout(A.current),A.current=0)},[]),o.jsx(S1,{...v,children:o.jsx($4,{scope:e,contentId:C,open:k,stateAttribute:P,trigger:y,onTriggerChange:_,onTriggerEnter:x.useCallback(()=>{p.isOpenDelayedRef.current?F():z()},[p.isOpenDelayedRef,F,z]),onTriggerLeave:x.useCallback(()=>{M?U():(window.clearTimeout(A.current),A.current=0)},[U,M]),onOpen:z,onClose:U,disableHoverableContent:M,children:a})})};cj.displayName=ql;var Cp="TooltipTrigger",uj=x.forwardRef((t,e)=>{const{__scopeTooltip:a,...r}=t,l=cc(Cp,a),u=Dg(Cp,a),d=$d(a),h=x.useRef(null),p=Ot(e,h,l.onTriggerChange),v=x.useRef(!1),y=x.useRef(!1),_=x.useCallback(()=>v.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),o.jsx(_1,{asChild:!0,...d,children:o.jsx(wt.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...r,ref:p,onPointerMove:Ue(t.onPointerMove,C=>{C.pointerType!=="touch"&&!y.current&&!u.isPointerInTransitRef.current&&(l.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ue(t.onPointerLeave,()=>{l.onTriggerLeave(),y.current=!1}),onPointerDown:Ue(t.onPointerDown,()=>{l.open&&l.onClose(),v.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Ue(t.onFocus,()=>{v.current||l.onOpen()}),onBlur:Ue(t.onBlur,l.onClose),onClick:Ue(t.onClick,l.onClose)})})});uj.displayName=Cp;var Rg="TooltipPortal",[Q4,G4]=Hd(Rg,{forceMount:void 0}),dj=t=>{const{__scopeTooltip:e,forceMount:a,children:r,container:l}=t,u=cc(Rg,e);return o.jsx(Q4,{scope:e,forceMount:a,children:o.jsx(di,{present:a||u.open,children:o.jsx(hg,{asChild:!0,container:l,children:r})})})};dj.displayName=Rg;var mo="TooltipContent",fj=x.forwardRef((t,e)=>{const a=G4(mo,t.__scopeTooltip),{forceMount:r=a.forceMount,side:l="top",...u}=t,d=cc(mo,t.__scopeTooltip);return o.jsx(di,{present:r||d.open,children:d.disableHoverableContent?o.jsx(hj,{side:l,...u,ref:e}):o.jsx(Y4,{side:l,...u,ref:e})})}),Y4=x.forwardRef((t,e)=>{const a=cc(mo,t.__scopeTooltip),r=Dg(mo,t.__scopeTooltip),l=x.useRef(null),u=Ot(e,l),[d,h]=x.useState(null),{trigger:p,onClose:v}=a,y=l.current,{onPointerInTransitChange:_}=r,C=x.useCallback(()=>{h(null),_(!1)},[_]),A=x.useCallback((M,j)=>{const T=M.currentTarget,k={x:M.clientX,y:M.clientY},D=W4(k,T.getBoundingClientRect()),P=eD(k,D),z=tD(j.getBoundingClientRect()),U=aD([...P,...z]);h(U),_(!0)},[_]);return x.useEffect(()=>()=>C(),[C]),x.useEffect(()=>{if(p&&y){const M=T=>A(T,y),j=T=>A(T,p);return p.addEventListener("pointerleave",M),y.addEventListener("pointerleave",j),()=>{p.removeEventListener("pointerleave",M),y.removeEventListener("pointerleave",j)}}},[p,y,A,C]),x.useEffect(()=>{if(d){const M=j=>{const T=j.target,k={x:j.clientX,y:j.clientY},D=p?.contains(T)||y?.contains(T),P=!nD(k,d);D?C():P&&(C(),v())};return document.addEventListener("pointermove",M),()=>document.removeEventListener("pointermove",M)}},[p,y,d,v,C]),o.jsx(hj,{...t,ref:u})}),[J4,Z4]=Hd(ql,{isInside:!1}),K4=F4("TooltipContent"),hj=x.forwardRef((t,e)=>{const{__scopeTooltip:a,children:r,"aria-label":l,onEscapeKeyDown:u,onPointerDownOutside:d,...h}=t,p=cc(mo,a),v=$d(a),{onClose:y}=p;return x.useEffect(()=>(document.addEventListener(Np,y),()=>document.removeEventListener(Np,y)),[y]),x.useEffect(()=>{if(p.trigger){const _=C=>{C.target?.contains(p.trigger)&&y()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[p.trigger,y]),o.jsx(b1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:_=>_.preventDefault(),onDismiss:y,children:o.jsxs(w1,{"data-state":p.stateAttribute,...v,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(K4,{children:r}),o.jsx(J4,{scope:a,isInside:!0,children:o.jsx(xM,{id:p.contentId,role:"tooltip",children:l||r})})]})})});fj.displayName=mo;var mj="TooltipArrow",X4=x.forwardRef((t,e)=>{const{__scopeTooltip:a,...r}=t,l=$d(a);return Z4(mj,a).isInside?null:o.jsx(j1,{...l,...r,ref:e})});X4.displayName=mj;function W4(t,e){const a=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),l=Math.abs(e.right-t.x),u=Math.abs(e.left-t.x);switch(Math.min(a,r,l,u)){case u:return"left";case l:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eD(t,e,a=5){const r=[];switch(e){case"top":r.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":r.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":r.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":r.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return r}function tD(t){const{top:e,right:a,bottom:r,left:l}=t;return[{x:l,y:e},{x:a,y:e},{x:a,y:r},{x:l,y:r}]}function nD(t,e){const{x:a,y:r}=t;let l=!1;for(let u=0,d=e.length-1;u<e.length;d=u++){const h=e[u],p=e[d],v=h.x,y=h.y,_=p.x,C=p.y;y>r!=C>r&&a<(_-v)*(r-y)/(C-y)+v&&(l=!l)}return l}function aD(t){const e=t.slice();return e.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),sD(e)}function sD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const l=t[r];for(;e.length>=2;){const u=e[e.length-1],d=e[e.length-2];if((u.x-d.x)*(l.y-d.y)>=(u.y-d.y)*(l.x-d.x))e.pop();else break}e.push(l)}e.pop();const a=[];for(let r=t.length-1;r>=0;r--){const l=t[r];for(;a.length>=2;){const u=a[a.length-1],d=a[a.length-2];if((u.x-d.x)*(l.y-d.y)>=(u.y-d.y)*(l.x-d.x))a.pop();else break}a.push(l)}return a.pop(),e.length===1&&a.length===1&&e[0].x===a[0].x&&e[0].y===a[0].y?e:e.concat(a)}var rD=lj,iD=cj,oD=uj,lD=dj,pj=fj;const gj=rD,tw=iD,nw=oD,Tp=x.forwardRef(({className:t,sideOffset:e=4,...a},r)=>o.jsx(lD,{children:o.jsx(pj,{ref:r,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a})}));Tp.displayName=pj.displayName;const vj=x.createContext(void 0);function cD({children:t}){const[e,a]=x.useState("saved"),[r,l]=x.useState(null),u=x.useCallback(()=>{a("saving")},[]),d=x.useCallback(()=>{a("saved"),l(new Date)},[]),h=x.useCallback(()=>{a("error")},[]);return o.jsx(vj.Provider,{value:{status:e,lastSaved:r,setSaving:u,setSaved:d,setError:h},children:t})}function Qd(){const t=x.useContext(vj);if(!t)throw new Error("useSaveStatus must be used within SaveStatusProvider");return t}const yj=x.createContext(void 0);function aw(t){if(!t||typeof t!="object")throw new Error("Invalid authentication response");const e=t;if(!e.user?.id||!e.user?.username)throw new Error("Invalid authentication response");return e.user}async function sw(t,e){const a=t.headers.get("content-type"),r=await t.text();if(!a?.includes("application/json")){const l=r.slice(0,200).trim(),u=l?` Response preview: ${l}`:"";throw new Error(`${e} failed: received a non-JSON response from the server. Please ensure the API is reachable and try again.${u}`)}try{return JSON.parse(r)}catch{throw new Error(`${e} failed: unable to parse the server response.`)}}function uD({children:t}){const[e,a]=x.useState(null),[r,l]=x.useState(!0),u=x.useCallback(async()=>{l(!0);try{const y=await fetch("/api/auth/check",{credentials:"include"});if(!y.ok){tr.clear(),a(null);return}const _=await y.json();_?.authenticated&&_.user?a(_.user):(tr.clear(),a(null))}catch{tr.clear(),a(null)}finally{l(!1)}},[]);x.useEffect(()=>{let y=!0;return(async()=>{l(!0);try{const C=await fetch("/api/auth/check",{credentials:"include"});if(!y)return;if(!C.ok){tr.clear(),a(null);return}const A=await C.json();A?.authenticated&&A.user?a(A.user):(tr.clear(),a(null))}catch{y&&(tr.clear(),a(null))}finally{y&&l(!1)}})(),()=>{y=!1}},[]);const d=x.useCallback(async(y,_)=>{const C=await ro("POST","/api/auth/login",{username:y,password:_}),A=await sw(C,"Login"),M=aw(A);return a(M),M},[]),h=x.useCallback(async(y,_)=>{const C=await ro("POST","/api/auth/register",{username:y,password:_}),A=await sw(C,"Registration"),M=aw(A);return a(M),M},[]),p=x.useCallback(async()=>{try{await ro("POST","/api/auth/logout")}finally{tr.clear(),a(null)}},[]),v=x.useMemo(()=>({user:e,loading:r,login:d,register:h,logout:p,refresh:u}),[e,r,d,h,p,u]);return o.jsx(yj.Provider,{value:v,children:t})}function Oo(){const t=x.useContext(yj);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const qe=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("rounded-xl border bg-card text-card-foreground shadow",t),...e}));qe.displayName="Card";const mt=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));mt.displayName="CardHeader";const bt=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("font-semibold leading-none tracking-tight",t),...e}));bt.displayName="CardTitle";const Kt=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));Kt.displayName="CardDescription";const Ke=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("p-6 pt-0",t),...e}));Ke.displayName="CardContent";const dD=x.forwardRef(({className:t,...e},a)=>o.jsx("div",{ref:a,className:_e("flex items-center p-6 pt-0",t),...e}));dD.displayName="CardFooter";function rw(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(qe,{className:"w-full max-w-md mx-4",children:o.jsxs(Ke,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(Mg,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Gd="/assets/minimalist_legal_logo_navy_gold-B-0pkTJY.png",fD=x.createContext({isOpen:!1,setIsOpen:()=>{}});function iw({onClose:t}){const[e,a]=Ns(),{user:r,logout:l}=Oo(),[u,d]=x.useState(!1),h=[{icon:qA,label:"Dashboard",href:"/app"},{icon:P_,label:"My Cases",href:"/app/cases"},{icon:oc,label:"Trial Prep",href:"/app/trial-prep"},{icon:Eg,label:"Calendar",href:"/app/calendar"},{icon:F_,label:"Legal Research",href:"/app/research"},{icon:kO,label:"Settings",href:"/app/settings"}],p=()=>{t&&t()};return o.jsxs("div",{className:"w-64 h-screen bg-sidebar text-sidebar-foreground border-r border-sidebar-border flex flex-col shadow-2xl",children:[o.jsxs("div",{className:"p-4 md:p-6 flex items-center justify-between border-b border-sidebar-border/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-sidebar-primary/10 flex items-center justify-center p-1",children:o.jsx("img",{src:Gd,alt:"CaseBuddy Logo",className:"w-full h-full object-contain"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-serif font-bold text-lg text-sidebar-primary tracking-wide",children:"CaseBuddy"}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60 uppercase tracking-wider",children:"Legal AI OS"})]})]}),t&&o.jsx("button",{onClick:t,className:"md:hidden p-2 rounded-lg hover:bg-sidebar-accent transition-colors","data-testid":"button-close-sidebar",children:o.jsx(ho,{className:"w-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-2 md:mt-4 overflow-y-auto",children:h.map(v=>{const y=e===v.href||v.href!=="/app"&&e.startsWith(`${v.href}/`)||v.href==="/app/cases"&&e.startsWith("/app/case/");return o.jsxs(ma,{href:v.href,onClick:p,className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group
                ${y?"bg-sidebar-primary text-sidebar-primary-foreground font-medium shadow-md shadow-sidebar-primary/20":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-white"}
              `,children:[o.jsx(v.icon,{className:`w-5 h-5 ${y?"text-sidebar-primary-foreground":"text-sidebar-foreground/60 group-hover:text-white"}`}),o.jsx("span",{children:v.label})]},v.href)})}),o.jsxs("div",{className:"p-4 border-t border-sidebar-border/50",children:[o.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-sidebar-foreground/60 hover:bg-destructive/10 hover:text-destructive transition-colors",onClick:async()=>{d(!0);try{await l()}finally{a("/login"),d(!1)}},disabled:u,"data-testid":"button-sign-out",children:[o.jsx(JA,{className:"w-5 h-5"}),o.jsx("span",{children:u?"Signing out...":"Sign Out"})]}),r&&o.jsxs("div",{className:"mt-3 text-xs text-sidebar-foreground/50",children:["Signed in as ",r.username]})]})]})}function hD(){const{status:t,lastSaved:e}=Qd(),a=r=>r?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-secondary/50 text-xs","data-testid":"save-status-indicator",children:[t==="saving"&&o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-3 h-3 animate-spin text-blue-500"}),o.jsx("span",{className:"text-muted-foreground",children:"Saving..."})]}),t==="saved"&&o.jsxs(o.Fragment,{children:[o.jsx(Ha,{className:"w-3 h-3 text-green-500"}),o.jsx("span",{className:"text-green-600 font-medium",children:"Saved"}),e&&o.jsx("span",{className:"text-muted-foreground",children:a(e)})]}),t==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(yA,{className:"w-3 h-3 text-red-500"}),o.jsx("span",{className:"text-red-600 font-medium",children:"Save failed"})]})]})}function ws({children:t}){const[e,a]=x.useState(!1),{user:r}=Oo(),l=r?.username?.slice(0,1).toUpperCase()||"U",[u]=Ns();return x.useEffect(()=>{a(!1)},[u]),x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),o.jsx(fD.Provider,{value:{isOpen:e,setIsOpen:a},children:o.jsxs("div",{className:"min-h-screen bg-background font-sans flex",children:[o.jsx("div",{className:"hidden md:block fixed left-0 top-0 z-20",children:o.jsx(iw,{})}),e&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-30 animate-in fade-in duration-200",onClick:()=>a(!1)}),o.jsx("div",{className:`
          md:hidden fixed left-0 top-0 z-40 transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
        `,children:o.jsx(iw,{onClose:()=>a(!1)})}),o.jsxs("main",{className:"flex-1 md:ml-64 min-h-screen relative w-full",children:[o.jsxs("header",{className:"h-14 md:h-16 border-b bg-background/80 backdrop-blur-sm sticky top-0 z-10 px-4 md:px-8 flex items-center justify-between gap-2 md:gap-4",children:[o.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 -ml-2 rounded-lg hover:bg-secondary transition-colors","data-testid":"button-open-sidebar",children:o.jsx(eO,{className:"w-5 h-5"})}),o.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[o.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary/10 flex items-center justify-center p-0.5",children:o.jsx("img",{src:Gd,alt:"CaseBuddy",className:"w-full h-full object-contain"})}),o.jsx("span",{className:"font-serif font-bold text-primary text-sm",children:"CaseBuddy"})]}),o.jsxs("div",{className:"hidden sm:block flex-1 max-w-[200px] md:max-w-[384px] relative",children:[o.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 md:pl-10 pr-3 md:pr-4 py-2 bg-secondary/50 border-none rounded-full text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all","data-testid":"input-global-search"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[o.jsx("button",{className:"sm:hidden p-2 rounded-full hover:bg-secondary transition-colors","data-testid":"button-mobile-search",children:o.jsx(Xr,{className:"w-5 h-5 text-muted-foreground"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(hD,{})}),o.jsxs("button",{className:"relative p-2 rounded-full hover:bg-secondary transition-colors","data-testid":"button-notifications",children:[o.jsx(R_,{className:"w-5 h-5 text-muted-foreground"}),o.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full border-2 border-background"})]}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-serif font-bold text-xs",title:r?.username||"User",children:l})]})]}),o.jsx("div",{className:"p-4 md:p-8",children:t})]})]})})}var mD=Symbol.for("react.lazy"),hd=y1[" use ".trim().toString()];function pD(t){return typeof t=="object"&&t!==null&&"then"in t}function xj(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===mD&&"_payload"in t&&pD(t._payload)}function Yd(t){const e=vD(t),a=x.forwardRef((r,l)=>{let{children:u,...d}=r;xj(u)&&typeof hd=="function"&&(u=hd(u._payload));const h=x.Children.toArray(u),p=h.find(xD);if(p){const v=p.props.children,y=h.map(_=>_===p?x.Children.count(v)>1?x.Children.only(null):x.isValidElement(v)?v.props.children:null:_);return o.jsx(e,{...d,ref:l,children:x.isValidElement(v)?x.cloneElement(v,void 0,y):null})}return o.jsx(e,{...d,ref:l,children:u})});return a.displayName=`${t}.Slot`,a}var gD=Yd("Slot");function vD(t){const e=x.forwardRef((a,r)=>{let{children:l,...u}=a;if(xj(l)&&typeof hd=="function"&&(l=hd(l._payload)),x.isValidElement(l)){const d=wD(l),h=bD(u,l.props);return l.type!==x.Fragment&&(h.ref=r?N1(r,d):d),x.cloneElement(l,h)}return x.Children.count(l)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yD=Symbol("radix.slottable");function xD(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yD}function bD(t,e){const a={...e};for(const r in e){const l=t[r],u=e[r];/^on[A-Z]/.test(r)?l&&u?a[r]=(...h)=>{const p=u(...h);return l(...h),p}:l&&(a[r]=l):r==="style"?a[r]={...l,...u}:r==="className"&&(a[r]=[l,u].filter(Boolean).join(" "))}return{...t,...a}}function wD(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const Pg=Fd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ce=x.forwardRef(({className:t,variant:e,size:a,asChild:r=!1,...l},u)=>{const d=r?gD:"button";return o.jsx(d,{className:_e(Pg({variant:e,size:a,className:t})),ref:u,...l})});ce.displayName="Button";const pt=x.forwardRef(({className:t,type:e,...a},r)=>o.jsx("input",{type:e,className:_e("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));pt.displayName="Input";const At="/api";async function Lg(){const t=await fetch(`${At}/cases`);if(!t.ok)throw new Error("Failed to fetch cases");return t.json()}async function SD(t){const e=await fetch(`${At}/cases/${t}`);if(!e.ok)throw new Error("Failed to fetch case");return e.json()}async function bj(t){const e=await fetch(`${At}/cases`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create case");return e.json()}async function _D(t){const e=await fetch(`${At}/cases/${t}/discovery`);if(!e.ok)throw new Error("Failed to fetch discovery files");return e.json()}async function jD(t,e,a,r){const l=new FormData;l.append("file",e);const u=await fetch(`${At}/cases/${t}/discovery/upload`,{method:"POST",body:l});if(!u.ok)throw new Error("Failed to upload file");return u.json()}async function ND(t){const e=await fetch(`${At}/cases/${t}/timeline`);if(!e.ok)throw new Error("Failed to fetch timeline");return e.json()}async function CD(t){const e=t?`${At}/drive/folders?parentId=${encodeURIComponent(t)}`:`${At}/drive/folders`,a=await fetch(e);if(!a.ok)throw a.status===401?new Error("Google Drive not connected"):new Error("Failed to fetch Drive folders");return a.json()}async function TD(t){const e=await fetch(`${At}/cases/${t}/cloud-folders`);if(!e.ok)throw new Error("Failed to fetch cloud folders");return e.json()}async function kD(t,e,a,r){const l=await fetch(`${At}/cases/${t}/cloud-folders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folderId:e,folderName:a,batesPrefix:r})});if(!l.ok)throw new Error("Failed to link cloud folder");return l.json()}async function ED(t){const e=await fetch(`${At}/cloud-folders/${t}/sync`,{method:"POST"});if(!e.ok)throw e.status===401?new Error("Google Drive not connected"):new Error("Failed to sync cloud folder");return e.json()}async function MD(t=3){const e=await fetch(`${At}/news/latest?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch news");return e.json()}async function AD(t=2){const e=await fetch(`${At}/news/featured?limit=${t}`);if(!e.ok)throw new Error("Failed to fetch featured news");return e.json()}async function OD(t){const e=await fetch(`${At}/cases/${t}/briefs`);if(!e.ok)throw new Error("Failed to fetch legal briefs");return e.json()}async function DD(){const t=await fetch(`${At}/briefs/types`);if(!t.ok)throw new Error("Failed to fetch brief types");return t.json()}async function RD(t,e,a,r){const l=await fetch(`${At}/cases/${t}/briefs/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({briefType:e,title:a,additionalInstructions:r})});if(!l.ok)throw new Error("Failed to generate legal brief");return l.json()}async function PD(t){if(!(await fetch(`${At}/briefs/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete legal brief")}async function LD(){const t=await fetch(`${At}/conversations`);if(!t.ok)throw new Error("Failed to fetch conversations");return t.json()}async function zD(t){const e=await fetch(`${At}/conversations/${t}`);if(!e.ok)throw new Error("Failed to fetch conversation");return e.json()}async function ow(t,e){const a=await fetch(`${At}/conversations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,caseId:e})});if(!a.ok)throw new Error("Failed to create conversation");return a.json()}async function ID(t){if(!(await fetch(`${At}/conversations/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete conversation")}async function UD(t,e,a){const r=await fetch(`${At}/conversations/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!r.ok)throw new Error("Failed to send message");const l=r.body?.getReader();if(!l)throw new Error("No response body");const u=new TextDecoder;for(;;){const{done:d,value:h}=await l.read();if(d)break;const v=u.decode(h).split(`
`);for(const y of v)if(y.startsWith("data: "))try{const _=JSON.parse(y.slice(6));_.content&&a(_.content)}catch{}}}async function wj(t){if(!(await fetch(`${At}/cases/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete case")}async function BD(t){const e=await fetch(`${At}/cases/${t}/export`);if(!e.ok)throw new Error("Failed to export case data");return e.blob()}const zg=T1,Ig=k1,VD=C1,Sj=x.forwardRef(({className:t,...e},a)=>o.jsx(mg,{ref:a,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Sj.displayName=mg.displayName;const Jd=x.forwardRef(({className:t,children:e,...a},r)=>o.jsxs(VD,{children:[o.jsx(Sj,{}),o.jsxs(pg,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[e,o.jsxs(gg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ho,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jd.displayName=pg.displayName;const Zd=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zd.displayName="DialogHeader";const _j=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_j.displayName="DialogFooter";const Kd=x.forwardRef(({className:t,...e},a)=>o.jsx(vg,{ref:a,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));Kd.displayName=vg.displayName;const Xd=x.forwardRef(({className:t,...e},a)=>o.jsx(yg,{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));Xd.displayName=yg.displayName;function FD(){const{toast:t}=Wn(),[,e]=Ns(),{data:a,isLoading:r}=gn({queryKey:["cases"],queryFn:Lg}),{data:l=[]}=gn({queryKey:["news","latest"],queryFn:()=>MD(3),refetchInterval:300*1e3});x.useEffect(()=>{if(a&&a.length>0){const h=a.reduce((p,v)=>p+(v.filesCount||0),0);h>0&&t({title:"System Ready",description:`CaseBuddy AI has successfully indexed ${h.toLocaleString()} documents.`})}},[]);const u=a?.filter(h=>h.nextDeadline&&new Date(h.nextDeadline)>new Date).length||0,d=a?.reduce((h,p)=>h+(p.filesCount||0),0)||0;return o.jsx(ws,{children:o.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-serif font-bold text-primary mb-1 sm:mb-2",children:"Good Morning, Counselor."}),o.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:["Here is your case overview for today, ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),"."]})]}),o.jsx(lw,{onSuccess:h=>e(`/app/case/${h}`)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(qe,{className:"border-l-4 border-l-primary bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[o.jsx(mt,{className:"pb-2",children:o.jsx(bt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Active Matters"})}),o.jsxs(Ke,{children:[o.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:a?.filter(h=>h.status==="active").length||0}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-green-600",children:[o.jsx(LO,{className:"w-3 h-3"}),o.jsxs("span",{children:[a?.length||0," total cases"]})]})]})]}),o.jsxs(qe,{className:"border-l-4 border-l-accent bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[o.jsx(mt,{className:"pb-2",children:o.jsx(bt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Upcoming Deadlines"})}),o.jsxs(Ke,{children:[o.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:u}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-orange-600",children:[o.jsx(Mg,{className:"w-3 h-3"}),o.jsx("span",{children:"Cases with deadlines set"})]})]})]}),o.jsxs(qe,{className:"border-l-4 border-l-slate-400 bg-card/50 backdrop-blur-sm hover:shadow-lg transition-all",children:[o.jsx(mt,{className:"pb-2",children:o.jsx(bt,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Documents Processed"})}),o.jsxs(Ke,{children:[o.jsx("div",{className:"text-4xl font-bold font-serif text-primary",children:d>=1e3?(d/1e3).toFixed(1)+"k":d}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[o.jsx(HM,{className:"w-3 h-3"}),o.jsx("span",{children:"Total documents in system"})]})]})]})]}),l.length>0&&o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Sp,{className:"w-5 h-5 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-medium text-muted-foreground",children:"Legal News & Updates"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(h=>o.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"group bg-muted/30 border border-border/50 rounded-lg p-4 hover:bg-muted/50 hover:border-primary/20 transition-all","data-testid":`news-article-${h.id}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsx("h3",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:h.title}),o.jsx(rr,{className:"w-3 h-3 text-muted-foreground flex-shrink-0 mt-0.5"})]}),h.summary&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:h.summary}),o.jsx("div",{className:"text-xs text-muted-foreground/70",children:h.publishedAt?new Date(h.publishedAt).toLocaleDateString():"We The People News"})]},h.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold font-serif text-primary",children:"Recent Activity"}),o.jsxs(ce,{variant:"ghost",size:"sm",className:"text-sm text-primary",onClick:()=>e("/app/cases"),children:[o.jsx("span",{className:"hidden sm:inline",children:"View All Cases"}),o.jsx("span",{className:"sm:hidden",children:"View All"}),o.jsx(QM,{className:"w-4 h-4 ml-1"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[r&&o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading cases..."}),!r&&(!a||a.length===0)&&o.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[o.jsx(ya,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No cases yet. Create your first case to get started."}),o.jsx(lw,{onSuccess:h=>e(`/app/case/${h}`)})]}),a&&a.slice(0,5).map(h=>o.jsx(ma,{href:`/app/case/${h.id}`,children:o.jsxs("div",{className:"group bg-card border hover:border-accent/50 p-4 sm:p-6 rounded-xl shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden","data-testid":`case-card-${h.id}`,children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary group-hover:bg-accent transition-colors"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1 flex-wrap",children:[o.jsx("span",{className:"text-xs font-mono text-muted-foreground bg-secondary px-2 py-0.5 rounded border border-border",children:h.caseNumber}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-foreground group-hover:text-primary transition-colors truncate",children:h.title}),h.status==="active"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse flex-shrink-0"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2 sm:mb-3 line-clamp-2",children:h.description||"No description"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(ya,{className:"w-3 h-3"}),h.filesCount.toLocaleString()," Docs"]}),o.jsxs("span",{className:"flex items-center gap-1.5",children:[o.jsx(qd,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Last active:"})," ",h.lastActivity?new Date(h.lastActivity).toLocaleDateString():"Never"]})]})]}),o.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-center pt-2 sm:pt-0 border-t sm:border-t-0 sm:text-right",children:[o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-0 sm:mb-1",children:"Next Deadline"}),o.jsxs("div",{className:"text-sm font-medium text-destructive flex items-center gap-1 justify-end",children:[o.jsx(qD,{className:"w-3 h-3"}),h.nextDeadline?new Date(h.nextDeadline).toLocaleDateString():"None set"]})]})]})]})},h.id))]})]})]})})}function lw({onSuccess:t}){const[e,a]=x.useState(!1),[r,l]=x.useState(""),[u,d]=x.useState(""),[h,p]=x.useState(""),[v,y]=x.useState(""),{toast:_}=Wn(),C=La(),A=Xn({mutationFn:()=>bj({title:r,caseNumber:u,client:h,description:v}),onSuccess:j=>{C.invalidateQueries({queryKey:["cases"]}),_({title:"Case Created",description:`${j.title} has been created successfully.`}),a(!1),l(""),d(""),p(""),y(""),t?.(j.id)},onError:()=>{_({title:"Failed to Create Case",description:"Please check your input and try again.",variant:"destructive"})}}),M=j=>{if(j.preventDefault(),!r||!u||!h){_({title:"Missing Required Fields",description:"Please fill in case title, case number, and client name.",variant:"destructive"});return}A.mutate()};return o.jsxs(zg,{open:e,onOpenChange:a,children:[o.jsx(Ig,{asChild:!0,children:o.jsxs(ce,{size:"default",className:"w-full sm:w-auto bg-primary text-primary-foreground hover:bg-primary/90","data-testid":"button-new-case",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"})," New Case Intake"]})}),o.jsxs(Jd,{className:"max-w-[95vw] sm:max-w-[500px]",children:[o.jsxs(Zd,{children:[o.jsx(Kd,{className:"font-serif text-xl",children:"New Case Intake"}),o.jsx(Xd,{children:"Enter the case details to create a new matter in CaseBuddy."})]}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Case Title *"}),o.jsx(pt,{placeholder:"e.g., Smith v. Johnson",value:r,onChange:j=>l(j.target.value),required:!0,"data-testid":"input-case-title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Case Number *"}),o.jsx(pt,{placeholder:"e.g., 2024-CV-12345",value:u,onChange:j=>d(j.target.value),required:!0,"data-testid":"input-case-number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Client Name *"}),o.jsx(pt,{placeholder:"e.g., John Smith",value:h,onChange:j=>p(j.target.value),required:!0,"data-testid":"input-client-name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Description"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background min-h-[80px] text-sm",placeholder:"Brief description of the case...",value:v,onChange:j=>y(j.target.value),"data-testid":"input-case-description"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),o.jsx(ce,{type:"submit",disabled:A.isPending,"data-testid":"button-create-case",children:A.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Case"})]})]})]})]})}function qD({className:t}){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[o.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),o.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),o.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),o.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]})}const Wd=Yk,uc=x.forwardRef(({className:t,...e},a)=>o.jsx(E1,{ref:a,className:_e("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));uc.displayName=E1.displayName;const jn=x.forwardRef(({className:t,...e},a)=>o.jsx(M1,{ref:a,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));jn.displayName=M1.displayName;const Nn=x.forwardRef(({className:t,...e},a)=>o.jsx(A1,{ref:a,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nn.displayName=A1.displayName;const HD=Fd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Xt({className:t,variant:e,...a}){return o.jsx("div",{className:_e(HD({variant:e}),t),...a})}function kp(t,[e,a]){return Math.min(a,Math.max(e,t))}function $D(t,e){return x.useReducer((a,r)=>e[a][r]??a,t)}var Ug="ScrollArea",[jj]=Co(Ug),[QD,wa]=jj(Ug),Nj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,type:r="hover",dir:l,scrollHideDelay:u=600,...d}=t,[h,p]=x.useState(null),[v,y]=x.useState(null),[_,C]=x.useState(null),[A,M]=x.useState(null),[j,T]=x.useState(null),[k,D]=x.useState(0),[P,z]=x.useState(0),[U,F]=x.useState(!1),[Y,Z]=x.useState(!1),de=Ot(e,Ne=>p(Ne)),pe=O1(l);return o.jsx(QD,{scope:a,type:r,dir:pe,scrollHideDelay:u,scrollArea:h,viewport:v,onViewportChange:y,content:_,onContentChange:C,scrollbarX:A,onScrollbarXChange:M,scrollbarXEnabled:U,onScrollbarXEnabledChange:F,scrollbarY:j,onScrollbarYChange:T,scrollbarYEnabled:Y,onScrollbarYEnabledChange:Z,onCornerWidthChange:D,onCornerHeightChange:z,children:o.jsx(wt.div,{dir:pe,...d,ref:de,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":P+"px",...t.style}})})});Nj.displayName=Ug;var Cj="ScrollAreaViewport",Tj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,children:r,nonce:l,...u}=t,d=wa(Cj,a),h=x.useRef(null),p=Ot(e,h,d.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),o.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...u,ref:p,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Tj.displayName=Cj;var Ya="ScrollAreaScrollbar",Bg=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,l=wa(Ya,t.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:d}=l,h=t.orientation==="horizontal";return x.useEffect(()=>(h?u(!0):d(!0),()=>{h?u(!1):d(!1)}),[h,u,d]),l.type==="hover"?o.jsx(GD,{...r,ref:e,forceMount:a}):l.type==="scroll"?o.jsx(YD,{...r,ref:e,forceMount:a}):l.type==="auto"?o.jsx(kj,{...r,ref:e,forceMount:a}):l.type==="always"?o.jsx(Vg,{...r,ref:e}):null});Bg.displayName=Ya;var GD=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,l=wa(Ya,t.__scopeScrollArea),[u,d]=x.useState(!1);return x.useEffect(()=>{const h=l.scrollArea;let p=0;if(h){const v=()=>{window.clearTimeout(p),d(!0)},y=()=>{p=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return h.addEventListener("pointerenter",v),h.addEventListener("pointerleave",y),()=>{window.clearTimeout(p),h.removeEventListener("pointerenter",v),h.removeEventListener("pointerleave",y)}}},[l.scrollArea,l.scrollHideDelay]),o.jsx(di,{present:a||u,children:o.jsx(kj,{"data-state":u?"visible":"hidden",...r,ref:e})})}),YD=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,l=wa(Ya,t.__scopeScrollArea),u=t.orientation==="horizontal",d=tf(()=>p("SCROLL_END"),100),[h,p]=$D("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(h==="idle"){const v=window.setTimeout(()=>p("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(v)}},[h,l.scrollHideDelay,p]),x.useEffect(()=>{const v=l.viewport,y=u?"scrollLeft":"scrollTop";if(v){let _=v[y];const C=()=>{const A=v[y];_!==A&&(p("SCROLL"),d()),_=A};return v.addEventListener("scroll",C),()=>v.removeEventListener("scroll",C)}},[l.viewport,u,p,d]),o.jsx(di,{present:a||h!=="hidden",children:o.jsx(Vg,{"data-state":h==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:Ue(t.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),kj=x.forwardRef((t,e)=>{const a=wa(Ya,t.__scopeScrollArea),{forceMount:r,...l}=t,[u,d]=x.useState(!1),h=t.orientation==="horizontal",p=tf(()=>{if(a.viewport){const v=a.viewport.offsetWidth<a.viewport.scrollWidth,y=a.viewport.offsetHeight<a.viewport.scrollHeight;d(h?v:y)}},10);return po(a.viewport,p),po(a.content,p),o.jsx(di,{present:r||u,children:o.jsx(Vg,{"data-state":u?"visible":"hidden",...l,ref:e})})}),Vg=x.forwardRef((t,e)=>{const{orientation:a="vertical",...r}=t,l=wa(Ya,t.__scopeScrollArea),u=x.useRef(null),d=x.useRef(0),[h,p]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=Dj(h.viewport,h.content),y={...r,sizes:h,onSizesChange:p,hasThumb:v>0&&v<1,onThumbChange:C=>u.current=C,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:C=>d.current=C};function _(C,A){return e3(C,d.current,h,A)}return a==="horizontal"?o.jsx(JD,{...y,ref:e,onThumbPositionChange:()=>{if(l.viewport&&u.current){const C=l.viewport.scrollLeft,A=cw(C,h,l.dir);u.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:C=>{l.viewport&&(l.viewport.scrollLeft=C)},onDragScroll:C=>{l.viewport&&(l.viewport.scrollLeft=_(C,l.dir))}}):a==="vertical"?o.jsx(ZD,{...y,ref:e,onThumbPositionChange:()=>{if(l.viewport&&u.current){const C=l.viewport.scrollTop,A=cw(C,h);u.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:C=>{l.viewport&&(l.viewport.scrollTop=C)},onDragScroll:C=>{l.viewport&&(l.viewport.scrollTop=_(C))}}):null}),JD=x.forwardRef((t,e)=>{const{sizes:a,onSizesChange:r,...l}=t,u=wa(Ya,t.__scopeScrollArea),[d,h]=x.useState(),p=x.useRef(null),v=Ot(e,p,u.onScrollbarXChange);return x.useEffect(()=>{p.current&&h(getComputedStyle(p.current))},[p]),o.jsx(Mj,{"data-orientation":"horizontal",...l,ref:v,sizes:a,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ef(a)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,_)=>{if(u.viewport){const C=u.viewport.scrollLeft+y.deltaX;t.onWheelScroll(C),Pj(C,_)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&r({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:pd(d.paddingLeft),paddingEnd:pd(d.paddingRight)}})}})}),ZD=x.forwardRef((t,e)=>{const{sizes:a,onSizesChange:r,...l}=t,u=wa(Ya,t.__scopeScrollArea),[d,h]=x.useState(),p=x.useRef(null),v=Ot(e,p,u.onScrollbarYChange);return x.useEffect(()=>{p.current&&h(getComputedStyle(p.current))},[p]),o.jsx(Mj,{"data-orientation":"vertical",...l,ref:v,sizes:a,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ef(a)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,_)=>{if(u.viewport){const C=u.viewport.scrollTop+y.deltaY;t.onWheelScroll(C),Pj(C,_)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&r({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:pd(d.paddingTop),paddingEnd:pd(d.paddingBottom)}})}})}),[KD,Ej]=jj(Ya),Mj=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:l,onThumbChange:u,onThumbPointerUp:d,onThumbPointerDown:h,onThumbPositionChange:p,onDragScroll:v,onWheelScroll:y,onResize:_,...C}=t,A=wa(Ya,a),[M,j]=x.useState(null),T=Ot(e,de=>j(de)),k=x.useRef(null),D=x.useRef(""),P=A.viewport,z=r.content-r.viewport,U=Jn(y),F=Jn(p),Y=tf(_,10);function Z(de){if(k.current){const pe=de.clientX-k.current.left,Ne=de.clientY-k.current.top;v({x:pe,y:Ne})}}return x.useEffect(()=>{const de=pe=>{const Ne=pe.target;M?.contains(Ne)&&U(pe,z)};return document.addEventListener("wheel",de,{passive:!1}),()=>document.removeEventListener("wheel",de,{passive:!1})},[P,M,z,U]),x.useEffect(F,[r,F]),po(M,Y),po(A.content,Y),o.jsx(KD,{scope:a,scrollbar:M,hasThumb:l,onThumbChange:Jn(u),onThumbPointerUp:Jn(d),onThumbPositionChange:F,onThumbPointerDown:Jn(h),children:o.jsx(wt.div,{...C,ref:T,style:{position:"absolute",...C.style},onPointerDown:Ue(t.onPointerDown,de=>{de.button===0&&(de.target.setPointerCapture(de.pointerId),k.current=M.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A.viewport&&(A.viewport.style.scrollBehavior="auto"),Z(de))}),onPointerMove:Ue(t.onPointerMove,Z),onPointerUp:Ue(t.onPointerUp,de=>{const pe=de.target;pe.hasPointerCapture(de.pointerId)&&pe.releasePointerCapture(de.pointerId),document.body.style.webkitUserSelect=D.current,A.viewport&&(A.viewport.style.scrollBehavior=""),k.current=null})})})}),md="ScrollAreaThumb",Aj=x.forwardRef((t,e)=>{const{forceMount:a,...r}=t,l=Ej(md,t.__scopeScrollArea);return o.jsx(di,{present:a||l.hasThumb,children:o.jsx(XD,{ref:e,...r})})}),XD=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,style:r,...l}=t,u=wa(md,a),d=Ej(md,a),{onThumbPositionChange:h}=d,p=Ot(e,_=>d.onThumbChange(_)),v=x.useRef(void 0),y=tf(()=>{v.current&&(v.current(),v.current=void 0)},100);return x.useEffect(()=>{const _=u.viewport;if(_){const C=()=>{if(y(),!v.current){const A=t3(_,h);v.current=A,h()}};return h(),_.addEventListener("scroll",C),()=>_.removeEventListener("scroll",C)}},[u.viewport,y,h]),o.jsx(wt.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(t.onPointerDownCapture,_=>{const A=_.target.getBoundingClientRect(),M=_.clientX-A.left,j=_.clientY-A.top;d.onThumbPointerDown({x:M,y:j})}),onPointerUp:Ue(t.onPointerUp,d.onThumbPointerUp)})});Aj.displayName=md;var Fg="ScrollAreaCorner",Oj=x.forwardRef((t,e)=>{const a=wa(Fg,t.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?o.jsx(WD,{...t,ref:e}):null});Oj.displayName=Fg;var WD=x.forwardRef((t,e)=>{const{__scopeScrollArea:a,...r}=t,l=wa(Fg,a),[u,d]=x.useState(0),[h,p]=x.useState(0),v=!!(u&&h);return po(l.scrollbarX,()=>{const y=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(y),p(y)}),po(l.scrollbarY,()=>{const y=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(y),d(y)}),v?o.jsx(wt.div,{...r,ref:e,style:{width:u,height:h,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function pd(t){return t?parseInt(t,10):0}function Dj(t,e){const a=t/e;return isNaN(a)?0:a}function ef(t){const e=Dj(t.viewport,t.content),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-a)*e;return Math.max(r,18)}function e3(t,e,a,r="ltr"){const l=ef(a),u=l/2,d=e||u,h=l-d,p=a.scrollbar.paddingStart+d,v=a.scrollbar.size-a.scrollbar.paddingEnd-h,y=a.content-a.viewport,_=r==="ltr"?[0,y]:[y*-1,0];return Rj([p,v],_)(t)}function cw(t,e,a="ltr"){const r=ef(e),l=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,u=e.scrollbar.size-l,d=e.content-e.viewport,h=u-r,p=a==="ltr"?[0,d]:[d*-1,0],v=kp(t,p);return Rj([0,d],[0,h])(v)}function Rj(t,e){return a=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(a-t[0])}}function Pj(t,e){return t>0&&t<e}var t3=(t,e=()=>{})=>{let a={left:t.scrollLeft,top:t.scrollTop},r=0;return(function l(){const u={left:t.scrollLeft,top:t.scrollTop},d=a.left!==u.left,h=a.top!==u.top;(d||h)&&e(),a=u,r=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(r)};function tf(t,e){const a=Jn(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,e)},[a,e])}function po(t,e){const a=Jn(e);Kn(()=>{let r=0;if(t){const l=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return l.observe(t),()=>{window.cancelAnimationFrame(r),l.unobserve(t)}}},[t,a])}var Lj=Nj,n3=Tj,a3=Oj;const Wr=x.forwardRef(({className:t,children:e,...a},r)=>o.jsxs(Lj,{ref:r,className:_e("relative overflow-hidden",t),...a,children:[o.jsx(n3,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(zj,{}),o.jsx(a3,{})]}));Wr.displayName=Lj.displayName;const zj=x.forwardRef(({className:t,orientation:e="vertical",...a},r)=>o.jsx(Bg,{ref:r,orientation:e,className:_e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:o.jsx(Aj,{className:"relative flex-1 rounded-full bg-border"})}));zj.displayName=Bg.displayName;var s3=Symbol("radix.slottable");function r3(t){const e=({children:a})=>o.jsx(o.Fragment,{children:a});return e.displayName=`${t}.Slottable`,e.__radixId=s3,e}var Ij="AlertDialog",[i3]=Co(Ij,[D1]),Cs=D1(),Uj=t=>{const{__scopeAlertDialog:e,...a}=t,r=Cs(e);return o.jsx(T1,{...r,...a,modal:!0})};Uj.displayName=Ij;var o3="AlertDialogTrigger",Bj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,l=Cs(a);return o.jsx(k1,{...l,...r,ref:e})});Bj.displayName=o3;var l3="AlertDialogPortal",Vj=t=>{const{__scopeAlertDialog:e,...a}=t,r=Cs(e);return o.jsx(C1,{...r,...a})};Vj.displayName=l3;var c3="AlertDialogOverlay",Fj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,l=Cs(a);return o.jsx(mg,{...l,...r,ref:e})});Fj.displayName=c3;var io="AlertDialogContent",[u3,d3]=i3(io),f3=r3("AlertDialogContent"),qj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,children:r,...l}=t,u=Cs(a),d=x.useRef(null),h=Ot(e,d),p=x.useRef(null);return o.jsx(Jk,{contentName:io,titleName:Hj,docsSlug:"alert-dialog",children:o.jsx(u3,{scope:a,cancelRef:p,children:o.jsxs(pg,{role:"alertdialog",...u,...l,ref:h,onOpenAutoFocus:Ue(l.onOpenAutoFocus,v=>{v.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[o.jsx(f3,{children:r}),o.jsx(m3,{contentRef:d})]})})})});qj.displayName=io;var Hj="AlertDialogTitle",$j=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,l=Cs(a);return o.jsx(vg,{...l,...r,ref:e})});$j.displayName=Hj;var Qj="AlertDialogDescription",Gj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,l=Cs(a);return o.jsx(yg,{...l,...r,ref:e})});Gj.displayName=Qj;var h3="AlertDialogAction",Yj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,l=Cs(a);return o.jsx(gg,{...l,...r,ref:e})});Yj.displayName=h3;var Jj="AlertDialogCancel",Zj=x.forwardRef((t,e)=>{const{__scopeAlertDialog:a,...r}=t,{cancelRef:l}=d3(Jj,a),u=Cs(a),d=Ot(e,l);return o.jsx(gg,{...u,...r,ref:d})});Zj.displayName=Jj;var m3=({contentRef:t})=>{const e=`\`${io}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${io}\` by passing a \`${Qj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${io}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},p3=Uj,g3=Bj,v3=Vj,Kj=Fj,Xj=qj,Wj=Yj,eN=Zj,tN=$j,nN=Gj;const aN=p3,sN=g3,y3=v3,rN=x.forwardRef(({className:t,...e},a)=>o.jsx(Kj,{className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:a}));rN.displayName=Kj.displayName;const qg=x.forwardRef(({className:t,...e},a)=>o.jsxs(y3,{children:[o.jsx(rN,{}),o.jsx(Xj,{ref:a,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));qg.displayName=Xj.displayName;const Hg=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",t),...e});Hg.displayName="AlertDialogHeader";const $g=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$g.displayName="AlertDialogFooter";const Qg=x.forwardRef(({className:t,...e},a)=>o.jsx(tN,{ref:a,className:_e("text-lg font-semibold",t),...e}));Qg.displayName=tN.displayName;const Gg=x.forwardRef(({className:t,...e},a)=>o.jsx(nN,{ref:a,className:_e("text-sm text-muted-foreground",t),...e}));Gg.displayName=nN.displayName;const Yg=x.forwardRef(({className:t,...e},a)=>o.jsx(Wj,{ref:a,className:_e(Pg(),t),...e}));Yg.displayName=Wj.displayName;const Jg=x.forwardRef(({className:t,...e},a)=>o.jsx(eN,{ref:a,className:_e(Pg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Jg.displayName=eN.displayName;function x3({variant:t="sidebar",limit:e=1}){const{data:a=[]}=gn({queryKey:["news","featured"],queryFn:()=>AD(2),refetchInterval:3e5}),r=a.slice(0,e);return r.length===0?null:t==="inline"?o.jsxs("div",{className:"mt-6 pt-6 border-t border-border/50",children:[o.jsx("div",{className:"text-xs uppercase tracking-wider text-muted-foreground/70 mb-3",children:"Related Reading"}),r.map(l=>o.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"group flex items-start gap-3 p-3 rounded-lg bg-muted/20 hover:bg-muted/40 transition-colors","data-testid":`featured-news-${l.id}`,children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:l.title}),l.summary&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:l.summary})]}),o.jsx(rr,{className:"w-3 h-3 text-muted-foreground flex-shrink-0 mt-1"})]},l.id))]}):o.jsxs("div",{className:"bg-muted/30 border border-border/50 rounded-lg p-4",children:[o.jsx("div",{className:"text-xs uppercase tracking-wider text-muted-foreground/70 mb-3",children:"From WTP News"}),o.jsx("div",{className:"space-y-3",children:r.map(l=>o.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"group block","data-testid":`featured-news-sidebar-${l.id}`,children:[o.jsx("h4",{className:"text-sm font-medium line-clamp-2 group-hover:text-primary transition-colors",children:l.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[o.jsx("span",{children:l.publishedAt?new Date(l.publishedAt).toLocaleDateString():"We The People News"}),o.jsx(rr,{className:"w-2.5 h-2.5"})]})]},l.id))})]})}function b3(){const t=localStorage.getItem("casebuddy_user_id");if(t)return t;const e=`user_${Math.random().toString(36).slice(2,10)}`;return localStorage.setItem("casebuddy_user_id",e),e}function w3(){const t=localStorage.getItem("casebuddy_user_name");if(t)return t;const e=["Alex","Jordan","Sam","Taylor","Morgan","Casey","Riley","Quinn"],a=e[Math.floor(Math.random()*e.length)];return localStorage.setItem("casebuddy_user_name",a),a}function S3(t){const{user:e}=Oo(),[a,r]=x.useState([]),[l,u]=x.useState(!1),d=x.useRef(null),h=La(),p=x.useRef(null),v=x.useRef(null),y=x.useRef(!0),_=x.useRef(e?.id||b3()),C=x.useRef(e?.username||w3()),A=x.useCallback(()=>{if(!t||d.current?.readyState===WebSocket.OPEN)return;y.current=!0;const k=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/collaboration`,D=new WebSocket(k);d.current=D,D.onopen=()=>{u(!0),D.send(JSON.stringify({type:"join",caseId:t,userId:_.current,userName:C.current})),v.current=setInterval(()=>{D.readyState===WebSocket.OPEN&&D.send(JSON.stringify({type:"ping"}))},3e4)},D.onmessage=P=>{try{const z=JSON.parse(P.data);switch(z.type){case"presence":z.users&&r(z.users.filter(U=>U.id!==_.current));break;case"update":z.data?.updateType&&h.invalidateQueries({queryKey:[z.data.updateType,String(t)]});break}}catch(z){console.error("Failed to parse collaboration message:",z)}},D.onclose=()=>{u(!1),r([]),v.current&&clearInterval(v.current),y.current&&(p.current=setTimeout(()=>{A()},3e3))},D.onerror=()=>{D.close()}},[t,h]),M=x.useCallback(()=>{y.current=!1,p.current&&clearTimeout(p.current),v.current&&clearInterval(v.current),d.current&&(d.current.close(),d.current=null),u(!1),r([])},[]),j=x.useCallback((T,k)=>{d.current?.readyState===WebSocket.OPEN&&d.current.send(JSON.stringify({type:"update",data:{updateType:T,...k}}))},[]);return x.useEffect(()=>{e?.id&&(_.current=e.id,C.current=e.username)},[e]),x.useEffect(()=>(t&&A(),()=>{M()}),[t,A,M]),{collaborators:a,isConnected:l,userId:_.current,userName:C.current,notifyUpdate:j}}function _3(t,e=[]){let a=[];function r(u,d){const h=x.createContext(d);h.displayName=u+"Context";const p=a.length;a=[...a,d];const v=_=>{const{scope:C,children:A,...M}=_,j=C?.[t]?.[p]||h,T=x.useMemo(()=>M,Object.values(M));return o.jsx(j.Provider,{value:T,children:A})};v.displayName=u+"Provider";function y(_,C){const A=C?.[t]?.[p]||h,M=x.useContext(A);if(M)return M;if(d!==void 0)return d;throw new Error(`\`${_}\` must be used within \`${u}\``)}return[v,y]}const l=()=>{const u=a.map(d=>x.createContext(d));return function(h){const p=h?.[t]||u;return x.useMemo(()=>({[`__scope${t}`]:{...h,[t]:p}}),[h,p])}};return l.scopeName=t,[r,j3(l,...e)]}function j3(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const r=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const d=r.reduce((h,{useScope:p,scopeName:v})=>{const _=p(u)[`__scope${v}`];return{...h,..._}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return a.scopeName=e.scopeName,a}var N3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zg=N3.reduce((t,e)=>{const a=Yd(`Primitive.${e}`),r=x.forwardRef((l,u)=>{const{asChild:d,...h}=l,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function C3(){return H1.useSyncExternalStore(T3,()=>!0,()=>!1)}function T3(){return()=>{}}var Kg="Avatar",[k3]=_3(Kg),[E3,iN]=k3(Kg),oN=x.forwardRef((t,e)=>{const{__scopeAvatar:a,...r}=t,[l,u]=x.useState("idle");return o.jsx(E3,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:u,children:o.jsx(Zg.span,{...r,ref:e})})});oN.displayName=Kg;var lN="AvatarImage",cN=x.forwardRef((t,e)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:l=()=>{},...u}=t,d=iN(lN,a),h=M3(r,u),p=Jn(v=>{l(v),d.onImageLoadingStatusChange(v)});return Kn(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?o.jsx(Zg.img,{...u,ref:e,src:r}):null});cN.displayName=lN;var uN="AvatarFallback",dN=x.forwardRef((t,e)=>{const{__scopeAvatar:a,delayMs:r,...l}=t,u=iN(uN,a),[d,h]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),d&&u.imageLoadingStatus!=="loaded"?o.jsx(Zg.span,{...l,ref:e}):null});dN.displayName=uN;function uw(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function M3(t,{referrerPolicy:e,crossOrigin:a}){const r=C3(),l=x.useRef(null),u=r?(l.current||(l.current=new window.Image),l.current):null,[d,h]=x.useState(()=>uw(u,t));return Kn(()=>{h(uw(u,t))},[u,t]),Kn(()=>{const p=_=>()=>{h(_)};if(!u)return;const v=p("loaded"),y=p("error");return u.addEventListener("load",v),u.addEventListener("error",y),e&&(u.referrerPolicy=e),typeof a=="string"&&(u.crossOrigin=a),()=>{u.removeEventListener("load",v),u.removeEventListener("error",y)}},[u,a,e]),d}var fN=oN,hN=cN,mN=dN;const gd=x.forwardRef(({className:t,...e},a)=>o.jsx(fN,{ref:a,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));gd.displayName=fN.displayName;const A3=x.forwardRef(({className:t,...e},a)=>o.jsx(hN,{ref:a,className:_e("aspect-square h-full w-full",t),...e}));A3.displayName=hN.displayName;const vd=x.forwardRef(({className:t,...e},a)=>o.jsx(mN,{ref:a,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));vd.displayName=mN.displayName;function dw({collaborators:t,isConnected:e}){return e?t.length===0?o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"hidden sm:inline",children:"Only you"})]}):o.jsx(gj,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsxs("div",{className:"flex -space-x-2",children:[t.slice(0,3).map(a=>o.jsxs(tw,{children:[o.jsx(nw,{asChild:!0,children:o.jsx(gd,{className:"w-7 h-7 border-2 border-background cursor-default","data-testid":`collaborator-${a.id}`,children:o.jsx(vd,{className:"text-[10px] font-semibold text-white",style:{backgroundColor:a.color},children:a.name.slice(0,2).toUpperCase()})})}),o.jsxs(Tp,{side:"bottom",className:"text-xs",children:[a.name," is viewing this case"]})]},a.id)),t.length>3&&o.jsxs(tw,{children:[o.jsx(nw,{asChild:!0,children:o.jsx(gd,{className:"w-7 h-7 border-2 border-background cursor-default",children:o.jsxs(vd,{className:"text-[10px] font-semibold bg-muted text-muted-foreground",children:["+",t.length-3]})})}),o.jsxs(Tp,{side:"bottom",className:"text-xs",children:[t.slice(3).map(a=>a.name).join(", ")," also viewing"]})]})]}),o.jsxs("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:[o.jsx(Fl,{className:"w-3 h-3 inline mr-1"}),t.length+1," active"]})]})}):o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),o.jsx("span",{className:"hidden sm:inline",children:"Connecting..."})]})}function fw(t,e){if(t==null)return{};var a,r,l=(function(d,h){if(d==null)return{};var p={};for(var v in d)if({}.hasOwnProperty.call(d,v)){if(h.indexOf(v)!==-1)continue;p[v]=d[v]}return p})(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)a=u[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t){return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(t)}function pN(t){var e=(function(a,r){if(at(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,r);if(at(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t,"string");return at(e)=="symbol"?e:e+""}function hw(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pN(r.key),r)}}function ta(t,e,a){return e&&hw(t.prototype,e),a&&hw(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function nf(t,e){if(e&&(at(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(t)}function Ra(t){return Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(t)}function Hl(t,e){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Hl(t,e)}function af(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hl(t,e)}function qa(t,e,a){return(e=pN(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function mw(t,e,a,r,l,u,d){try{var h=t[u](d),p=h.value}catch(v){return void a(v)}h.done?e(p):Promise.resolve(p).then(r,l)}function Re(t){return function(){var e=this,a=arguments;return new Promise((function(r,l){var u=t.apply(e,a);function d(p){mw(u,r,l,d,h,"next",p)}function h(p){mw(u,r,l,d,h,"throw",p)}d(void 0)}))}}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function yn(t,e){return(function(a){if(Array.isArray(a))return a})(t)||(function(a,r){var l=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(l!=null){var u,d,h,p,v=[],y=!0,_=!1;try{if(h=(l=l.call(a)).next,r===0){if(Object(l)!==l)return;y=!1}else for(;!(y=(u=h.call(l)).done)&&(v.push(u.value),v.length!==r);y=!0);}catch(C){_=!0,d=C}finally{try{if(!y&&l.return!=null&&(p=l.return(),Object(p)!==p))return}finally{if(_)throw d}}return v}})(t,e)||(function(a,r){if(a){if(typeof a=="string")return pw(a,r);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?pw(a,r):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function O3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gw,Uu={exports:{}},Ep=(function(){if(gw)return Uu.exports;gw=1;var t,e=typeof Reflect=="object"?Reflect:null,a=e&&typeof e.apply=="function"?e.apply:function(j,T,k){return Function.prototype.apply.call(j,T,k)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.getOwnPropertyNames(j)};var r=Number.isNaN||function(j){return j!=j};function l(){l.init.call(this)}Uu.exports=l,Uu.exports.once=function(j,T){return new Promise((function(k,D){function P(U){j.removeListener(T,z),D(U)}function z(){typeof j.removeListener=="function"&&j.removeListener("error",P),k([].slice.call(arguments))}M(j,T,z,{once:!0}),T!=="error"&&(function(U,F,Y){typeof U.on=="function"&&M(U,"error",F,Y)})(j,P,{once:!0})}))},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function d(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}function h(j){return j._maxListeners===void 0?l.defaultMaxListeners:j._maxListeners}function p(j,T,k,D){var P,z,U,F;if(d(k),(z=j._events)===void 0?(z=j._events=Object.create(null),j._eventsCount=0):(z.newListener!==void 0&&(j.emit("newListener",T,k.listener?k.listener:k),z=j._events),U=z[T]),U===void 0)U=z[T]=k,++j._eventsCount;else if(typeof U=="function"?U=z[T]=D?[k,U]:[U,k]:D?U.unshift(k):U.push(k),(P=h(j))>0&&U.length>P&&!U.warned){U.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=j,Y.type=T,Y.count=U.length,F=Y,console&&console.warn&&console.warn(F)}return j}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(j,T,k){var D={fired:!1,wrapFn:void 0,target:j,type:T,listener:k},P=v.bind(D);return P.listener=k,D.wrapFn=P,P}function _(j,T,k){var D=j._events;if(D===void 0)return[];var P=D[T];return P===void 0?[]:typeof P=="function"?k?[P.listener||P]:[P]:k?(function(z){for(var U=new Array(z.length),F=0;F<U.length;++F)U[F]=z[F].listener||z[F];return U})(P):A(P,P.length)}function C(j){var T=this._events;if(T!==void 0){var k=T[j];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}function A(j,T){for(var k=new Array(T),D=0;D<T;++D)k[D]=j[D];return k}function M(j,T,k,D){if(typeof j.on=="function")D.once?j.once(T,k):j.on(T,k);else{if(typeof j.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j);j.addEventListener(T,(function P(z){D.once&&j.removeEventListener(T,P),k(z)}))}}return Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||r(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");u=j}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||r(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(j){for(var T=[],k=1;k<arguments.length;k++)T.push(arguments[k]);var D=j==="error",P=this._events;if(P!==void 0)D=D&&P.error===void 0;else if(!D)return!1;if(D){var z;if(T.length>0&&(z=T[0]),z instanceof Error)throw z;var U=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw U.context=z,U}var F=P[j];if(F===void 0)return!1;if(typeof F=="function")a(F,this,T);else{var Y=F.length,Z=A(F,Y);for(k=0;k<Y;++k)a(Z[k],this,T)}return!0},l.prototype.addListener=function(j,T){return p(this,j,T,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(j,T){return p(this,j,T,!0)},l.prototype.once=function(j,T){return d(T),this.on(j,y(this,j,T)),this},l.prototype.prependOnceListener=function(j,T){return d(T),this.prependListener(j,y(this,j,T)),this},l.prototype.removeListener=function(j,T){var k,D,P,z,U;if(d(T),(D=this._events)===void 0)return this;if((k=D[j])===void 0)return this;if(k===T||k.listener===T)--this._eventsCount==0?this._events=Object.create(null):(delete D[j],D.removeListener&&this.emit("removeListener",j,k.listener||T));else if(typeof k!="function"){for(P=-1,z=k.length-1;z>=0;z--)if(k[z]===T||k[z].listener===T){U=k[z].listener,P=z;break}if(P<0)return this;P===0?k.shift():(function(F,Y){for(;Y+1<F.length;Y++)F[Y]=F[Y+1];F.pop()})(k,P),k.length===1&&(D[j]=k[0]),D.removeListener!==void 0&&this.emit("removeListener",j,U||T)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(j){var T,k,D;if((k=this._events)===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[j]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete k[j]),this;if(arguments.length===0){var P,z=Object.keys(k);for(D=0;D<z.length;++D)(P=z[D])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(T=k[j])=="function")this.removeListener(j,T);else if(T!==void 0)for(D=T.length-1;D>=0;D--)this.removeListener(j,T[D]);return this},l.prototype.listeners=function(j){return _(this,j,!0)},l.prototype.rawListeners=function(j){return _(this,j,!1)},l.listenerCount=function(j,T){return typeof j.listenerCount=="function"?j.listenerCount(T):C.call(j,T)},l.prototype.listenerCount=C,l.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},Uu.exports})(),Bu=O3(Ep),vw=Object.prototype.hasOwnProperty;function yw(t,e,a){for(a of t.keys())if(_n(a,e))return a}function _n(t,e){var a,r,l;if(t===e)return!0;if(t&&e&&(a=t.constructor)===e.constructor){if(a===Date)return t.getTime()===e.getTime();if(a===RegExp)return t.toString()===e.toString();if(a===Array){if((r=t.length)===e.length)for(;r--&&_n(t[r],e[r]););return r===-1}if(a===Set){if(t.size!==e.size)return!1;for(r of t)if((l=r)&&typeof l=="object"&&!(l=yw(e,l))||!e.has(l))return!1;return!0}if(a===Map){if(t.size!==e.size)return!1;for(r of t)if((l=r[0])&&typeof l=="object"&&!(l=yw(e,l))||!_n(r[1],e.get(l)))return!1;return!0}if(a===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(a===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!a||typeof t=="object"){for(a in r=0,t)if(vw.call(t,a)&&++r&&!vw.call(e,a)||!(a in e)||!_n(t[a],e[a]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const D3={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},gN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ft={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},wn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},nr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ae{static getFirstMatch(e,a){const r=a.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,a){const r=a.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,a,r){if(e.test(a))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const a=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const a=e.split(".").splice(0,2).map((r=>parseInt(r,10)||0));if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,a,r=!1){const l=ae.getVersionPrecision(e),u=ae.getVersionPrecision(a);let d=Math.max(l,u),h=0;const p=ae.map([e,a],(v=>{const y=d-ae.getVersionPrecision(v),_=v+new Array(y+1).join(".0");return ae.map(_.split("."),(C=>new Array(20-C.length).join("0")+C)).reverse()}));for(r&&(h=d-Math.min(l,u)),d-=1;d>=h;){if(p[0][d]>p[1][d])return 1;if(p[0][d]===p[1][d]){if(d===h)return 0;d-=1}else if(p[0][d]<p[1][d])return-1}}static map(e,a){const r=[];let l;if(Array.prototype.map)return Array.prototype.map.call(e,a);for(l=0;l<e.length;l+=1)r.push(a(e[l]));return r}static find(e,a){let r,l;if(Array.prototype.find)return Array.prototype.find.call(e,a);for(r=0,l=e.length;r<l;r+=1){const u=e[r];if(a(u,r))return u}}static assign(e,...a){const r=e;let l,u;if(Object.assign)return Object.assign(e,...a);for(l=0,u=a.length;l<u;l+=1){const d=a[l];typeof d=="object"&&d!==null&&Object.keys(d).forEach((h=>{r[h]=d[h]}))}return e}static getBrowserAlias(e){return D3[e]}static getBrowserTypeByAlias(e){return gN[e]||""}}const jt=/version\/(\d+(\.?_?\d+)+)/i,R3=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},a=ae.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},a=ae.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},a=ae.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},a=ae.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},a=ae.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},a=ae.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},a=ae.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},a=ae.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},a=ae.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},a=ae.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},a=ae.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},a=ae.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},a=ae.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},a=ae.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},a=ae.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return a&&(e.version=a),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},a=ae.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},a=ae.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},a=ae.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},a=ae.getFirstMatch(jt,t)||ae.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},a=ae.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},a=ae.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},a=ae.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},a=ae.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},a=ae.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},a=ae.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},a=ae.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},a=ae.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},a=ae.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test(t){const e=!t.test(/like android/i),a=t.test(/android/i);return e&&a},describe(t){const e={name:"Android Browser"},a=ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},a=ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},a=ae.getFirstMatch(jt,t);return a&&(e.version=a),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ae.getFirstMatch(e,t),version:ae.getSecondMatch(e,t)}}}];var P3=[{test:[/Roku\/DVP/],describe(t){const e=ae.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:wn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ae.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:wn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ae.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),a=ae.getWindowsVersionName(e);return{name:wn.Windows,version:e,versionName:a}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:wn.iOS},a=ae.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return a&&(e.version=a),e}},{test:[/macintosh/i],describe(t){const e=ae.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),a=ae.getMacOSVersionName(e),r={name:wn.MacOS,version:e};return a&&(r.versionName=a),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ae.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:wn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),a=t.test(/android/i);return e&&a},describe(t){const e=ae.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),a=ae.getAndroidVersionName(e),r={name:wn.Android,version:e};return a&&(r.versionName=a),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ae.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),a={name:wn.WebOS};return e&&e.length&&(a.version=e),a}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ae.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ae.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ae.getFirstMatch(/\bbb(\d+)/i,t);return{name:wn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ae.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:wn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ae.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:wn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:wn.Linux})},{test:[/CrOS/],describe:()=>({name:wn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=ae.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:wn.PlayStation4,version:e}}}],L3=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=ae.getFirstMatch(/(can-l01)/i,t)&&"Nova",a={type:Ft.mobile,vendor:"Huawei"};return e&&(a.model=e),a}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Ft.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Ft.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Ft.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Ft.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Ft.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Ft.tablet})},{test(t){const e=t.test(/ipod|iphone/i),a=t.test(/like (ipod|iphone)/i);return e&&!a},describe(t){const e=ae.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ft.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Ft.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Ft.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Ft.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Ft.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Ft.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Ft.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Ft.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Ft.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Ft.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Ft.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Ft.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Ft.tv})}],z3=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:nr.Blink};const e=ae.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:nr.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:nr.Trident},a=ae.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:nr.Presto},a=ae.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test(t){const e=t.test(/gecko/i),a=t.test(/like gecko/i);return e&&!a},describe(t){const e={name:nr.Gecko},a=ae.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:nr.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:nr.WebKit},a=ae.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return a&&(e.version=a),e}}];class xw{constructor(e,a=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},a!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ae.find(R3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ae.find(P3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:a}=this.getOS();return e?String(a).toLowerCase()||"":a||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:a}=this.getPlatform();return e?String(a).toLowerCase()||"":a||""}parsePlatform(){this.parsedResult.platform={};const e=ae.find(L3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ae.find(z3,(a=>{if(typeof a.test=="function")return a.test(this);if(a.test instanceof Array)return a.test.some((r=>this.test(r)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ae.assign({},this.parsedResult)}satisfies(e){const a={};let r=0;const l={};let u=0;if(Object.keys(e).forEach((d=>{const h=e[d];typeof h=="string"?(l[d]=h,u+=1):typeof h=="object"&&(a[d]=h,r+=1)})),r>0){const d=Object.keys(a),h=ae.find(d,(v=>this.isOS(v)));if(h){const v=this.satisfies(a[h]);if(v!==void 0)return v}const p=ae.find(d,(v=>this.isPlatform(v)));if(p){const v=this.satisfies(a[p]);if(v!==void 0)return v}}if(u>0){const d=Object.keys(l),h=ae.find(d,(p=>this.isBrowser(p,!0)));if(h!==void 0)return this.compareVersion(l[h])}}isBrowser(e,a=!1){const r=this.getBrowserName().toLowerCase();let l=e.toLowerCase();const u=ae.getBrowserTypeByAlias(l);return a&&u&&(l=u.toLowerCase()),l===r}compareVersion(e){let a=[0],r=e,l=!1;const u=this.getBrowserVersion();if(typeof u=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(l=!0,r=e.substr(2)):a=[],e[0]===">"?a.push(1):a.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(l=!0,r=e.substr(1)),a.indexOf(ae.compareVersions(u,r,l))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,a=!1){return this.isBrowser(e,a)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((a=>this.is(a)))}}class I3{static getParser(e,a=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new xw(e,a)}static parse(e){return new xw(e).getResult()}static get BROWSER_MAP(){return gN}static get ENGINE_MAP(){return nr}static get OS_MAP(){return wn}static get PLATFORMS_MAP(){return Ft}}function sf(){return Date.now()+Math.random().toString()}function El(){throw new Error("Method must be implemented in subclass")}function vN(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function yd(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:vN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function xd(t){try{new URL(t)}catch{return!1}return!0}const Ct=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$r="8.55.0",ut=globalThis;function bd(t,e,a){const r=ut,l=r.__SENTRY__=r.__SENTRY__||{},u=l[$r]=l[$r]||{};return u[t]||(u[t]=e())}const fi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Mp=["debug","info","warn","error","log","assert","trace"],wd={};function dc(t){if(!("console"in ut))return t();const e=ut.console,a={},r=Object.keys(wd);r.forEach((l=>{const u=wd[l];a[l]=e[l],e[l]=u}));try{return t()}finally{r.forEach((l=>{e[l]=a[l]}))}}const ze=bd("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return fi?Mp.forEach((a=>{e[a]=(...r)=>{t&&dc((()=>{ut.console[a](`Sentry Logger [${a}]:`,...r)}))}})):Mp.forEach((a=>{e[a]=()=>{}})),e})),Hr="?",bw=/\(error: (.*)\)/,ww=/captureMessage|captureException/;function Vu(t){return t[t.length-1]||{}}const Sw="<anonymous>";function or(t){try{return t&&typeof t=="function"&&t.name||Sw}catch{return Sw}}function _w(t){const e=t.exception;if(e){const a=[];try{return e.values.forEach((r=>{r.stacktrace.frames&&a.push(...r.stacktrace.frames)})),a}catch{return}}}const rd={},jw={};function Qr(t,e){rd[t]=rd[t]||[],rd[t].push(e)}function Gr(t,e){if(!jw[t]){jw[t]=!0;try{e()}catch(a){fi&&ze.error(`Error while instrumenting ${t}`,a)}}}function Oa(t,e){const a=t&&rd[t];if(a)for(const r of a)try{r(e)}catch(l){fi&&ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${or(r)}
Error:`,l)}}let Bm=null;function U3(){Bm=ut.onerror,ut.onerror=function(t,e,a,r,l){return Oa("error",{column:r,error:l,line:a,msg:t,url:e}),!!Bm&&Bm.apply(this,arguments)},ut.onerror.__SENTRY_INSTRUMENTED__=!0}let Vm=null;function B3(){Vm=ut.onunhandledrejection,ut.onunhandledrejection=function(t){return Oa("unhandledrejection",t),!Vm||Vm.apply(this,arguments)},ut.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function rf(){return Xg(ut),ut}function Xg(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||$r,e[$r]=e[$r]||{}}const yN=Object.prototype.toString;function Wg(t){switch(yN.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ei(t,Error)}}function Do(t,e){return yN.call(t)===`[object ${e}]`}function xN(t){return Do(t,"ErrorEvent")}function Nw(t){return Do(t,"DOMError")}function xs(t){return Do(t,"String")}function ev(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Ap(t){return t===null||ev(t)||typeof t!="object"&&typeof t!="function"}function go(t){return Do(t,"Object")}function of(t){return typeof Event<"u"&&ei(t,Event)}function lf(t){return!!(t&&t.then&&typeof t.then=="function")}function ei(t,e){try{return t instanceof e}catch{return!1}}function bN(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const tv=ut;function wN(t,e={}){if(!t)return"<unknown>";try{let a=t;const r=5,l=[];let u=0,d=0;const h=" > ",p=h.length;let v;const y=Array.isArray(e)?e:e.keyAttrs,_=!Array.isArray(e)&&e.maxStringLength||80;for(;a&&u++<r&&(v=V3(a,y),!(v==="html"||u>1&&d+l.length*p+v.length>=_));)l.push(v),d+=v.length,a=a.parentNode;return l.reverse().join(h)}catch{return"<unknown>"}}function V3(t,e){const a=t,r=[];if(!a||!a.tagName)return"";if(tv.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}r.push(a.tagName.toLowerCase());const l=e&&e.length?e.filter((d=>a.getAttribute(d))).map((d=>[d,a.getAttribute(d)])):null;if(l&&l.length)l.forEach((d=>{r.push(`[${d[0]}="${d[1]}"]`)}));else{a.id&&r.push(`#${a.id}`);const d=a.className;if(d&&xs(d)){const h=d.split(/\s+/);for(const p of h)r.push(`.${p}`)}}const u=["aria-label","type","name","title","alt"];for(const d of u){const h=a.getAttribute(d);h&&r.push(`[${d}="${h}"]`)}return r.join("")}function oo(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Cw(t,e){if(!Array.isArray(t))return"";const a=[];for(let r=0;r<t.length;r++){const l=t[r];try{bN(l)?a.push("[VueViewModel]"):a.push(String(l))}catch{a.push("[value cannot be serialized]")}}return a.join(e)}function F3(t,e,a=!1){return!!xs(t)&&(Do(e,"RegExp")?e.test(t):!!xs(e)&&(a?t===e:t.includes(e)))}function Fu(t,e=[],a=!1){return e.some((r=>F3(t,r,a)))}function Zn(t,e,a){if(!(e in t))return;const r=t[e],l=a(r);typeof l=="function"&&SN(l,r);try{t[e]=l}catch{fi&&ze.log(`Failed to replace method "${e}" in object`,t)}}function ti(t,e,a){try{Object.defineProperty(t,e,{value:a,writable:!0,configurable:!0})}catch{fi&&ze.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function SN(t,e){try{const a=e.prototype||{};t.prototype=e.prototype=a,ti(t,"__sentry_original__",e)}catch{}}function nv(t){return t.__sentry_original__}function _N(t){if(Wg(t))return{message:t.message,name:t.name,stack:t.stack,...kw(t)};if(of(t)){const e={type:t.type,target:Tw(t.target),currentTarget:Tw(t.currentTarget),...kw(t)};return typeof CustomEvent<"u"&&ei(t,CustomEvent)&&(e.detail=t.detail),e}return t}function Tw(t){try{return e=t,typeof Element<"u"&&ei(e,Element)?wN(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function kw(t){if(typeof t=="object"&&t!==null){const e={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}return{}}function va(t){return Op(t,new Map)}function Op(t,e){if((function(a){if(!go(a))return!1;try{const r=Object.getPrototypeOf(a).constructor.name;return!r||r==="Object"}catch{return!0}})(t)){const a=e.get(t);if(a!==void 0)return a;const r={};e.set(t,r);for(const l of Object.getOwnPropertyNames(t))t[l]!==void 0&&(r[l]=Op(t[l],e));return r}if(Array.isArray(t)){const a=e.get(t);if(a!==void 0)return a;const r=[];return e.set(t,r),t.forEach((l=>{r.push(Op(l,e))})),r}return t}function fc(){return Date.now()/1e3}const Ss=(function(){const{performance:t}=ut;if(!t||!t.now)return fc;const e=Date.now()-t.now(),a=t.timeOrigin==null?e:t.timeOrigin;return()=>(a+t.now())/1e3})();function xa(){const t=ut,e=t.crypto||t.msCrypto;let a=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(a=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,(r=>(r^(15&a())>>r/4).toString(16)))}function jN(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function ar(t){const{message:e,event_id:a}=t;if(e)return e;const r=jN(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||a||"<unknown>":a||"<unknown>"}function Dp(t,e,a){const r=t.exception=t.exception||{},l=r.values=r.values||[],u=l[0]=l[0]||{};u.value||(u.value=e||""),u.type||(u.type="Error")}function vo(t,e){const a=jN(t);if(!a)return;const r=a.mechanism;if(a.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const l={...r&&r.data,...e.data};a.mechanism.data=l}}function Ew(t){if((function(e){try{return e.__sentry_captured__}catch{}})(t))return!0;try{ti(t,"__sentry_captured__",!0)}catch{}return!1}var gs;function ni(t){return new ga((e=>{e(t)}))}function Sd(t){return new ga(((e,a)=>{a(t)}))}(()=>{const{performance:t}=ut;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(gs||(gs={}));class ga{constructor(e){ga.prototype.__init.call(this),ga.prototype.__init2.call(this),ga.prototype.__init3.call(this),ga.prototype.__init4.call(this),this._state=gs.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(a){this._reject(a)}}then(e,a){return new ga(((r,l)=>{this._handlers.push([!1,u=>{if(e)try{r(e(u))}catch(d){l(d)}else r(u)},u=>{if(a)try{r(a(u))}catch(d){l(d)}else l(u)}]),this._executeHandlers()}))}catch(e){return this.then((a=>a),e)}finally(e){return new ga(((a,r)=>{let l,u;return this.then((d=>{u=!1,l=d,e&&e()}),(d=>{u=!0,l=d,e&&e()})).then((()=>{u?r(l):a(l)}))}))}__init(){this._resolve=e=>{this._setResult(gs.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(gs.REJECTED,e)}}__init3(){this._setResult=(e,a)=>{this._state===gs.PENDING&&(lf(a)?a.then(this._resolve,this._reject):(this._state=e,this._value=a,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===gs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((a=>{a[0]||(this._state===gs.RESOLVED&&a[1](this._value),this._state===gs.REJECTED&&a[2](this._value),a[0]=!0)}))}}}function q3(t){const e=Ss(),a={sid:xa(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(r){return va({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})})(a)};return t&&yo(a,t),a}function yo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ss(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:xa()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const a=t.timestamp-t.started;t.duration=a>=0?a:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Mw(){return xa()}function Rp(){return xa().substring(16)}function cf(t,e,a=2){if(!e||typeof e!="object"||a<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=cf(r[l],e[l],a-1));return r}const Pp="_sentrySpan";function Aw(t,e){e?ti(t,Pp,e):delete t[Pp]}function Ow(t){return t[Pp]}class av{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Mw(),spanId:Rp()}}clone(){const e=new av;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Aw(e,Ow(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yo(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,a){return this._tags={...this._tags,[e]:a},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,a){return this._extra={...this._extra,[e]:a},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,a){return a===null?delete this._contexts[e]:this._contexts[e]=a,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const a=typeof e=="function"?e(this):e,[r,l]=a instanceof lr?[a.getScopeData(),a.getRequestSession()]:go(a)?[e,e.requestSession]:[],{tags:u,extra:d,user:h,contexts:p,level:v,fingerprint:y=[],propagationContext:_}=r||{};return this._tags={...this._tags,...u},this._extra={...this._extra,...d},this._contexts={...this._contexts,...p},h&&Object.keys(h).length&&(this._user=h),v&&(this._level=v),y.length&&(this._fingerprint=y),_&&(this._propagationContext=_),l&&(this._requestSession=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Aw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Mw()}),this._notifyScopeListeners(),this}addBreadcrumb(e,a){const r=typeof a=="number"?a:100;if(r<=0)return this;const l={timestamp:fc(),...e};return this._breadcrumbs.push(l),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ow(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=cf(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Rp(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,a){const r=a&&a.event_id?a.event_id:xa();if(!this._client)return ze.warn("No client configured on scope - will not capture exception!"),r;const l=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:l,...a,event_id:r},this),r}captureMessage(e,a,r){const l=r&&r.event_id?r.event_id:xa();if(!this._client)return ze.warn("No client configured on scope - will not capture message!"),l;const u=new Error(e);return this._client.captureMessage(e,a,{originalException:e,syntheticException:u,...r,event_id:l},this),l}captureEvent(e,a){const r=a&&a.event_id?a.event_id:xa();return this._client?(this._client.captureEvent(e,{...a,event_id:r},this),r):(ze.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const lr=av;class H3{constructor(e,a){let r,l;r=e||new lr,l=a||new lr,this._stack=[{scope:r}],this._isolationScope=l}withScope(e){const a=this._pushScope();let r;try{r=e(a)}catch(l){throw this._popScope(),l}return lf(r)?r.then((l=>(this._popScope(),l)),(l=>{throw this._popScope(),l})):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function xo(){const t=Xg(rf());return t.stack=t.stack||new H3(bd("defaultCurrentScope",(()=>new lr)),bd("defaultIsolationScope",(()=>new lr)))}function $3(t){return xo().withScope(t)}function Q3(t,e){const a=xo();return a.withScope((()=>(a.getStackTop().scope=t,e(t))))}function Dw(t){return xo().withScope((()=>t(xo().getIsolationScope())))}function sv(t){const e=Xg(t);return e.acs?e.acs:{withIsolationScope:Dw,withScope:$3,withSetScope:Q3,withSetIsolationScope:(a,r)=>Dw(r),getCurrentScope:()=>xo().getScope(),getIsolationScope:()=>xo().getIsolationScope()}}function hi(){return sv(rf()).getCurrentScope()}function hc(){return sv(rf()).getIsolationScope()}function vn(){return hi().getClient()}function G3(t){const e=t.getPropagationContext(),{traceId:a,spanId:r,parentSpanId:l}=e;return va({trace_id:a,span_id:r,parent_span_id:l})}function Y3(t){const e=t._sentryMetrics;if(!e)return;const a={};for(const[,[r,l]]of e)(a[r]||(a[r]=[])).push(va(l));return a}const J3=/^sentry-/;function Z3(t){const e=(function(r){if(!(!r||!xs(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce(((l,u)=>{const d=Rw(u);return Object.entries(d).forEach((([h,p])=>{l[h]=p})),l}),{}):Rw(r)})(t);if(!e)return;const a=Object.entries(e).reduce(((r,[l,u])=>(l.match(J3)&&(r[l.slice(7)]=u),r)),{});return Object.keys(a).length>0?a:void 0}function Rw(t){return t.split(",").map((e=>e.split("=").map((a=>decodeURIComponent(a.trim()))))).reduce(((e,[a,r])=>(a&&r&&(e[a]=r),e)),{})}let Pw=!1;function K3(t){const{spanId:e,traceId:a,isRemote:r}=t.spanContext();return va({parent_span_id:r?e:rv(t).parent_span_id,span_id:r?Rp():e,trace_id:a})}function Lw(t){return typeof t=="number"?zw(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?zw(t.getTime()):Ss()}function zw(t){return t>9999999999?t/1e3:t}function rv(t){if((function(e){return typeof e.getSpanJSON=="function"})(t))return t.getSpanJSON();try{const{spanId:e,traceId:a}=t.spanContext();if((function(r){const l=r;return!!(l.attributes&&l.startTime&&l.name&&l.endTime&&l.status)})(t)){const{attributes:r,startTime:l,name:u,endTime:d,parentSpanId:h,status:p}=t;return va({span_id:e,trace_id:a,data:r,description:u,parent_span_id:h,start_timestamp:Lw(l),timestamp:Lw(d)||void 0,status:X3(p),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:Y3(t)})}return{span_id:e,trace_id:a}}catch{return{}}}function X3(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function NN(t){return t._sentryRootSpan||t}function W3(){Pw||(dc((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),Pw=!0)}const iv="production";function CN(t,e){const a=e.getOptions(),{publicKey:r}=e.getDsn()||{},l=va({environment:a.environment||iv,release:a.release,public_key:r,trace_id:t});return e.emit("createDsc",l),l}function eR(t){const e=vn();if(!e)return{};const a=NN(t),r=a._frozenDsc;if(r)return r;const l=a.spanContext().traceState,u=l&&l.get("sentry.dsc"),d=u&&Z3(u);if(d)return d;const h=CN(t.spanContext().traceId,e),p=rv(a),v=p.data||{},y=v["sentry.sample_rate"];y!=null&&(h.sample_rate=`${y}`);const _=v["sentry.source"],C=p.description;return _!=="url"&&C&&(h.transaction=C),(function(A){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const M=vn(),j=M&&M.getOptions();return!!j&&(j.enableTracing||"tracesSampleRate"in j||"tracesSampler"in j)})()&&(h.sampled=String((function(A){const{traceFlags:M}=A.spanContext();return M===1})(a))),e.emit("createDsc",h,a),h}const tR=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function _d(t,e=!1){const{host:a,path:r,pass:l,port:u,projectId:d,protocol:h,publicKey:p}=t;return`${h}://${p}${e&&l?`:${l}`:""}@${a}${u?`:${u}`:""}/${r&&`${r}/`}${d}`}function Iw(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function nR(t){const e=typeof t=="string"?(function(a){const r=tR.exec(a);if(!r)return void dc((()=>{console.error(`Invalid Sentry Dsn: ${a}`)}));const[l,u,d="",h="",p="",v=""]=r.slice(1);let y="",_=v;const C=_.split("/");if(C.length>1&&(y=C.slice(0,-1).join("/"),_=C.pop()),_){const A=_.match(/^\d+/);A&&(_=A[0])}return Iw({host:h,pass:d,path:y,projectId:_,port:p,protocol:l,publicKey:u})})(t):Iw(t);if(e&&(function(a){if(!fi)return!0;const{port:r,projectId:l,protocol:u}=a;return!(["protocol","publicKey","host","projectId"].find((d=>!a[d]&&(ze.error(`Invalid Sentry Dsn: ${d} missing`),!0)))||(l.match(/^\d+$/)?(function(d){return d==="http"||d==="https"})(u)?r&&isNaN(parseInt(r,10))&&(ze.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ze.error(`Invalid Sentry Dsn: Invalid protocol ${u}`),1):(ze.error(`Invalid Sentry Dsn: Invalid projectId ${l}`),1)))})(e))return e}function vs(t,e=100,a=1/0){try{return Lp("",t,e,a)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function TN(t,e=3,a=102400){const r=vs(t,e);return l=r,(function(u){return~-encodeURI(u).split(/%..|./).length})(JSON.stringify(l))>a?TN(t,e-1,a):r;var l}function Lp(t,e,a=1/0,r=1/0,l=(function(){const u=typeof WeakSet=="function",d=u?new WeakSet:[];return[function(h){if(u)return!!d.has(h)||(d.add(h),!1);for(let p=0;p<d.length;p++)if(d[p]===h)return!0;return d.push(h),!1},function(h){if(u)d.delete(h);else for(let p=0;p<d.length;p++)if(d[p]===h){d.splice(p,1);break}}]})()){const[u,d]=l;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const h=(function(A,M){try{if(A==="domain"&&M&&typeof M=="object"&&M._events)return"[Domain]";if(A==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&M===global)return"[Global]";if(typeof window<"u"&&M===window)return"[Window]";if(typeof document<"u"&&M===document)return"[Document]";if(bN(M))return"[VueViewModel]";if(go(j=M)&&"nativeEvent"in j&&"preventDefault"in j&&"stopPropagation"in j)return"[SyntheticEvent]";if(typeof M=="number"&&!Number.isFinite(M))return`[${M}]`;if(typeof M=="function")return`[Function: ${or(M)}]`;if(typeof M=="symbol")return`[${String(M)}]`;if(typeof M=="bigint")return`[BigInt: ${String(M)}]`;const T=(function(k){const D=Object.getPrototypeOf(k);return D?D.constructor.name:"null prototype"})(M);return/^HTML(\w*)Element$/.test(T)?`[HTMLElement: ${T}]`:`[object ${T}]`}catch(T){return`**non-serializable** (${T})`}var j})(t,e);if(!h.startsWith("[object "))return h;if(e.__sentry_skip_normalization__)return e;const p=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:a;if(p===0)return h.replace("object ","");if(u(e))return"[Circular ~]";const v=e;if(v&&typeof v.toJSON=="function")try{return Lp("",v.toJSON(),p-1,r,l)}catch{}const y=Array.isArray(e)?[]:{};let _=0;const C=_N(e);for(const A in C){if(!Object.prototype.hasOwnProperty.call(C,A))continue;if(_>=r){y[A]="[MaxProperties ~]";break}const M=C[A];y[A]=Lp(A,M,p-1,r,l),_++}return d(e),y}function $l(t,e=[]){return[t,e]}function aR(t,e){const[a,r]=t;return[a,[...r,e]]}function Uw(t,e){const a=t[1];for(const r of a)if(e(r,r[0].type))return!0;return!1}function zp(t){return ut.__SENTRY__&&ut.__SENTRY__.encodePolyfill?ut.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function sR(t){const[e,a]=t;let r=JSON.stringify(e);function l(u){typeof r=="string"?r=typeof u=="string"?r+u:[zp(r),u]:r.push(typeof u=="string"?zp(u):u)}for(const u of a){const[d,h]=u;if(l(`
${JSON.stringify(d)}
`),typeof h=="string"||h instanceof Uint8Array)l(h);else{let p;try{p=JSON.stringify(h)}catch{p=JSON.stringify(vs(h))}l(p)}}return typeof r=="string"?r:(function(u){const d=u.reduce(((v,y)=>v+y.length),0),h=new Uint8Array(d);let p=0;for(const v of u)h.set(v,p),p+=v.length;return h})(r)}function rR(t){const e=typeof t.data=="string"?zp(t.data):t.data;return[va({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const iR={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Bw(t){return iR[t]}function kN(t){if(!t||!t.sdk)return;const{name:e,version:a}=t.sdk;return{name:e,version:a}}function oR(t,e,a,r){const l=kN(a),u=t.type&&t.type!=="replay_event"?t.type:"event";(function(h,p){p&&(h.sdk=h.sdk||{},h.sdk.name=h.sdk.name||p.name,h.sdk.version=h.sdk.version||p.version,h.sdk.integrations=[...h.sdk.integrations||[],...p.integrations||[]],h.sdk.packages=[...h.sdk.packages||[],...p.packages||[]])})(t,a&&a.sdk);const d=(function(h,p,v,y){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:h.event_id,sent_at:new Date().toISOString(),...p&&{sdk:p},...!!v&&y&&{dsn:_d(y)},..._&&{trace:va({..._})}}})(t,l,r,e);return delete t.sdkProcessingMetadata,$l(d,[[{type:u},t]])}function Ip(t,e,a,r=0){return new ga(((l,u)=>{const d=t[r];if(e===null||typeof d!="function")l(e);else{const h=d({...e},a);Ct&&d.id&&h===null&&ze.log(`Event processor "${d.id}" dropped event`),lf(h)?h.then((p=>Ip(t,p,a,r+1).then(l))).then(null,u):Ip(t,h,a,r+1).then(l).then(null,u)}}))}let qu,Vw,Fm;function lR(t,e){const{fingerprint:a,span:r,breadcrumbs:l,sdkProcessingMetadata:u}=e;(function(d,h){const{extra:p,tags:v,user:y,contexts:_,level:C,transactionName:A}=h,M=va(p);M&&Object.keys(M).length&&(d.extra={...M,...d.extra});const j=va(v);j&&Object.keys(j).length&&(d.tags={...j,...d.tags});const T=va(y);T&&Object.keys(T).length&&(d.user={...T,...d.user});const k=va(_);k&&Object.keys(k).length&&(d.contexts={...k,...d.contexts}),C&&(d.level=C),A&&d.type!=="transaction"&&(d.transaction=A)})(t,e),r&&(function(d,h){d.contexts={trace:K3(h),...d.contexts},d.sdkProcessingMetadata={dynamicSamplingContext:eR(h),...d.sdkProcessingMetadata};const p=NN(h),v=rv(p).description;v&&!d.transaction&&d.type==="transaction"&&(d.transaction=v)})(t,r),(function(d,h){d.fingerprint=d.fingerprint?Array.isArray(d.fingerprint)?d.fingerprint:[d.fingerprint]:[],h&&(d.fingerprint=d.fingerprint.concat(h)),d.fingerprint&&!d.fingerprint.length&&delete d.fingerprint})(t,a),(function(d,h){const p=[...d.breadcrumbs||[],...h];d.breadcrumbs=p.length?p:void 0})(t,l),(function(d,h){d.sdkProcessingMetadata={...d.sdkProcessingMetadata,...h}})(t,u)}function Fw(t,e){const{extra:a,tags:r,user:l,contexts:u,level:d,sdkProcessingMetadata:h,breadcrumbs:p,fingerprint:v,eventProcessors:y,attachments:_,propagationContext:C,transactionName:A,span:M}=e;Hu(t,"extra",a),Hu(t,"tags",r),Hu(t,"user",l),Hu(t,"contexts",u),t.sdkProcessingMetadata=cf(t.sdkProcessingMetadata,h,2),d&&(t.level=d),A&&(t.transactionName=A),M&&(t.span=M),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),v.length&&(t.fingerprint=[...t.fingerprint,...v]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...C}}function Hu(t,e,a){t[e]=cf(t[e],a,1)}function cR(t,e,a,r,l,u){const{normalizeDepth:d=3,normalizeMaxBreadth:h=1e3}=t,p={...e,event_id:e.event_id||a.event_id||xa(),timestamp:e.timestamp||fc()},v=a.integrations||t.integrations.map((M=>M.name));(function(M,j){const{environment:T,release:k,dist:D,maxValueLength:P=250}=j;M.environment=M.environment||T||iv,!M.release&&k&&(M.release=k),!M.dist&&D&&(M.dist=D),M.message&&(M.message=oo(M.message,P));const z=M.exception&&M.exception.values&&M.exception.values[0];z&&z.value&&(z.value=oo(z.value,P));const U=M.request;U&&U.url&&(U.url=oo(U.url,P))})(p,t),(function(M,j){j.length>0&&(M.sdk=M.sdk||{},M.sdk.integrations=[...M.sdk.integrations||[],...j])})(p,v),l&&l.emit("applyFrameMetadata",e),e.type===void 0&&(function(M,j){const T=(function(k){const D=ut._sentryDebugIds;if(!D)return{};const P=Object.keys(D);return Fm&&P.length===Vw||(Vw=P.length,Fm=P.reduce(((z,U)=>{qu||(qu={});const F=qu[U];if(F)z[F[0]]=F[1];else{const Y=k(U);for(let Z=Y.length-1;Z>=0;Z--){const de=Y[Z],pe=de&&de.filename,Ne=D[U];if(pe&&Ne){z[pe]=Ne,qu[U]=[pe,Ne];break}}}return z}),{})),Fm})(j);try{M.exception.values.forEach((k=>{k.stacktrace.frames.forEach((D=>{T&&D.filename&&(D.debug_id=T[D.filename])}))}))}catch{}})(p,t.stackParser);const y=(function(M,j){if(!j)return M;const T=M?M.clone():new lr;return T.update(j),T})(r,a.captureContext);a.mechanism&&vo(p,a.mechanism);const _=l?l.getEventProcessors():[],C=bd("globalScope",(()=>new lr)).getScopeData();u&&Fw(C,u.getScopeData()),y&&Fw(C,y.getScopeData());const A=[...a.attachments||[],...C.attachments];return A.length&&(a.attachments=A),lR(p,C),Ip([..._,...C.eventProcessors],p,a).then((M=>(M&&(function(j){const T={};try{j.exception.values.forEach((D=>{D.stacktrace.frames.forEach((P=>{P.debug_id&&(P.abs_path?T[P.abs_path]=P.debug_id:P.filename&&(T[P.filename]=P.debug_id),delete P.debug_id)}))}))}catch{}if(Object.keys(T).length===0)return;j.debug_meta=j.debug_meta||{},j.debug_meta.images=j.debug_meta.images||[];const k=j.debug_meta.images;Object.entries(T).forEach((([D,P])=>{k.push({type:"sourcemap",code_file:D,debug_id:P})}))})(M),typeof d=="number"&&d>0?(function(j,T,k){if(!j)return null;const D={...j,...j.breadcrumbs&&{breadcrumbs:j.breadcrumbs.map((P=>({...P,...P.data&&{data:vs(P.data,T,k)}})))},...j.user&&{user:vs(j.user,T,k)},...j.contexts&&{contexts:vs(j.contexts,T,k)},...j.extra&&{extra:vs(j.extra,T,k)}};return j.contexts&&j.contexts.trace&&D.contexts&&(D.contexts.trace=j.contexts.trace,j.contexts.trace.data&&(D.contexts.trace.data=vs(j.contexts.trace.data,T,k))),j.spans&&(D.spans=j.spans.map((P=>({...P,...P.data&&{data:vs(P.data,T,k)}})))),j.contexts&&j.contexts.flags&&D.contexts&&(D.contexts.flags=vs(j.contexts.flags,3,k)),D})(M,d,h):M)))}function qw(t,e){return hi().captureEvent(t,e)}function Hw(t){const e=vn(),a=hc(),r=hi(),{release:l,environment:u=iv}=e&&e.getOptions()||{},{userAgent:d}=ut.navigator||{},h=q3({release:l,environment:u,user:r.getUser()||a.getUser(),...d&&{userAgent:d},...t}),p=a.getSession();return p&&p.status==="ok"&&yo(p,{status:"exited"}),EN(),a.setSession(h),r.setSession(h),h}function EN(){const t=hc(),e=hi(),a=e.getSession()||t.getSession();a&&(function(r,l){let u={};r.status==="ok"&&(u={status:"exited"}),yo(r,u)})(a),MN(),t.setSession(),e.setSession()}function MN(){const t=hc(),e=hi(),a=vn(),r=e.getSession()||t.getSession();r&&a&&a.captureSession(r)}function $w(t=!1){t?EN():MN()}function uR(t,e,a){return e||`${(function(r){return`${(function(l){const u=l.protocol?`${l.protocol}:`:"",d=l.port?`:${l.port}`:"";return`${u}//${l.host}${d}${l.path?`/${l.path}`:""}/api/`})(r)}${r.projectId}/envelope/`})(t)}?${(function(r,l){const u={sentry_version:"7"};return r.publicKey&&(u.sentry_key=r.publicKey),l&&(u.sentry_client=`${l.name}/${l.version}`),new URLSearchParams(u).toString()})(t,a)}`}const Qw=[];function Gw(t,e){for(const a of e)a&&a.afterAllSetup&&a.afterAllSetup(t)}function Yw(t,e,a){if(a[e.name])Ct&&ze.log(`Integration skipped because it was already installed: ${e.name}`);else{if(a[e.name]=e,Qw.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Qw.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((l,u)=>r(l,u,t)))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),l=Object.assign(((u,d)=>r(u,d,t)),{id:e.name});t.addEventProcessor(l)}Ct&&ze.log(`Integration installed: ${e.name}`)}}class Ta extends Error{constructor(e,a="warn"){super(e),this.message=e,this.logLevel=a}}const Jw="Not capturing exception because it's already been captured.";class dR{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=nR(e.dsn):Ct&&ze.warn("No DSN provided, client will not send events."),this._dsn){const r=uR(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const a=["enableTracing","tracesSampleRate","tracesSampler"].find((r=>r in e&&e[r]==null));a&&dc((()=>{console.warn(`[Sentry] Deprecation warning: \`${a}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(e,a,r){const l=xa();if(Ew(e))return Ct&&ze.log(Jw),l;const u={event_id:l,...a};return this._process(this.eventFromException(e,u).then((d=>this._captureEvent(d,u,r)))),u.event_id}captureMessage(e,a,r,l){const u={event_id:xa(),...r},d=ev(e)?e:String(e),h=Ap(e)?this.eventFromMessage(d,a,u):this.eventFromException(e,u);return this._process(h.then((p=>this._captureEvent(p,u,l)))),u.event_id}captureEvent(e,a,r){const l=xa();if(a&&a.originalException&&Ew(a.originalException))return Ct&&ze.log(Jw),l;const u={event_id:l,...a},d=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,u,d||r)),u.event_id}captureSession(e){typeof e.release!="string"?Ct&&ze.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),yo(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const a=this._transport;return a?(this.emit("flush"),this._isClientDoneProcessing(e).then((r=>a.flush(e).then((l=>r&&l))))):ni(!0)}close(e){return this.flush(e).then((a=>(this.getOptions().enabled=!1,this.emit("close"),a)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const a=this._integrations[e.name];Yw(this,e,this._integrations),a||Gw(this,[e])}sendEvent(e,a={}){this.emit("beforeSendEvent",e,a);let r=oR(e,this._dsn,this._options._metadata,this._options.tunnel);for(const u of a.attachments||[])r=aR(r,rR(u));const l=this.sendEnvelope(r);l&&l.then((u=>this.emit("afterSendEvent",e,u)),null)}sendSession(e){const a=(function(r,l,u,d){const h=kN(u);return $l({sent_at:new Date().toISOString(),...h&&{sdk:h},...!!d&&l&&{dsn:_d(l)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(e,a,r){if(this._options.sendClientReports){const l=typeof r=="number"?r:1,u=`${e}:${a}`;Ct&&ze.log(`Recording outcome: "${u}"${l>1?` (${l} times)`:""}`),this._outcomes[u]=(this._outcomes[u]||0)+l}}on(e,a){const r=this._hooks[e]=this._hooks[e]||[];return r.push(a),()=>{const l=r.indexOf(a);l>-1&&r.splice(l,1)}}emit(e,...a){const r=this._hooks[e];r&&r.forEach((l=>l(...a)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(a=>(Ct&&ze.error("Error while sending envelope:",a),a))):(Ct&&ze.error("Transport disabled"),ni({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(function(a,r){const l={};return r.forEach((u=>{u&&Yw(a,u,l)})),l})(this,e),Gw(this,e)}_updateSessionFromEvent(e,a){let r=a.level==="fatal",l=!1;const u=a.exception&&a.exception.values;if(u){l=!0;for(const h of u){const p=h.mechanism;if(p&&p.handled===!1){r=!0;break}}}const d=e.status==="ok";(d&&e.errors===0||d&&r)&&(yo(e,{...r&&{status:"crashed"},errors:e.errors||Number(l||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ga((a=>{let r=0;const l=setInterval((()=>{this._numProcessing==0?(clearInterval(l),a(!0)):(r+=1,e&&r>=e&&(clearInterval(l),a(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,a,r=hi(),l=hc()){const u=this.getOptions(),d=Object.keys(this._integrations);return!a.integrations&&d.length>0&&(a.integrations=d),this.emit("preprocessEvent",e,a),e.type||l.setLastEventId(e.event_id||a.event_id),cR(u,e,a,r,this,l).then((h=>{if(h===null)return h;h.contexts={trace:G3(r),...h.contexts};const p=(function(v,y){const _=y.getPropagationContext();return _.dsc||CN(_.traceId,v)})(this,r);return h.sdkProcessingMetadata={dynamicSamplingContext:p,...h.sdkProcessingMetadata},h}))}_captureEvent(e,a={},r){return this._processEvent(e,a,r).then((l=>l.event_id),(l=>{Ct&&(l instanceof Ta&&l.logLevel==="log"?ze.log(l.message):ze.warn(l))}))}_processEvent(e,a,r){const l=this.getOptions(),{sampleRate:u}=l,d=Kw(e),h=Zw(e),p=e.type||"error",v=`before send for type \`${p}\``,y=u===void 0?void 0:(function(A){if(typeof A=="boolean")return Number(A);const M=typeof A=="string"?parseFloat(A):A;if(!(typeof M!="number"||isNaN(M)||M<0||M>1))return M;Ct&&ze.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(A)} of type ${JSON.stringify(typeof A)}.`)})(u);if(h&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),Sd(new Ta(`Discarding event because it's not included in the random sample (sampling rate = ${u})`,"log"));const _=p==="replay_event"?"replay":p,C=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,a,r,C).then((A=>{if(A===null)throw this.recordDroppedEvent("event_processor",_,e),new Ta("An event processor returned `null`, will not send event.","log");if(a.data&&a.data.__sentry__===!0)return A;const M=(function(j,T,k,D){const{beforeSend:P,beforeSendTransaction:z,beforeSendSpan:U}=T;if(Zw(k)&&P)return P(k,D);if(Kw(k)){if(k.spans&&U){const F=[];for(const Y of k.spans){const Z=U(Y);Z?F.push(Z):(W3(),j.recordDroppedEvent("before_send","span"))}k.spans=F}if(z){if(k.spans){const F=k.spans.length;k.sdkProcessingMetadata={...k.sdkProcessingMetadata,spanCountBeforeProcessing:F}}return z(k,D)}}return k})(this,l,A,a);return(function(j,T){const k=`${T} must return \`null\` or a valid event.`;if(lf(j))return j.then((D=>{if(!go(D)&&D!==null)throw new Ta(k);return D}),(D=>{throw new Ta(`${T} rejected with ${D}`)}));if(!go(j)&&j!==null)throw new Ta(k);return j})(M,v)})).then((A=>{if(A===null){if(this.recordDroppedEvent("before_send",_,e),d){const T=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",T)}throw new Ta(`${v} returned \`null\`, will not send event.`,"log")}const M=r&&r.getSession();if(!d&&M&&this._updateSessionFromEvent(M,A),d){const T=(A.sdkProcessingMetadata&&A.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(A.spans?A.spans.length:0);T>0&&this.recordDroppedEvent("before_send","span",T)}const j=A.transaction_info;if(d&&j&&A.transaction!==e.transaction){const T="custom";A.transaction_info={...j,source:T}}return this.sendEvent(A,a),A})).then(null,(A=>{throw A instanceof Ta?A:(this.captureException(A,{data:{__sentry__:!0},originalException:A}),new Ta(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${A}`))}))}_process(e){this._numProcessing++,e.then((a=>(this._numProcessing--,a)),(a=>(this._numProcessing--,a)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([a,r])=>{const[l,u]=a.split(":");return{reason:l,category:u,quantity:r}}))}_flushOutcomes(){Ct&&ze.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Ct&&ze.log("No outcomes to send"));if(!this._dsn)return void(Ct&&ze.log("No dsn provided, will not send outcomes"));Ct&&ze.log("Sending outcomes:",e);const a=(r=e,$l((l=this._options.tunnel&&_d(this._dsn))?{dsn:l}:{},[[{type:"client_report"},{timestamp:u||fc(),discarded_events:r}]]));var r,l,u;this.sendEnvelope(a)}}function Zw(t){return t.type===void 0}function Kw(t){return t.type==="transaction"}function fR(t){const e=[];function a(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return Sd(new Ta("Not adding Promise because buffer limit was reached."));const l=r();return e.indexOf(l)===-1&&e.push(l),l.then((()=>a(l))).then(null,(()=>a(l).then(null,(()=>{})))),l},drain:function(r){return new ga(((l,u)=>{let d=e.length;if(!d)return l(!0);const h=setTimeout((()=>{r&&r>0&&l(!1)}),r);e.forEach((p=>{ni(p).then((()=>{--d||(clearTimeout(h),l(!0))}),u)}))}))}}}function hR(t,{statusCode:e,headers:a},r=Date.now()){const l={...t},u=a&&a["x-sentry-rate-limits"],d=a&&a["retry-after"];if(u)for(const h of u.trim().split(",")){const[p,v,,,y]=h.split(":",5),_=parseInt(p,10),C=1e3*(isNaN(_)?60:_);if(v)for(const A of v.split(";"))A==="metric_bucket"&&y&&!y.split(";").includes("custom")||(l[A]=r+C);else l.all=r+C}else d?l.all=r+(function(h,p=Date.now()){const v=parseInt(`${h}`,10);if(!isNaN(v))return 1e3*v;const y=Date.parse(`${h}`);return isNaN(y)?6e4:y-p})(d,r):e===429&&(l.all=r+6e4);return l}function mR(t,e,a=fR(t.bufferSize||64)){let r={};return{send:function(l){const u=[];if(Uw(l,((p,v)=>{const y=Bw(v);if((function(_,C,A=Date.now()){return(function(M,j){return M[j]||M.all||0})(_,C)>A})(r,y)){const _=Xw(p,v);t.recordDroppedEvent("ratelimit_backoff",y,_)}else u.push(p)})),u.length===0)return ni({});const d=$l(l[0],u),h=p=>{Uw(d,((v,y)=>{const _=Xw(v,y);t.recordDroppedEvent(p,Bw(y),_)}))};return a.add((()=>e({body:sR(d)}).then((p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&Ct&&ze.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=hR(r,p),p)),(p=>{throw h("network_error"),p})))).then((p=>p),(p=>{if(p instanceof Ta)return Ct&&ze.error("Skipped sending event because buffer is full."),h("queue_overflow"),ni({});throw p}))},flush:l=>a.drain(l)}}function Xw(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const pR=100;function Rr(t,e){const a=vn(),r=hc();if(!a)return;const{beforeBreadcrumb:l=null,maxBreadcrumbs:u=pR}=a.getOptions();if(u<=0)return;const d={timestamp:fc(),...t},h=l?dc((()=>l(d,e))):d;h!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",h,e),r.addBreadcrumb(h,u))}let Ww;const eS=new WeakMap,gR=()=>({name:"FunctionToString",setupOnce(){Ww=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=nv(this),a=eS.has(vn())&&e!==void 0?e:this;return Ww.apply(a,t)}}catch{}},setup(t){eS.set(t,!0)}}),vR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],yR=(t={})=>({name:"InboundFilters",processEvent(e,a,r){const l=r.getOptions(),u=(function(d={},h={}){return{allowUrls:[...d.allowUrls||[],...h.allowUrls||[]],denyUrls:[...d.denyUrls||[],...h.denyUrls||[]],ignoreErrors:[...d.ignoreErrors||[],...h.ignoreErrors||[],...d.disableErrorDefaults?[]:vR],ignoreTransactions:[...d.ignoreTransactions||[],...h.ignoreTransactions||[]],ignoreInternal:d.ignoreInternal===void 0||d.ignoreInternal}})(t,l);return(function(d,h){return h.ignoreInternal&&(function(p){try{return p.exception.values[0].type==="SentryError"}catch{}return!1})(d)?(Ct&&ze.warn(`Event dropped due to being internal Sentry Error.
Event: ${ar(d)}`),!0):(function(p,v){return p.type||!v||!v.length?!1:(function(y){const _=[];y.message&&_.push(y.message);let C;try{C=y.exception.values[y.exception.values.length-1]}catch{}return C&&C.value&&(_.push(C.value),C.type&&_.push(`${C.type}: ${C.value}`)),_})(p).some((y=>Fu(y,v)))})(d,h.ignoreErrors)?(Ct&&ze.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ar(d)}`),!0):(function(p){return p.type||!p.exception||!p.exception.values||p.exception.values.length===0?!1:!p.message&&!p.exception.values.some((v=>v.stacktrace||v.type&&v.type!=="Error"||v.value))})(d)?(Ct&&ze.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ar(d)}`),!0):(function(p,v){if(p.type!=="transaction"||!v||!v.length)return!1;const y=p.transaction;return!!y&&Fu(y,v)})(d,h.ignoreTransactions)?(Ct&&ze.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ar(d)}`),!0):(function(p,v){if(!v||!v.length)return!1;const y=$u(p);return!!y&&Fu(y,v)})(d,h.denyUrls)?(Ct&&ze.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ar(d)}.
Url: ${$u(d)}`),!0):(function(p,v){if(!v||!v.length)return!0;const y=$u(p);return!y||Fu(y,v)})(d,h.allowUrls)?!1:(Ct&&ze.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ar(d)}.
Url: ${$u(d)}`),!0)})(e,u)?null:e}});function $u(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(a=[]){for(let r=a.length-1;r>=0;r--){const l=a[r];if(l&&l.filename!=="<anonymous>"&&l.filename!=="[native code]")return l.filename||null}return null})(e):null}catch{return Ct&&ze.error(`Cannot extract url for event ${ar(t)}`),null}}function xR(t,e,a=250,r,l,u,d){if(!(u.exception&&u.exception.values&&d&&ei(d.originalException,Error)))return;const h=u.exception.values.length>0?u.exception.values[u.exception.values.length-1]:void 0;var p,v;h&&(u.exception.values=(p=Up(t,e,l,d.originalException,r,u.exception.values,h,0),v=a,p.map((y=>(y.value&&(y.value=oo(y.value,v)),y)))))}function Up(t,e,a,r,l,u,d,h){if(u.length>=a+1)return u;let p=[...u];if(ei(r[l],Error)){tS(d,h);const v=t(e,r[l]),y=p.length;nS(v,l,y,h),p=Up(t,e,a,r[l],l,[v,...p],v,y)}return Array.isArray(r.errors)&&r.errors.forEach(((v,y)=>{if(ei(v,Error)){tS(d,h);const _=t(e,v),C=p.length;nS(_,`errors[${y}]`,C,h),p=Up(t,e,a,v,l,[_,...p],_,C)}})),p}function tS(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function nS(t,e,a,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:a,parent_id:r}}function qm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const a=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:a,hash:r,relative:e[5]+a+r}}function bR(){"console"in ut&&Mp.forEach((function(t){t in ut.console&&Zn(ut.console,t,(function(e){return wd[t]=e,function(...a){Oa("console",{args:a,level:t});const r=wd[t];r&&r.apply(ut.console,a)}}))}))}function wR(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const SR=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if((function(a,r){return r?!!((function(l,u){const d=l.message,h=u.message;return!(!d&&!h||d&&!h||!d&&h||d!==h||!sS(l,u)||!aS(l,u))})(a,r)||(function(l,u){const d=rS(u),h=rS(l);return!(!d||!h||d.type!==h.type||d.value!==h.value||!sS(l,u)||!aS(l,u))})(a,r)):!1})(e,t))return Ct&&ze.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function aS(t,e){let a=_w(t),r=_w(e);if(!a&&!r)return!0;if(a&&!r||!a&&r||r.length!==a.length)return!1;for(let l=0;l<r.length;l++){const u=r[l],d=a[l];if(u.filename!==d.filename||u.lineno!==d.lineno||u.colno!==d.colno||u.function!==d.function)return!1}return!0}function sS(t,e){let a=t.fingerprint,r=e.fingerprint;if(!a&&!r)return!0;if(a&&!r||!a&&r)return!1;try{return a.join("")===r.join("")}catch{return!1}}function rS(t){return t.exception&&t.exception.values&&t.exception.values[0]}function iS(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Hm=ut;function Bp(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function _R(){if(typeof EdgeRuntime=="string")return!0;if(!(function(){if(!("fetch"in Hm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(Bp(Hm.fetch))return!0;let t=!1;const e=Hm.document;if(e&&typeof e.createElement=="function")try{const a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(t=Bp(a.contentWindow.fetch)),e.head.removeChild(a)}catch(a){fi&&ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return t}function jR(t,e){const a="fetch";Qr(a,t),Gr(a,(()=>(function(r,l=!1){l&&!_R()||Zn(ut,"fetch",(function(u){return function(...d){const h=new Error,{method:p,url:v}=(function(_){if(_.length===0)return{method:"GET",url:""};if(_.length===2){const[A,M]=_;return{url:oS(A),method:Vp(M,"method")?String(M.method).toUpperCase():"GET"}}const C=_[0];return{url:oS(C),method:Vp(C,"method")?String(C.method).toUpperCase():"GET"}})(d),y={args:d,fetchData:{method:p,url:v},startTimestamp:1e3*Ss(),virtualError:h};return r||Oa("fetch",{...y}),u.apply(ut,d).then((async _=>(r?r(_):Oa("fetch",{...y,endTimestamp:1e3*Ss(),response:_}),_)),(_=>{throw Oa("fetch",{...y,endTimestamp:1e3*Ss(),error:_}),Wg(_)&&_.stack===void 0&&(_.stack=h.stack,ti(_,"framesToPop",1)),_}))}}))})(void 0,e)))}function Vp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function oS(t){return typeof t=="string"?t:t?Vp(t,"url")?t.url:t.toString?t.toString():"":""}const Qu=ut,on=ut;let Fp=0;function lS(){return Fp>0}function bo(t,e={}){if(!(function(r){return typeof r=="function"})(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(nv(t))return t}catch{return t}const a=function(...r){try{const l=r.map((u=>bo(u,e)));return t.apply(this,l)}catch(l){throw Fp++,setTimeout((()=>{Fp--})),(function(...u){const d=sv(rf());if(u.length===2){const[h,p]=u;return h?d.withSetScope(h,p):d.withScope(p)}d.withScope(u[0])})((u=>{var d;u.addEventProcessor((h=>(e.mechanism&&(Dp(h,void 0),vo(h,e.mechanism)),h.extra={...h.extra,arguments:r},h))),d=l,hi().captureException(d,void 0)})),l}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])}catch{}SN(a,t),ti(t,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get:()=>t.name})}catch{}return a}const uf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ov(t,e){const a=lv(t,e),r={type:TR(e),value:kR(e)};return a.length&&(r.stacktrace={frames:a}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function NR(t,e,a,r){const l=vn(),u=l&&l.getOptions().normalizeDepth,d=(function(v){for(const y in v)if(Object.prototype.hasOwnProperty.call(v,y)){const _=v[y];if(_ instanceof Error)return _}})(e),h={__serialized__:TN(e,u)};if(d)return{exception:{values:[ov(t,d)]},extra:h};const p={exception:{values:[{type:of(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:ER(e,{isUnhandledRejection:r})}]},extra:h};if(a){const v=lv(t,a);v.length&&(p.exception.values[0].stacktrace={frames:v})}return p}function $m(t,e){return{exception:{values:[ov(t,e)]}}}function lv(t,e){const a=e.stacktrace||e.stack||"",r=(function(u){return u&&CR.test(u.message)?1:0})(e),l=(function(u){return typeof u.framesToPop=="number"?u.framesToPop:0})(e);try{return t(a,r,l)}catch{}return[]}const CR=/Minified React error #\d+;/i;function AN(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function TR(t){const e=t&&t.name;return!e&&AN(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function kR(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:AN(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function qp(t,e,a,r,l){let u;if(xN(e)&&e.error)return $m(t,e.error);if(Nw(e)||Do(e,"DOMException")){const d=e;if("stack"in e)u=$m(t,e);else{const h=d.name||(Nw(d)?"DOMError":"DOMException"),p=d.message?`${h}: ${d.message}`:h;u=Hp(t,p,a,r),Dp(u,p)}return"code"in d&&(u.tags={...u.tags,"DOMException.code":`${d.code}`}),u}return Wg(e)?$m(t,e):go(e)||of(e)?(u=NR(t,e,a,l),vo(u,{synthetic:!0}),u):(u=Hp(t,e,a,r),Dp(u,`${e}`),vo(u,{synthetic:!0}),u)}function Hp(t,e,a,r){const l={};if(r&&a){const u=lv(t,a);u.length&&(l.exception={values:[{value:e,stacktrace:{frames:u}}]}),vo(l,{synthetic:!0})}if(ev(e)){const{__sentry_template_string__:u,__sentry_template_values__:d}=e;return l.logentry={message:u,params:d},l}return l.message=e,l}function ER(t,{isUnhandledRejection:e}){const a=(function(l,u=40){const d=Object.keys(_N(l));d.sort();const h=d[0];if(!h)return"[object has no keys]";if(h.length>=u)return oo(h,u);for(let p=d.length;p>0;p--){const v=d.slice(0,p).join(", ");if(!(v.length>u))return p===d.length?v:oo(v,u)}return""})(t),r=e?"promise rejection":"exception";return xN(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:of(t)?`Event \`${(function(l){try{const u=Object.getPrototypeOf(l);return u?u.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${a}`}class MR extends dR{constructor(e){const a={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,l,u=[l],d="npm"){const h=r._metadata||{};h.sdk||(h.sdk={name:`sentry.javascript.${l}`,packages:u.map((p=>({name:`${d}:@sentry/${p}`,version:$r}))),version:$r}),r._metadata=h})(a,"browser",["browser"],on.SENTRY_SDK_SOURCE||"npm"),super(a),a.sendClientReports&&on.document&&on.document.addEventListener("visibilitychange",(()=>{on.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,a){return(function(r,l,u,d){const h=qp(r,l,u&&u.syntheticException||void 0,d);return vo(h),h.level="error",u&&u.event_id&&(h.event_id=u.event_id),ni(h)})(this._options.stackParser,e,a,this._options.attachStacktrace)}eventFromMessage(e,a="info",r){return(function(l,u,d="info",h,p){const v=Hp(l,u,h&&h.syntheticException||void 0,p);return v.level=d,h&&h.event_id&&(v.event_id=h.event_id),ni(v)})(this._options.stackParser,e,a,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(uf&&ze.warn("SDK not enabled, will not capture user feedback."));const a=(function(r,{metadata:l,tunnel:u,dsn:d}){const h={event_id:r.event_id,sent_at:new Date().toISOString(),...l&&l.sdk&&{sdk:{name:l.sdk.name,version:l.sdk.version}},...!!u&&!!d&&{dsn:_d(d)}};return $l(h,[(function(v){return[{type:"user_report"},v]})(r)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(a)}_prepareEvent(e,a,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,a,r)}}const AR=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Cn=ut;let cS,Qm,Gm,Gu;function OR(){if(!Cn.document)return;const t=Oa.bind(null,"dom"),e=uS(t,!0);Cn.document.addEventListener("click",e,!1),Cn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((a=>{const r=Cn[a],l=r&&r.prototype;l&&l.hasOwnProperty&&l.hasOwnProperty("addEventListener")&&(Zn(l,"addEventListener",(function(u){return function(d,h,p){if(d==="click"||d=="keypress")try{const v=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},y=v[d]=v[d]||{refCount:0};if(!y.handler){const _=uS(t);y.handler=_,u.call(this,d,_,p)}y.refCount++}catch{}return u.call(this,d,h,p)}})),Zn(l,"removeEventListener",(function(u){return function(d,h,p){if(d==="click"||d=="keypress")try{const v=this.__sentry_instrumentation_handlers__||{},y=v[d];y&&(y.refCount--,y.refCount<=0&&(u.call(this,d,y.handler,p),y.handler=void 0,delete v[d]),Object.keys(v).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return u.call(this,d,h,p)}})))}))}function uS(t,e=!1){return a=>{if(!a||a._sentryCaptured)return;const r=(function(u){try{return u.target}catch{return null}})(a);if((function(u,d){return u==="keypress"&&(!d||!d.tagName||d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!d.isContentEditable)})(a.type,r))return;ti(a,"_sentryCaptured",!0),r&&!r._sentryId&&ti(r,"_sentryId",xa());const l=a.type==="keypress"?"input":a.type;(function(u){if(u.type!==Qm)return!1;try{if(!u.target||u.target._sentryId!==Gm)return!1}catch{}return!0})(a)||(t({event:a,name:l,global:e}),Qm=a.type,Gm=r?r._sentryId:void 0),clearTimeout(cS),cS=Cn.setTimeout((()=>{Gm=void 0,Qm=void 0}),1e3)}}function ON(t){const e="history";Qr(e,t),Gr(e,DR)}function DR(){if(!(function(){const a=Qu.chrome,r=a&&a.app&&a.app.runtime,l="history"in Qu&&!!Qu.history.pushState&&!!Qu.history.replaceState;return!r&&l})())return;const t=Cn.onpopstate;function e(a){return function(...r){const l=r.length>2?r[2]:void 0;if(l){const u=Gu,d=String(l);Gu=d,Oa("history",{from:u,to:d})}return a.apply(this,r)}}Cn.onpopstate=function(...a){const r=Cn.location.href,l=Gu;if(Gu=r,Oa("history",{from:l,to:r}),t)try{return t.apply(this,a)}catch{}},Zn(Cn.history,"pushState",e),Zn(Cn.history,"replaceState",e)}const id={};function dS(t){id[t]=void 0}const Dl="__sentry_xhr_v3__";function RR(){if(!Cn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,a,r){const l=new Error,u=1e3*Ss(),d=xs(r[0])?r[0].toUpperCase():void 0,h=(function(v){if(xs(v))return v;try{return v.toString()}catch{}})(r[1]);if(!d||!h)return e.apply(a,r);a[Dl]={method:d,url:h,request_headers:{}},d==="POST"&&h.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const p=()=>{const v=a[Dl];if(v&&a.readyState===4){try{v.status_code=a.status}catch{}Oa("xhr",{endTimestamp:1e3*Ss(),startTimestamp:u,xhr:a,virtualError:l})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply:(v,y,_)=>(p(),v.apply(y,_))}):a.addEventListener("readystatechange",p),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(v,y,_){const[C,A]=_,M=y[Dl];return M&&xs(C)&&xs(A)&&(M.request_headers[C.toLowerCase()]=A),v.apply(y,_)}}),e.apply(a,r)}}),t.send=new Proxy(t.send,{apply(e,a,r){const l=a[Dl];return l?(r[0]!==void 0&&(l.body=r[0]),Oa("xhr",{startTimestamp:1e3*Ss(),xhr:a}),e.apply(a,r)):e.apply(a,r)}})}function PR(t,e=(function(a){const r=id[a];if(r)return r;let l=Cn[a];if(Bp(l))return id[a]=l.bind(Cn);const u=Cn.document;if(u&&typeof u.createElement=="function")try{const d=u.createElement("iframe");d.hidden=!0,u.head.appendChild(d);const h=d.contentWindow;h&&h[a]&&(l=h[a]),u.head.removeChild(d)}catch(d){AR&&ze.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,d)}return l&&(id[a]=l.bind(Cn))})("fetch")){let a=0,r=0;return mR(t,(function(l){const u=l.body.length;a+=u,r++;const d={body:l.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:a<=6e4&&r<15,...t.fetchOptions};if(!e)return dS("fetch"),Sd("No fetch implementation available");try{return e(t.url,d).then((h=>(a-=u,r--,{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}})))}catch(h){return dS("fetch"),a-=u,r--,Sd(h)}}))}function Ym(t,e,a,r){const l={filename:t,function:e==="<anonymous>"?Hr:e,in_app:!0};return a!==void 0&&(l.lineno=a),r!==void 0&&(l.colno=r),l}const LR=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zR=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,IR=/\((\S*)(?::(\d+))(?::(\d+))\)/,UR=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,BR=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,VR=(function(...t){const e=t.sort(((a,r)=>a[0]-r[0])).map((a=>a[1]));return(a,r=0,l=0)=>{const u=[],d=a.split(`
`);for(let h=r;h<d.length;h++){const p=d[h];if(p.length>1024)continue;const v=bw.test(p)?p.replace(bw,"$1"):p;if(!v.match(/\S*Error: /)){for(const y of e){const _=y(v);if(_){u.push(_);break}}if(u.length>=50+l)break}}return(function(h){if(!h.length)return[];const p=Array.from(h);return/sentryWrapped/.test(Vu(p).function||"")&&p.pop(),p.reverse(),ww.test(Vu(p).function||"")&&(p.pop(),ww.test(Vu(p).function||"")&&p.pop()),p.slice(0,50).map((v=>({...v,filename:v.filename||Vu(p).filename,function:v.function||Hr})))})(u.slice(l))}})([30,t=>{const e=LR.exec(t);if(e){const[,r,l,u]=e;return Ym(r,Hr,+l,+u)}const a=zR.exec(t);if(a){if(a[2]&&a[2].indexOf("eval")===0){const u=IR.exec(a[2]);u&&(a[2]=u[1],a[3]=u[2],a[4]=u[3])}const[r,l]=fS(a[1]||Hr,a[2]);return Ym(l,r,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}}],[50,t=>{const e=UR.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const l=BR.exec(e[3]);l&&(e[1]=e[1]||"eval",e[3]=l[1],e[4]=l[2],e[5]="")}let a=e[3],r=e[1]||Hr;return[r,a]=fS(r,a),Ym(a,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),fS=(t,e)=>{const a=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return a||r?[t.indexOf("@")!==-1?t.split("@")[0]:Hr,a?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},hS=1024,FR=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(a){var r;e.console&&(function(l){const u="console";Qr(u,l),Gr(u,bR)})((function(l){return function(u){if(vn()!==l)return;const d={category:"console",data:{arguments:u.args,logger:"console"},level:wR(u.level),message:Cw(u.args," ")};if(u.level==="assert"){if(u.args[0]!==!1)return;d.message=`Assertion failed: ${Cw(u.args.slice(1)," ")||"console.assert"}`,d.data.arguments=u.args.slice(1)}Rr(d,{input:u.args,level:u.level})}})(a)),e.dom&&(r=(function(l,u){return function(d){if(vn()!==l)return;let h,p,v=typeof u=="object"?u.serializeAttribute:void 0,y=typeof u=="object"&&typeof u.maxStringLength=="number"?u.maxStringLength:void 0;y&&y>hS&&(uf&&ze.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${y} was configured. Sentry will use 1024 instead.`),y=hS),typeof v=="string"&&(v=[v]);try{const C=d.event,A=(function(M){return!!M&&!!M.target})(C)?C.target:C;h=wN(A,{keyAttrs:v,maxStringLength:y}),p=(function(M){if(!tv.HTMLElement)return null;let j=M;for(let T=0;T<5;T++){if(!j)return null;if(j instanceof HTMLElement){if(j.dataset.sentryComponent)return j.dataset.sentryComponent;if(j.dataset.sentryElement)return j.dataset.sentryElement}j=j.parentNode}return null})(A)}catch{h="<unknown>"}if(h.length===0)return;const _={category:`ui.${d.name}`,message:h};p&&(_.data={"ui.component_name":p}),Rr(_,{event:d.event,name:d.name,global:d.global})}})(a,e.dom),Qr("dom",r),Gr("dom",OR)),e.xhr&&(function(l){Qr("xhr",l),Gr("xhr",RR)})((function(l){return function(u){if(vn()!==l)return;const{startTimestamp:d,endTimestamp:h}=u,p=u.xhr[Dl];if(!d||!h||!p)return;const{method:v,url:y,status_code:_,body:C}=p,A={method:v,url:y,status_code:_},M={xhr:u.xhr,input:C,startTimestamp:d,endTimestamp:h};Rr({category:"xhr",data:A,type:"http",level:iS(_)},M)}})(a)),e.fetch&&jR((function(l){return function(u){if(vn()!==l)return;const{startTimestamp:d,endTimestamp:h}=u;if(h&&(!u.fetchData.url.match(/sentry_key/)||u.fetchData.method!=="POST"))if(u.error)Rr({category:"fetch",data:u.fetchData,level:"error",type:"http"},{data:u.error,input:u.args,startTimestamp:d,endTimestamp:h});else{const p=u.response,v={...u.fetchData,status_code:p&&p.status},y={input:u.args,response:p,startTimestamp:d,endTimestamp:h};Rr({category:"fetch",data:v,type:"http",level:iS(v.status_code)},y)}}})(a)),e.history&&ON((function(l){return function(u){if(vn()!==l)return;let d=u.from,h=u.to;const p=qm(on.location.href);let v=d?qm(d):void 0;const y=qm(h);v&&v.path||(v=p),p.protocol===y.protocol&&p.host===y.host&&(h=y.relative),p.protocol===v.protocol&&p.host===v.host&&(d=v.relative),Rr({category:"navigation",data:{from:d,to:h}})}})(a)),e.sentry&&a.on("beforeSendEvent",(function(l){return function(u){vn()===l&&Rr({category:"sentry."+(u.type==="transaction"?"transaction":"event"),event_id:u.event_id,level:u.level,message:ar(u)},{event:u})}})(a))}}},qR=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],HR=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Zn(on,"setTimeout",mS),e.setInterval&&Zn(on,"setInterval",mS),e.requestAnimationFrame&&Zn(on,"requestAnimationFrame",$R),e.XMLHttpRequest&&"XMLHttpRequest"in on&&Zn(XMLHttpRequest.prototype,"send",QR);const a=e.eventTarget;a&&(Array.isArray(a)?a:qR).forEach(GR)}}};function mS(t){return function(...e){const a=e[0];return e[0]=bo(a,{mechanism:{data:{function:or(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function $R(t){return function(e){return t.apply(this,[bo(e,{mechanism:{data:{function:"requestAnimationFrame",handler:or(t)},handled:!1,type:"instrument"}})])}}function QR(t){return function(...e){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((r=>{r in a&&typeof a[r]=="function"&&Zn(a,r,(function(l){const u={mechanism:{data:{function:r,handler:or(l)},handled:!1,type:"instrument"}},d=nv(l);return d&&(u.mechanism.data.handler=or(d)),bo(l,u)}))})),t.apply(this,e)}}function GR(t){const e=on[t],a=e&&e.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Zn(a,"addEventListener",(function(r){return function(l,u,d){try{typeof u.handleEvent=="function"&&(u.handleEvent=bo(u.handleEvent,{mechanism:{data:{function:"handleEvent",handler:or(u),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[l,bo(u,{mechanism:{data:{function:"addEventListener",handler:or(u),target:t},handled:!1,type:"instrument"}}),d])}})),Zn(a,"removeEventListener",(function(r){return function(l,u,d){try{const h=u.__sentry_wrapped__;h&&r.call(this,l,h,d)}catch{}return r.call(this,l,u,d)}})))}const YR=()=>({name:"BrowserSession",setupOnce(){on.document!==void 0?(Hw({ignoreDuration:!0}),$w(),ON((({from:t,to:e})=>{t!==void 0&&t!==e&&(Hw({ignoreDuration:!0}),$w())}))):uf&&ze.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),JR=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(a){e.onerror&&((function(r){(function(l){const u="error";Qr(u,l),Gr(u,U3)})((l=>{const{stackParser:u,attachStacktrace:d}=gS();if(vn()!==r||lS())return;const{msg:h,url:p,line:v,column:y,error:_}=l,C=(function(A,M,j,T){const k=A.exception=A.exception||{},D=k.values=k.values||[],P=D[0]=D[0]||{},z=P.stacktrace=P.stacktrace||{},U=z.frames=z.frames||[],F=T,Y=j,Z=xs(M)&&M.length>0?M:(function(){try{return tv.document.location.href}catch{return""}})();return U.length===0&&U.push({colno:F,filename:Z,function:Hr,in_app:!0,lineno:Y}),A})(qp(u,_||h,void 0,d,!1),p,v,y);C.level="error",qw(C,{originalException:_,mechanism:{handled:!1,type:"onerror"}})}))})(a),pS("onerror")),e.onunhandledrejection&&((function(r){(function(l){const u="unhandledrejection";Qr(u,l),Gr(u,B3)})((l=>{const{stackParser:u,attachStacktrace:d}=gS();if(vn()!==r||lS())return;const h=(function(v){if(Ap(v))return v;try{if("reason"in v)return v.reason;if("detail"in v&&"reason"in v.detail)return v.detail.reason}catch{}return v})(l),p=Ap(h)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(h)}`}]}}:qp(u,h,void 0,d,!0);p.level="error",qw(p,{originalException:h,mechanism:{handled:!1,type:"onunhandledrejection"}})}))})(a),pS("onunhandledrejection"))}}};function pS(t){uf&&ze.log(`Global Handler attached: ${t}`)}function gS(){const t=vn();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const ZR=()=>({name:"HttpContext",preprocessEvent(t){if(!on.navigator&&!on.location&&!on.document)return;const e=t.request&&t.request.url||on.location&&on.location.href,{referrer:a}=on.document||{},{userAgent:r}=on.navigator||{},l={...t.request&&t.request.headers,...a&&{Referer:a},...r&&{"User-Agent":r}},u={...t.request,...e&&{url:e},headers:l};t.request=u}}),KR=(t={})=>{const e=t.limit||5,a=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,l,u){const d=u.getOptions();xR(ov,d.stackParser,d.maxValueLength,a,e,r,l)}}};var vS="new",yS="loading",xS="loaded",$p="joining-meeting",Br="joined-meeting",Pr="left-meeting",Ws="error",XR="playable",Jm="unknown",WR="full",e5="base",bS="no-room",t5="end-of-life",n5="connection-error",a5="iframe-ready-for-launch-config",s5="iframe-launch-config",r5="theme-updated",i5="loading",o5="load-attempt-failed",wS="loaded",l5="started-camera",c5="camera-error",u5="joining-meeting",d5="joined-meeting",f5="left-meeting",h5="participant-joined",m5="participant-updated",p5="participant-left",g5="participant-counts-updated",v5="access-state-updated",y5="meeting-session-summary-updated",x5="meeting-session-state-updated",b5="waiting-participant-added",w5="waiting-participant-updated",S5="waiting-participant-removed",_5="track-started",j5="track-stopped",N5="transcription-started",C5="transcription-stopped",T5="transcription-error",SS="recording-started",_S="recording-stopped",k5="recording-stats",E5="recording-error",M5="recording-upload-completed",A5="recording-data",O5="app-message",D5="transcription-message",R5="remote-media-player-started",P5="remote-media-player-updated",L5="remote-media-player-stopped",z5="local-screen-share-started",I5="local-screen-share-stopped",U5="local-screen-share-canceled",B5="active-speaker-change",V5="active-speaker-mode-change",F5="network-quality-change",q5="network-connection",H5="cpu-load-change",$5="face-counts-updated",Yu="fullscreen",Ju="exited-fullscreen",Q5="live-streaming-started",G5="live-streaming-updated",Y5="live-streaming-stopped",J5="live-streaming-error",Z5="lang-updated",K5="receive-settings-updated",jS="input-settings-updated",NS="nonfatal-error",CS="error",Zm=4096,TS=102400,Km="iframe-call-message",kS="local-screen-start",ES="daily-method-update-live-streaming-endpoints",Zu="transmit-log",bs="daily-custom-track",od={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},DN={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Qp={PLAY:"play",PAUSE:"pause"},Xm=["jpg","png","jpeg"],X5="add-endpoints",W5="remove-endpoints",MS="sip-call-transfer";function ba(){return!et()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function et(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function RN(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function eP(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(ai(),jd())||et())}function AS(){if(et()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var Gp="none",tP="software",nP="hardware",aP=(function(){try{var t,e=document.createElement("canvas"),a=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(a=!0,t=e.getContext("webgl2"));var r=t!=null;return e.remove(),r?a?tP:nP:Gp}catch{return Gp}})();function PN(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!et()&&aP!==Gp&&(t?(function(){return OS()?!1:["Chrome","Firefox"].includes(ai())})():(function(){if(OS())return!1;var e=ai();if(e==="Safari"){var a=uv();if(a.major<15||a.major===15&&a.minor<4)return!1}return e==="Chrome"?cv().major>=77:e==="Firefox"?dv().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}function LN(){if(et()||zN()||typeof AudioWorkletNode>"u")return!1;switch(ai()){case"Chrome":case"Firefox":return!0;case"Safari":var t=jd();return t.major>17||t.major===17&&t.minor>=4}return!1}function Wm(){return RN()&&typeof MediaStreamTrack<"u"&&!(function(){var t,e=ai();if(!ba())return!0;switch(e){case"Chrome":return(t=cv()).major&&t.major>0&&t.major<75;case"Firefox":return(t=dv()).major<91;case"Safari":return(t=uv()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function zN(){return ba().match(/Linux; Android/)}function OS(){var t,e=ba(),a=e.match(/Mac/)&&(!et()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||a)||!!ba().match(/DailyAnd\//)||void 0}function ai(){if(typeof window<"u"){var t=ba();return IN()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||UN()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function jd(){switch(ai()){case"Chrome":return cv();case"Safari":return uv();case"Firefox":return dv();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var a=ba().match(/Edge\/(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2])}catch{}}return{major:t,minor:e}})()}}function cv(){var t=0,e=0,a=0,r=0,l=!1;if(typeof window<"u"){var u=ba(),d=u.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(d)try{t=parseInt(d[1]),e=parseInt(d[2]),a=parseInt(d[3]),r=parseInt(d[4]),l=u.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:a,patch:r,opera:l}}function IN(){return!!ba().match(/iPad|iPhone|iPod/i)&&RN()}function UN(){return ba().indexOf("AppleWebKit/605.1.15")>-1}function uv(){var t=0,e=0,a=0;if(typeof window<"u"){var r=ba().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),a=parseInt(r[4])}catch{}else(IN()||UN())&&(t=14,e=0,a=3)}return{major:t,minor:e,point:a}}function dv(){var t=0,e=0;if(typeof window<"u"){var a=ba().match(/Firefox\/(\d+).(\d+)/);if(a)try{t=parseInt(a[1]),e=parseInt(a[2])}catch{}}return{major:t,minor:e}}var BN=(function(){return ta((function t(){ea(this,t)}),[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,a){El()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,a){El()}},{key:"sendMessageToCallMachine",value:function(t,e,a,r){El()}},{key:"sendMessageToDailyJs",value:function(t,e){El()}},{key:"removeListener",value:function(t){El()}}])})();function DS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.push.apply(a,r)}return a}function ep(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(a),!0).forEach((function(r){qa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DS(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function VN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(VN=function(){return!!t})()}var sP=(function(){function t(){var e,a,r,l;return ea(this,t),a=this,r=Ra(r=t),(e=nf(a,VN()?Reflect.construct(r,[],Ra(a).constructor):r.apply(a,l)))._wrappedListeners={},e._messageCallbacks={},e}return af(t,BN),ta(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,a,r){var l=this,u=function(d){if(d.data&&d.data.what==="iframe-call-message"&&(!d.data.callClientId||d.data.callClientId===a)&&(!d.data.from||d.data.from!=="module")){var h=ep({},d.data);if(delete h.from,h.callbackStamp&&l._messageCallbacks[h.callbackStamp]){var p=h.callbackStamp;l._messageCallbacks[p].call(r,h),delete l._messageCallbacks[p]}delete h.what,delete h.callbackStamp,e.call(r,h)}};this._wrappedListeners[e]=u,window.addEventListener("message",u)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,a,r){var l=function(u){var d;if(!(!u.data||u.data.what!==Km||!u.data.action||u.data.from&&u.data.from!=="module"||u.data.callClientId&&a&&u.data.callClientId!==a||u!=null&&(d=u.data)!==null&&d!==void 0&&d.callFrameId)){var h=u.data;e.call(r,h)}};this._wrappedListeners[e]=l,window.addEventListener("message",l)}},{key:"sendMessageToCallMachine",value:function(e,a,r,l){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var u=ep({},e);if(u.what=Km,u.from="module",u.callClientId=r,a){var d=sf();this._messageCallbacks[d]=a,u.callbackStamp=d}var h=l?l.contentWindow:window,p=this._callMachineTargetOrigin(l);p&&h.postMessage(u,p)}},{key:"sendMessageToDailyJs",value:function(e,a){e.what=Km,e.callClientId=a,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var a=this._wrappedListeners[e];a&&(window.removeEventListener("message",a),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,a,r){var l=ep({},e);l.callClientId=r;var u=a?a.contentWindow:window,d=this._callMachineTargetOrigin(a);d&&u.postMessage(l,d)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,a){var r=function(l){if(l.data&&l.data.what==="iframe-call-message"&&(!l.data.callClientId||l.data.callClientId===a)&&(!l.data.from||l.data.from!=="module")){var u=l.data;e(u)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var a=this._wrappedListeners[e];a&&(window.removeEventListener("message",a),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])})();function RS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.push.apply(a,r)}return a}function FN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(FN=function(){return!!t})()}var rP=(function(){function t(){var e,a,r,l;return ea(this,t),a=this,r=Ra(r=t),e=nf(a,FN()?Reflect.construct(r,[],Ra(a).constructor):r.apply(a,l)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Ep.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Ep.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return af(t,BN),ta(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,a,r){this._addListener(e,global.callMachineToDailyJsEmitter,a,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,a,r){this._addListener(e,global.dailyJsToCallMachineEmitter,a,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,a,r){this._sendMessage(e,global.dailyJsToCallMachineEmitter,r,a,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,a){this._sendMessage(e,global.callMachineToDailyJsEmitter,a,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var a=this._wrappedListeners[e];a&&(global.callMachineToDailyJsEmitter.removeListener("message",a),global.dailyJsToCallMachineEmitter.removeListener("message",a),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,a,r,l,u){var d=this,h=function(p){if(p.callClientId===r){if(p.callbackStamp&&d._messageCallbacks[p.callbackStamp]){var v=p.callbackStamp;d._messageCallbacks[v].call(l,p),delete d._messageCallbacks[v]}e.call(l,p)}};this._wrappedListeners[e]=h,a.addListener("message",h)}},{key:"_sendMessage",value:function(e,a,r,l,u){var d=(function(p){for(var v=1;v<arguments.length;v++){var y=arguments[v]!=null?arguments[v]:{};v%2?RS(Object(y),!0).forEach((function(_){qa(p,_,y[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):RS(Object(y)).forEach((function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(y,_))}))}return p})({},e);if(d.callClientId=r,l){var h=sf();this._messageCallbacks[h]=l,d.callbackStamp=h}a.emit("message",d)}}])})(),Yp="replace",Jp="shallow-merge",PS=[Yp,Jp],iP=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.data,r=e.mergeStrategy,l=r===void 0?Yp:r;ea(this,t),t._validateMergeStrategy(l),t._validateData(a,l),this.mergeStrategy=l,this.data=a}return ta(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,a){return Object.keys(e).length===0&&a===Jp}},{key:"_validateMergeStrategy",value:function(e){if(!PS.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(PS,"]"))}},{key:"_validateData",value:function(e,a){if(!(function(h){if(h==null||at(h)!=="object")return!1;var p=Object.getPrototypeOf(h);return p==null||p===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),a===Yp){var l=JSON.parse(r);_n(l,e)||console.warn("The meeting session data provided will be modified when serialized.",l,e)}else if(a===Jp){for(var u in e)if(Object.hasOwnProperty.call(e,u)&&e[u]!==void 0){var d=JSON.parse(JSON.stringify(e[u]));_n(e[u],d)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",d,e[u])}}}catch(h){throw Error("Meeting session data must be serializable to JSON: ".concat(h))}if(r.length>TS)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(TS,"."))}}])})();function qN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(qN=function(){return!!t})()}function Zp(t){var e=typeof Map=="function"?new Map:void 0;return Zp=function(a){if(a===null||!(function(l){try{return Function.toString.call(l).indexOf("[native code]")!==-1}catch{return typeof l=="function"}})(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(a))return e.get(a);e.set(a,r)}function r(){return(function(l,u,d){if(qN())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,u);var p=new(l.bind.apply(l,h));return d&&Hl(p,d.prototype),p})(a,arguments,Ra(this).constructor)}return r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Hl(r,a)},Zp(t)}function HN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(HN=function(){return!!t})()}function LS(t){var e,a=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(a){var r=a.indexOf(t);r!==-1&&a.splice(r,1)}}var oP=(function(){return ta((function t(e){ea(this,t),this._currentLoad=null,this._callClientId=e}),[{key:"load",value:function(){var t,e=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new lP(a,(function(){r(!1)}),(function(u,d){d||LS(e._callClientId),l(u,d)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),LS(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])})(),lP=(function(){return ta((function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;ea(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=a,this._failureCallback=r}),[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(a){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(a,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout((function(){t._currentAttempt.cancelled||(t._currentAttempt=new zS(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())}),3e3))};this._currentAttempt=new zS(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])})(),tp=(function(){function t(){return ea(this,t),e=this,r=arguments,a=Ra(a=t),nf(e,HN()?Reflect.construct(a,r||[],Ra(e).constructor):a.apply(e,r));var e,a,r}return af(t,Zp(Error)),ta(t)})(),Nd=2e4,zS=(function(){return ta((function e(a,r,l){ea(this,e),this._loadAttemptImpl=et()||!a.avoidEval?new cP(a,r,l):new uP(a,r,l)}),[{key:"start",value:(t=Re((function*(){return this._loadAttemptImpl.start()})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t})(),cP=(function(){return ta((function l(u,d,h){ea(this,l),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=u,this._successCallback=d,this._failureCallback=h}),[{key:"start",value:(r=Re((function*(){var l=yd(this._dailyConfig);!(yield this._tryLoadFromIOSCache(l))&&this._loadFromNetwork(l)})),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(a=Re((function*(l){if(!this._iosCache)return!1;try{var u=yield this._iosCache.get(l);return!!this.cancelled||!!u&&(u.code?(Function('"use strict";'+u.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=u.refetchHeaders,!1))}catch{return!1}})),function(l){return a.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Re((function*(l){var u=this;this._networkTimeout=setTimeout((function(){u._networkTimedOut=!0,u._failureCallback({msg:"Timed out (>".concat(Nd," ms) when loading call object bundle ").concat(l),type:"timeout"})}),Nd);try{var d=this._refetchHeaders?{headers:this._refetchHeaders}:{},h=yield fetch(l,d);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new tp;var p=yield this._getBundleCodeFromResponse(l,h);if(this.cancelled)throw new tp;Function('"use strict";'+p)(),this._iosCache&&this._iosCache.set(l,p,h.headers),this.succeeded=!0,this._successCallback()}catch(v){if(clearTimeout(this._networkTimeout),v instanceof tp||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(l,": ").concat(v),type:v.message})}})),function(l){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Re((function*(l,u){if(u.ok)return yield u.text();if(this._iosCache&&u.status===304)return(yield this._iosCache.renew(l,u.headers)).code;throw new Error("Received ".concat(u.status," response"))})),function(l,u){return t.apply(this,arguments)})}]);var t,e,a,r})(),uP=(function(){return ta((function t(e,a,r){ea(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=a,this._failureCallback=r,this._attemptId=sf(),this._networkTimeout=null,this._scriptElement=null}),[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=yd(this._dailyConfig);(typeof document>"u"?"undefined":at(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(Nd," ms) when loading call object bundle ").concat(t),type:"timeout"})}),Nd);var a=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(l){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(l.target.src),type:l.message})},r.src=t,a.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])})(),Ku=function(t,e,a){return fP(t.local,e,a)===!0},dP=function(t,e,a){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(a==="video"?"Video":"Audio","Tracks")]()[0]},no=function(t,e,a,r){var l=hP(t,e,a,r);return l&&l.pendingTrack},fP=function(t,e,a){if(!t)return!1;var r=function(u){switch(u){case"avatar":return!0;case"staged":return u;default:return!!u}},l=t.public.subscribedTracks;return l&&l[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(a)===-1&&l[e].custom?[!0,"staged"].includes(l[e].custom)?r(l[e].custom):r(l[e].custom[a]):r(l[e][a]):!l||r(l.ALL)},hP=function(t,e,a,r){var l=Object.values(t.streams||{}).filter((function(u){return u.participantId===e&&u.type===a&&u.pendingTrack&&u.pendingTrack.kind===r})).sort((function(u,d){return new Date(d.starttime)-new Date(u.starttime)}));return l&&l[0]},mP=function(t,e){var a=t.local.public.customTracks;if(a&&a[e])return a[e].track};function IS(t,e){for(var a=e.getState(),r=0,l=["cam","screen"];r<l.length;r++)for(var u=l[r],d=0,h=["video","audio"];d<h.length;d++){var p=h[d],v=u==="cam"?p:"screen".concat(p.charAt(0).toUpperCase()+p.slice(1)),y=t.tracks[v];if(y){var _=t.local?dP(a,u,p):no(a,t.session_id,u,p);y.state==="playable"&&(y.track=_),y.persistentTrack=_}}}function US(t,e){try{var a=e.getState();for(var r in t.tracks)if(!pP(r)){var l=t.tracks[r].kind;if(l){var u=t.tracks[r];if(u){var d=t.local?mP(a,r):no(a,t.session_id,r,l);u.state==="playable"&&(t.tracks[r].track=d),u.persistentTrack=d}}else console.error("unknown type for custom track")}}catch(h){console.error(h)}}function pP(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function BS(t,e,a){var r=a.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var l=!0;try{var u=r.participants[t.session_id];u&&u.public&&u.public.rtcType&&u.public.rtcType.impl==="peer-to-peer"&&u.private&&!["connected","completed"].includes(u.private.peeringState)&&(l=!1)}catch(y){console.error(y)}if(!l)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&Ku(r,t.session_id,"cam-audio")){var d=no(r,t.session_id,"cam","audio");d&&(e&&e.audioTrack&&e.audioTrack.id===d.id?t.audioTrack=d:d.muted||(t.audioTrack=d)),t.audioTrack||(t.audio=!1)}if(t.video&&Ku(r,t.session_id,"cam-video")){var h=no(r,t.session_id,"cam","video");h&&(e&&e.videoTrack&&e.videoTrack.id===h.id?t.videoTrack=h:h.muted||(t.videoTrack=h)),t.videoTrack||(t.video=!1)}if(t.screen&&Ku(r,t.session_id,"screen-audio")){var p=no(r,t.session_id,"screen","audio");p&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===p.id?t.screenAudioTrack=p:p.muted||(t.screenAudioTrack=p))}if(t.screen&&Ku(r,t.session_id,"screen-video")){var v=no(r,t.session_id,"screen","video");v&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===v.id?t.screenVideoTrack=v:v.muted||(t.screenVideoTrack=v))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(y){console.error("unexpected error matching up tracks",y)}}}function gP(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return VS(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?VS(p,v):void 0}})(t))||e){a&&(t=a);var r=0,l=function(){};return{s:l,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Va=new Map,lo=null;function vP(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return FS(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?FS(p,v):void 0}})(t))||e){a&&(t=a);var r=0,l=function(){};return{s:l,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Fa=new Map,Il=null;function yP(t){$N()?(function(e){Va.has(e)||(Va.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(a){Va.has(e)&&(Va.get(e).lastDevicesString=JSON.stringify(a),lo||(lo=(function(){var r=Re((function*(){var l,u=yield navigator.mediaDevices.enumerateDevices(),d=gP(Va.keys());try{for(d.s();!(l=d.n()).done;){var h=l.value,p=JSON.stringify(u);p!==Va.get(h).lastDevicesString&&(Va.get(h).lastDevicesString=p,h(u))}}catch(v){d.e(v)}finally{d.f()}}));return function(){return r.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",lo)))})).catch((function(){})))})(t):(function(e){Fa.has(e)||(Fa.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(a){Fa.has(e)&&(Fa.get(e).lastDevicesString=JSON.stringify(a),Il||(Il=setInterval(Re((function*(){var r,l=yield navigator.mediaDevices.enumerateDevices(),u=vP(Fa.keys());try{for(u.s();!(r=u.n()).done;){var d=r.value,h=JSON.stringify(l);h!==Fa.get(d).lastDevicesString&&(Fa.get(d).lastDevicesString=h,d(l))}}catch(p){u.e(p)}finally{u.f()}})),3e3)))})))})(t)}function xP(t){$N()?(function(e){Va.has(e)&&(Va.delete(e),Va.size===0&&lo&&(navigator.mediaDevices.removeEventListener("devicechange",lo),lo=null))})(t):(function(e){Fa.has(e)&&(Fa.delete(e),Fa.size===0&&Il&&(clearInterval(Il),Il=null))})(t)}function $N(){var t;return et()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var bP=new Set;function wP(t,e){return t&&t.readyState==="live"&&!(function(a,r){return a.muted&&!bP.has(a.id)})(t)}function qS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.push.apply(a,r)}return a}function er(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(a),!0).forEach((function(r){qa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qS(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var Rl=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),SP=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Ul=Object.values(Rl),HS=["v","a","sv","sa","cv","ca"];Object.freeze(Ul.reduce((function(t,e,a){return t[e]=HS[a],t}),{})),Object.freeze(HS.reduce((function(t,e,a){return t[e]=Ul[a],t}),{}));var _P=[Rl.VIDEO,Rl.AUDIO,Rl.SCREEN_VIDEO,Rl.SCREEN_AUDIO],$S=Object.values(SP),QS=["p","s","t"];Object.freeze($S.reduce((function(t,e,a){return t[e]=QS[a],t}),{})),Object.freeze(QS.reduce((function(t,e,a){return t[e]=$S[a],t}),{}));var QN=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.base,r=e.byUserId,l=e.byParticipantId;ea(this,t),this.base=a,this.byUserId=r,this.byParticipantId=l}return ta(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof mn?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var a in e.byUserId={},this.byUserId){var r=this.byUserId[a];e.byUserId[a]=r instanceof mn?r.clone():r}if(this.byParticipantId!==void 0)for(var l in e.byParticipantId={},this.byParticipantId){var u=this.byParticipantId[l];e.byParticipantId[l]=u instanceof mn?u.clone():u}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof mn&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var a in e.byUserId={},this.byUserId){var r=this.byUserId[a];e.byUserId[a]=r instanceof mn?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var l in e.byParticipantId={},this.byParticipantId){var u=this.byParticipantId[l];e.byParticipantId[l]=u instanceof mn?u.toJSONObject():u}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var a in e.u={},this.byUserId){var r=this.byUserId[a];e.u[a]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var l in e.p={},this.byParticipantId){var u=this.byParticipantId[l];e.p[l]=typeof u=="boolean"?u:u.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof mn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var a=yn(e,2),r=a[0],l=a[1];return[r,l instanceof mn?l.normalize():l]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var a=yn(e,2),r=a[0],l=a[1];return[r,l instanceof mn?l.normalize():l]})))),this}}],[{key:"fromJSONObject",value:function(e){var a,r,l;if(e.base!==void 0&&(a=typeof e.base=="boolean"?e.base:mn.fromJSONObject(e.base)),e.byUserId!==void 0)for(var u in r={},e.byUserId){var d=e.byUserId[u];r[u]=typeof d=="boolean"?d:mn.fromJSONObject(d)}if(e.byParticipantId!==void 0)for(var h in l={},e.byParticipantId){var p=e.byParticipantId[h];l[h]=typeof p=="boolean"?p:mn.fromJSONObject(p)}return new t({base:a,byUserId:r,byParticipantId:l})}},{key:"fromMinifiedJSONObject",value:function(e){var a,r,l;if(e.b!==void 0&&(a=typeof e.b=="boolean"?e.b:mn.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var u in r={},e.u){var d=e.u[u];r[u]=typeof d=="boolean"?d:mn.fromMinifiedJSONObject(d)}if(e.p!==void 0)for(var h in l={},e.p){var p=e.p[h];l[h]=typeof p=="boolean"?p:mn.fromMinifiedJSONObject(p)}return new t({base:a,byUserId:r,byParticipantId:l})}},{key:"validateJSONObject",value:function(e){if(at(e)!=="object")return[!1,"canReceive must be an object"];for(var a=["base","byUserId","byParticipantId"],r=0,l=Object.keys(e);r<l.length;r++){var u=l[r];if(!a.includes(u))return[!1,"canReceive can only contain keys (".concat(a.join(", "),")")];if(u==="base"){var d=yn(mn.validateJSONObject(e.base,!0),2),h=d[0],p=d[1];if(!h)return[!1,p]}else{if(at(e[u])!=="object")return[!1,"invalid (non-object) value for field '".concat(u,"' in canReceive")];for(var v=0,y=Object.values(e[u]);v<y.length;v++){var _=y[v],C=yn(mn.validateJSONObject(_),2),A=C[0],M=C[1];if(!A)return[!1,M]}}}return[!0]}}])})(),mn=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.video,r=e.audio,l=e.screenVideo,u=e.screenAudio,d=e.customVideo,h=e.customAudio;ea(this,t),this.video=a,this.audio=r,this.screenVideo=l,this.screenAudio=u,this.customVideo=d,this.customAudio=h}return ta(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=er({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=er({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=er({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=er({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=er({},this.customVideo)),this.customAudio!==void 0&&(e.ca=er({},this.customAudio)),e}},{key:"normalize",value:function(){function e(a,r){return a&&Object.keys(a).length===1&&a["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?er({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?er({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,a){if(typeof e=="boolean")return[!0];if(at(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),l=0,u=r;l<u.length;l++){var d=u[l];if(!Ul.includes(d))return[!1,"invalid media type '".concat(d,"' in canReceive")];if(_P.includes(d)){if(typeof e[d]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(d,"' in canReceive")]}else{if(at(e[d])!=="object")return[!1,"invalid (non-object) value for media type '".concat(d,"' in canReceive")];for(var h=0,p=Object.values(e[d]);h<p.length;h++)if(typeof p[h]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(d,"' in canReceive")];if(a&&e[d]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(d,"'")]}}return a&&r.length!==Ul.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Ul.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])})(),jP=["result"],NP=["preserveIframe"];function GS(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.push.apply(a,r)}return a}function je(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(a),!0).forEach((function(r){qa(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):GS(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function GN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(GN=function(){return!!t})()}function YS(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=(function(p,v){if(p){if(typeof p=="string")return JS(p,v);var y={}.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?JS(p,v):void 0}})(t))||e){a&&(t=a);var r=0,l=function(){};return{s:l,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){a=a.call(t)},n:function(){var p=a.next();return d=p.done,p},e:function(p){h=!0,u=p},f:function(){try{d||a.return==null||a.return()}finally{if(h)throw u}}}}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var Lr={},ZS="video",CP="voice",KS=et()?{data:{}}:{data:{},topology:"none"},XS={present:0,hidden:0},YN={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},np=Object.keys(YN),WS=["state","volume","simulcastEncodings"],e1={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Cd={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Kp={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},zr={customIntegrations:{validate:nC,help:eC()},customTrayButtons:{validate:tC,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Cd))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(a){console.error("Failed to validate dailyConfig",a)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return aC(t,e1)},help:"reactNativeConfig should look like ".concat(JSON.stringify(e1),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return JN(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var a;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,a={customTrack:bs};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;a={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:a}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var a;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,a={customTrack:bs};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;a={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:a}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],a=function(r){for(var l=0,u=Object.keys(r);l<u.length;l++){var d=u[l];if(!e.includes(d))return console.error('unsupported color "'.concat(d,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[d].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(d,' theme color should be provided in valid hex color format. Received: "').concat(r[d],'"')),!1}return!0};return at(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?a(t.light.colors)&&a(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):a(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return ZN(t,{allowAllParticipantsKey:!1})},help:WN({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(a,r){try{return r.validateUpdateSendSettings(a),!0}catch(l){return console.error("Failed to validate send settings",l),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var a;return!!KN(t)&&(e._inputSettings||(e._inputSettings={}),XN(t,(a=e.properties)===null||a===void 0?void 0:a.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Xp()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Xu={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var a in t.cam)if(a!=="div"&&a!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var a=[!0,!1,"staged"];if(a.includes(t)||!et()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var h in u)if(h==="custom"){if(!a.includes(u[h])&&!l(u[h],!0))return!1}else{var p=!d&&!r.includes(h),v=!a.includes(u[h]);if(p||v)return!1}return!0};return l(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(et()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,a=Object.entries(t);e<a.length;e++){var r=yn(a[e],2),l=r[0],u=r[1];switch(l){case"hasPresence":if(typeof u!="boolean")return!1;break;case"canSend":if(u instanceof Set||u instanceof Array||Array.isArray(u)){var d,h=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],p=YS(u);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(!h.includes(v))return!1}}catch(k){p.e(k)}finally{p.f()}}else if(typeof u!="boolean")return!1;(u instanceof Array||Array.isArray(u))&&(t.canSend=new Set(u));break;case"canReceive":var y=yn(QN.validateJSONObject(u),2),_=y[0],C=y[1];if(!_)return console.error(C),!1;break;case"canAdmin":if(u instanceof Set||u instanceof Array||Array.isArray(u)){var A,M=["participants","streaming","transcription"],j=YS(u);try{for(j.s();!(A=j.n()).done;){var T=A.value;if(!M.includes(T))return!1}}catch(k){j.e(k)}finally{j.f()}}else if(typeof u!="boolean")return!1;(u instanceof Array||Array.isArray(u))&&(t.canAdmin=new Set(u));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=Re((function*(e){return new Promise((function(a,r){var l=[];e.forEach((function(u){return Promise.resolve(u).then((function(d){a(d)})).catch((function(d){l.push(d),l.length===e.length&&r(l)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var TP=(function(){function t(g){var S,w,O,E,V,J,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ea(this,t),O=this,E=Ra(E=t),qa(w=nf(O,GN()?Reflect.construct(E,[],Ra(O).constructor):E.apply(O,V)),"startListeningForDeviceChanges",(function(){yP(w.handleDeviceChange)})),qa(w,"stopListeningForDeviceChanges",(function(){xP(w.handleDeviceChange)})),qa(w,"handleDeviceChange",(function(fe){fe=fe.map((function(Me){return JSON.parse(JSON.stringify(Me))})),w.emitDailyJSEvent({action:"available-devices-updated",availableDevices:fe})})),qa(w,"handleNativeAppStateChange",(function(){var fe=Re((function*(Me){if(Me==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield w.destroy());var dt=Me==="active";w.disableReactNativeAutoDeviceManagement("video")||(dt?w.camUnmutedBeforeLosingNativeActiveState&&w.setLocalVideo(!0):(w.camUnmutedBeforeLosingNativeActiveState=w.localVideo(),w.camUnmutedBeforeLosingNativeActiveState&&w.setLocalVideo(!1)))}));return function(Me){return fe.apply(this,arguments)}})()),qa(w,"handleNativeAudioFocusChange",(function(fe){w.disableReactNativeAutoDeviceManagement("audio")||(w._hasNativeAudioFocus=fe,w.toggleParticipantAudioBasedOnNativeAudioFocus(),w._hasNativeAudioFocus?w.micUnmutedBeforeLosingNativeAudioFocus&&w.setLocalAudio(!0):(w.micUnmutedBeforeLosingNativeAudioFocus=w.localAudio(),w.setLocalAudio(!1)))})),qa(w,"handleNativeSystemScreenCaptureStop",(function(){w.stopScreenShare()})),!Wm()&&!et())throw new Error("WebRTC not supported or suppressed");if(w.strictMode=G.strictMode===void 0||G.strictMode,w.allowMultipleCallInstances=(S=G.allowMultipleCallInstances)!==null&&S!==void 0&&S,Object.keys(Lr).length&&(w._logDuplicateInstanceAttempt(),!w.allowMultipleCallInstances)){if(w.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),w.callClientId=sf(),Lr[(J=w).callClientId]=J,window._daily.instances[w.callClientId]={},w._sharedTracks={},window._daily.instances[w.callClientId].tracks=w._sharedTracks,G.dailyJsVersion=t.version(),w._iframe=g,w._callObjectMode=G.layout==="none"&&!w._iframe,w._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},G.showLocalVideo!==void 0?w._callObjectMode?console.error("showLocalVideo is not available in call object mode"):w._showLocalVideo=!!G.showLocalVideo:w._showLocalVideo=!0,G.showParticipantsBar!==void 0?w._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):w._showParticipantsBar=!!G.showParticipantsBar:w._showParticipantsBar=!0,G.customIntegrations!==void 0?w._callObjectMode?console.error("customIntegrations is not available in call object mode"):w._customIntegrations=G.customIntegrations:w._customIntegrations={},G.customTrayButtons!==void 0?w._callObjectMode?console.error("customTrayButtons is not available in call object mode"):w._customTrayButtons=G.customTrayButtons:w._customTrayButtons={},G.activeSpeakerMode!==void 0?w._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):w._activeSpeakerMode=!!G.activeSpeakerMode:w._activeSpeakerMode=!1,G.receiveSettings?w._callObjectMode?w._receiveSettings=G.receiveSettings:console.error("receiveSettings is only available in call object mode"):w._receiveSettings={},w.validateProperties(G),w.properties=je({},G),w._inputSettings||(w._inputSettings={}),w._callObjectLoader=w._callObjectMode?new oP(w.callClientId):null,w._callState=vS,w._isPreparingToJoin=!1,w._accessState={access:Jm},w._meetingSessionSummary={},w._finalSummaryOfPrevSession={},w._meetingSessionState=rp(KS,w._callObjectMode),w._nativeInCallAudioMode=ZS,w._participants={},w._isScreenSharing=!1,w._participantCounts=XS,w._rmpPlayerState={},w._waitingParticipants={},w._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},w._activeSpeaker={},w._localAudioLevel=0,w._isLocalAudioLevelObserverRunning=!1,w._remoteParticipantsAudioLevel={},w._isRemoteParticipantsAudioLevelObserverRunning=!1,w._maxAppMessageSize=Zm,w._messageChannel=et()?new rP:new sP,w._iframe&&(w._iframe.requestFullscreen?w._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===w._iframe?(w.emitDailyJSEvent({action:Yu}),w.sendMessageToCallMachine({action:Yu})):(w.emitDailyJSEvent({action:Ju}),w.sendMessageToCallMachine({action:Ju}))})):w._iframe.webkitRequestFullscreen&&w._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===w._iframe?(w.emitDailyJSEvent({action:Yu}),w.sendMessageToCallMachine({action:Yu})):(w.emitDailyJSEvent({action:Ju}),w.sendMessageToCallMachine({action:Ju}))}))),et()){var ie=w.nativeUtils();ie.addAudioFocusChangeListener&&ie.removeAudioFocusChangeListener&&ie.addAppStateChangeListener&&ie.removeAppStateChangeListener&&ie.addSystemScreenCaptureStopListener&&ie.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),w._hasNativeAudioFocus=!0,ie.addAudioFocusChangeListener(w.handleNativeAudioFocusChange),ie.addAppStateChangeListener(w.handleNativeAppStateChange),ie.addSystemScreenCaptureStopListener(w.handleNativeSystemScreenCaptureStop)}return w._callObjectMode&&w.startListeningForDeviceChanges(),w._messageChannel.addListenerForMessagesFromCallMachine(w.handleMessageFromCallMachine,w.callClientId,w),w}return af(t,Bu),ta(t,[{key:"destroy",value:(le=Re((function*(){var g;try{yield this.leave()}catch{}var S=this._iframe;if(S){var w=S.parentElement;w&&w.removeChild(S)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),et()){var O=this.nativeUtils();O.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),O.removeAppStateChangeListener(this.handleNativeAppStateChange),O.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Lr[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return le.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var S=g.bodyClass,w=g.cssFile,O=g.cssText;return We(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(w),bodyClass:S,cssText:O}),this}},{key:"iframe",value:function(){return We(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ca(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ca(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,S){for(var w in S){if(!Xu[w])throw new Error("unrecognized updateParticipant property ".concat(w));if(Xu[w].validate&&!Xu[w].validate(S[w],this,this._participants[g]))throw new Error(Xu[w].help)}}},{key:"updateParticipant",value:function(g,S){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&S&&(this.validateParticipantProperties(g,S),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:S})),this}},{key:"updateParticipants",value:function(g){var S=this._participants.local&&this._participants.local.session_id;for(var w in g)w===S&&(w="local"),w&&g[w]&&this.validateParticipantProperties(w,g[w]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(nt=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ca(this._callObjectMode,"updateWaitingParticipant()"),Nt(this._callState,"updateWaitingParticipant()"),typeof S!="string"||at(w)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(O,E){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:S,updates:w},(function(V){V.error&&E(V.error),V.id||E(new Error("unknown error in updateWaitingParticipant()")),O({id:V.id})}))}))})),function(){return nt.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Se=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ca(this._callObjectMode,"updateWaitingParticipants()"),Nt(this._callState,"updateWaitingParticipants()"),at(S)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(w,O){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:S},(function(E){E.error&&O(E.error),E.ids||O(new Error("unknown error in updateWaitingParticipants()")),w({ids:E.ids})}))}))})),function(){return Se.apply(this,arguments)})},{key:"requestAccess",value:(Ee=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=S.access,O=w===void 0?{level:WR}:w,E=S.name,V=E===void 0?"":E;return Ca(this._callObjectMode,"requestAccess()"),Nt(this._callState,"requestAccess()"),new Promise((function(J,G){g.sendMessageToCallMachine({action:"daily-method-request-access",access:O,name:V},(function(ie){ie.error&&G(ie.error),ie.access||G(new Error("unknown error in requestAccess()")),J({access:ie.access,granted:ie.granted})}))}))})),function(){return Ee.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in S&&(et()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),S={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),S={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:S}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(X=Re((function*(g){var S=this,w=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,O=w!==void 0&&w;if(Ca(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(at(g)){case"string":return new Promise((function(E){S.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:O},(function(V){E(V.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(g){return X.apply(this,arguments)})},{key:"updateReceiveSettings",value:(ne=Re((function*(g){var S=this;if(Ca(this._callObjectMode,"updateReceiveSettings()"),!ZN(g,{allowAllParticipantsKey:!0}))throw new Error(WN({allowAllParticipantsKey:!0}));return Nt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(w){S.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},(function(O){w({receiveSettings:O.receiveSettings})}))}))})),function(g){return ne.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,S){if(g){var w={};if(g.audio){var O,E,V;g.audio.settings&&(!Object.keys(g.audio.settings).length&&S||(w.audio={settings:je({},g.audio.settings)})),S&&(O=w.audio)!==null&&O!==void 0&&(O=O.settings)!==null&&O!==void 0&&O.customTrack&&(w.audio.settings={customTrack:this._sharedTracks.audioTrack});var J=((E=g.audio.processor)===null||E===void 0?void 0:E.type)==="none"&&((V=g.audio.processor)===null||V===void 0?void 0:V._isDefaultWhenNone);if(g.audio.processor&&!J){var G=je({},g.audio.processor);delete G._isDefaultWhenNone,w.audio=je(je({},w.audio),{},{processor:G})}}if(g.video){var ie,fe,Me;g.video.settings&&(!Object.keys(g.video.settings).length&&S||(w.video={settings:je({},g.video.settings)})),S&&(ie=w.video)!==null&&ie!==void 0&&(ie=ie.settings)!==null&&ie!==void 0&&ie.customTrack&&(w.video.settings={customTrack:this._sharedTracks.videoTrack});var dt=((fe=g.video.processor)===null||fe===void 0?void 0:fe.type)==="none"&&((Me=g.video.processor)===null||Me===void 0?void 0:Me._isDefaultWhenNone);if(g.video.processor&&!dt){var Wt=je({},g.video.processor);delete Wt._isDefaultWhenNone,w.video=je(je({},w.video),{},{processor:Wt})}}return w}}},{key:"getInputSettings",value:function(){var g=this;return We(),new Promise((function(S){S(g._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var g,S,w,O,E,V,J={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((w=this._inputSettings)===null||w===void 0?void 0:w.video)||J,S=((O=this._inputSettings)===null||O===void 0?void 0:O.audio)||J):(g=((E=this._preloadCache)===null||E===void 0||(E=E.inputSettings)===null||E===void 0?void 0:E.video)||J,S=((V=this._preloadCache)===null||V===void 0||(V=V.inputSettings)===null||V===void 0?void 0:V.audio)||J);var G={audio:S,video:g};return this._prepInputSettingsForSharing(G,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,S){var w=this._inputSettings||{},O={};if(g.video){var E,V,J;O.video={},g.video.settings?(O.video.settings={},S||g.video.settings.customTrack||(J=w.video)===null||J===void 0||!J.settings?O.video.settings=g.video.settings:O.video.settings=je(je({},w.video.settings),g.video.settings),Object.keys(O.video.settings).length||delete O.video.settings):(E=w.video)!==null&&E!==void 0&&E.settings&&(O.video.settings=w.video.settings),g.video.processor?O.video.processor=g.video.processor:(V=w.video)!==null&&V!==void 0&&V.processor&&(O.video.processor=w.video.processor)}else w.video&&(O.video=w.video);if(g.audio){var G,ie,fe;O.audio={},g.audio.settings?(O.audio.settings={},S||g.audio.settings.customTrack||(fe=w.audio)===null||fe===void 0||!fe.settings?O.audio.settings=g.audio.settings:O.audio.settings=je(je({},w.audio.settings),g.audio.settings),Object.keys(O.audio.settings).length||delete O.audio.settings):(G=w.audio)!==null&&G!==void 0&&G.settings&&(O.audio.settings=w.audio.settings),g.audio.processor?O.audio.processor=g.audio.processor:(ie=w.audio)!==null&&ie!==void 0&&ie.processor&&(O.audio.processor=w.audio.processor)}else w.audio&&(O.audio=w.audio);this._maybeUpdateInputSettings(O)}},{key:"_devicesFromInputSettings",value:function(g){var S,w,O=(g==null||(S=g.video)===null||S===void 0||(S=S.settings)===null||S===void 0?void 0:S.deviceId)||null,E=(g==null||(w=g.audio)===null||w===void 0||(w=w.settings)===null||w===void 0?void 0:w.deviceId)||null,V=this._preloadCache.outputDeviceId||null;return{camera:O?{deviceId:O}:{},mic:E?{deviceId:E}:{},speaker:V?{deviceId:V}:{}}}},{key:"updateInputSettings",value:(B=Re((function*(g){var S=this;return We(),KN(g)?g.video||g.audio?(XN(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise((function(w,O){S.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},(function(E){if(E.error)O(E.error);else{if(E.returnPreloadCache)return S._updatePreloadCacheInputSettings(g,!0),void w(S._getInputSettings());S._maybeUpdateInputSettings(E.inputSettings),w(S._prepInputSettingsForSharing(E.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Xp()),Promise.reject(Xp()))})),function(g){return B.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var S=g.kbs,w=g.trackConstraints;if(We(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:S,trackConstraints:w}),this}},{key:"getDailyLang",value:function(){var g=this;if(We(),this._callMachineInitialized)return new Promise((function(S){g.sendMessageToCallMachine({action:"get-daily-lang"},(function(w){delete w.action,delete w.callbackStamp,S(w)}))}))}},{key:"setDailyLang",value:function(g){return We(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[Pr,Ws].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(De=Re((function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Nt(this._callState,"getMeetingSession()"),new Promise((function(S){g.sendMessageToCallMachine({action:"get-meeting-session"},(function(w){delete w.action,delete w.callbackStamp,S(w)}))}))})),function(){return De.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Nt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ca(this._callObjectMode,"setMeetingSessionData()"),Nt(this._callState,"setMeetingSessionData");try{(function(w,O){new iP({data:w,mergeStrategy:O})})(g,S)}catch(w){throw console.error(w),w}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:S})}catch(w){throw new Error("Error setting meeting session data: ".concat(w))}}},{key:"setUserName",value:function(g,S){var w=this;return this.properties.userName=g,new Promise((function(O){w.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:et()||!!S&&!!S.thisMeetingOnly},(function(E){delete E.action,delete E.callbackStamp,O(E)}))}))}},{key:"setUserData",value:(ge=Re((function*(g){var S=this;try{JN(g)}catch(w){throw console.error(w),w}if(this.properties.userData=g,this._callMachineInitialized)return new Promise((function(w){try{S.sendMessageToCallMachine({action:"set-user-data",userData:g},(function(O){delete O.action,delete O.callbackStamp,w(O)}))}catch(O){throw new Error("Error setting user data: ".concat(O))}}))})),function(g){return ge.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var S=this;if(typeof AudioWorkletNode>"u"&&!et())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(w,O){S.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},(function(E){S._isLocalAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):w()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var S=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(w,O){S.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},(function(E){S._isRemoteParticipantsAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):w()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(rt=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ca(this._callObjectMode,"startCamera()"),ap(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(S)}catch(w){return Promise.reject(w)}else{if(this._didPreAuth){if(S.url&&S.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(S.token&&S.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(S),this.properties=je(je({},this.properties),S)}return new Promise((function(w){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Wi(g.properties,g.callClientId),preloadCache:Wi(g._preloadCache,g.callClientId)},(function(O){w({camera:O.camera,mic:O.mic,speaker:O.speaker})}))}))})),function(){return rt.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,S,w){if(w&&w.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(S&&S!=="music"&&S!=="speech"&&!(S instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(w&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(w))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return We(),Nt(this._callState,"startCustomTrack()"),this.validateCustomTrack(S.track,S.mode,S.trackName),new Promise((function(w,O){g._sharedTracks.customTrack=S.track,S.track=bs,g.sendMessageToCallMachine({action:"start-custom-track",properties:S},(function(E){E.error?O({error:E.error}):w(E.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(g){var S=this;return We(),Nt(this._callState,"stopCustomTrack()"),new Promise((function(w){S.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},(function(O){w(O.mediaTag)}))}))}},{key:"setCamera",value:function(g){var S=this;return Ml(),Wu(this._callMachineInitialized,"setCamera()"),new Promise((function(w){S.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},(function(O){w({device:O.device})}))}))}},{key:"setAudioDevice",value:(Pe=Re((function*(g){return Ml(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(g){return Pe.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(w){g.sendMessageToCallMachine({action:"cycle-camera",properties:S},(function(O){w({device:O.device})}))}))}},{key:"cycleMic",value:function(){var g=this;return We(),new Promise((function(S){g.sendMessageToCallMachine({action:"cycle-mic"},(function(w){S({device:w.device})}))}))}},{key:"getCameraFacingMode",value:function(){var g=this;return Ml(),new Promise((function(S){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(w){S(w.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(Ne=Re((function*(g){var S=this,w=g.audioDeviceId,O=g.videoDeviceId,E=g.audioSource,V=g.videoSource;if(We(),E!==void 0&&(w=E),V!==void 0&&(O=V),typeof w=="boolean"&&(this._setAllowLocalAudio(w),w=void 0),typeof O=="boolean"&&(this._setAllowLocalVideo(O),O=void 0),!w&&!O)return yield this.getInputDevices();var J={};return w&&(w instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=w,w=bs,J.audio={settings:{customTrack:w}}):(delete this._sharedTracks.audioTrack,J.audio={settings:{deviceId:w}})),O&&(O instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=O,O=bs,J.video={settings:{customTrack:O}}):(delete this._sharedTracks.videoTrack,J.video={settings:{deviceId:O}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(J,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(G){S.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:w,videoDeviceId:O},(function(ie){if(delete ie.action,delete ie.callbackStamp,ie.returnPreloadCache)return S._updatePreloadCacheInputSettings(J,!1),void G(S._devicesFromInputSettings(S._inputSettings));G(ie)}))}))})),function(g){return Ne.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(pe=Re((function*(g){var S=this,w=g.outputDeviceId;if(We(),!w||typeof w!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=w,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(O,E){S.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:w},(function(V){if(delete V.action,delete V.callbackStamp,V.error){var J=new Error(V.error.message);return J.type=V.error.type,void E(J)}V.returnPreloadCache?O(S._devicesFromInputSettings(S._inputSettings)):O(V)}))}))})),function(g){return pe.apply(this,arguments)})},{key:"getInputDevices",value:(de=Re((function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(S){g.sendMessageToCallMachine({action:"get-input-devices"},(function(w){w.returnPreloadCache?S(g._devicesFromInputSettings(g._inputSettings)):S({camera:w.camera,mic:w.mic,speaker:w.speaker})}))}))})),function(){return de.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Ml(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(Ml(),[ZS,CP].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&ld(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(Z=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ca(this._callObjectMode,"preAuth()"),ap(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(S)),!S.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(S),this.properties=je(je({},this.properties),S),new Promise((function(w,O){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Wi(g.properties,g.callClientId),preloadCache:Wi(g._preloadCache,g.callClientId)},(function(E){return E.error?O(E.error):E.access?(g._didPreAuth=!0,void w({access:E.access})):O(new Error("unknown error in preAuth()"))}))}))})),function(){return Z.apply(this,arguments)})},{key:"load",value:(Y=Re((function*(g){var S=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=je(je({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(yS),this.emitDailyJSEvent({action:i5}),this._callObjectMode?new Promise((function(w,O){S._callObjectLoader.cancel();var E=Date.now();S._callObjectLoader.load(S.properties.dailyConfig,(function(V){S._bundleLoadTime=V?"no-op":Date.now()-E,S._updateCallState(xS),V&&S.emitDailyJSEvent({action:wS}),w()}),(function(V,J){if(S.emitDailyJSEvent({action:o5}),!J){S._updateCallState(Ws),S.resetMeetingDependentVars();var G={action:CS,errorMsg:V.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:V,bundleUrl:yd(S.properties.dailyConfig)}}};S._maybeSendToSentry(G),S.emitDailyJSEvent(G),O(V.msg)}}))})):(this._iframe.src=vN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(w,O){S._loadedCallback=function(E){S._callState!==Ws?(S._updateCallState(xS),(S.properties.cssFile||S.properties.cssText)&&S.loadCss(S.properties),w()):O(E)}})))}})),function(g){return Y.apply(this,arguments)})},{key:"join",value:(F=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var w=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(S)}catch(O){return this.updateIsPreparingToJoin(!1),Promise.reject(O)}}else{if(w=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(S.url&&S.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(S.token&&S.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(S.url&&!this._callObjectMode&&S.url&&S.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(S.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(S),this.properties=je(je({},this.properties),S)}return S.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!S.showLocalVideo),S.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!S.showParticipantsBar),this._callState===Br||this._callState===$p?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState($p,!1),this.emitDailyJSEvent({action:u5}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Wi(this.properties,this.callClientId),preloadCache:Wi(this._preloadCache,this.callClientId)}),new Promise((function(O,E){g._joinedCallback=function(V,J){if(g._callState!==Ws){if(g._updateCallState(Br),V)for(var G in V){if(g._callObjectMode){var ie=g._callMachine().store;IS(V[G],ie),US(V[G],ie),BS(V[G],g._participants[G],ie)}g._participants[G]=je({},V[G]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}w&&g.loadCss(g.properties),O(V)}else E(J)}})))})),function(){return F.apply(this,arguments)})},{key:"leave",value:(U=Re((function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(S){g._callState===Pr||g._callState===Ws?S():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(Pr),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:Pr}),S()):(g._resolveLeave=S,g.sendMessageToCallMachine({action:"leave-meeting"}))}))})),function(){return U.apply(this,arguments)})},{key:"startScreenShare",value:(z=Re((function*(){var g=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Wu(this._callMachineInitialized,"startScreenShare()"),S.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",S.screenVideoSendSettings),S.mediaStream&&(this._sharedTracks.screenMediaStream=S.mediaStream,S.mediaStream=bs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var w=this.nativeUtils();if(yield w.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:NS,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});w.setSystemScreenCaptureStartCallback((function(){w.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:kS,captureOptions:S})})),w.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:kS,captureOptions:S})})),function(){return z.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Wu(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=g.type;if(S&&S!=="cloud"&&S!=="raw-tracks"&&S!=="local")throw new Error("invalid type: ".concat(S,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(je({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var S=g.layout,w=S===void 0?{preset:"default"}:S,O=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:w,instanceId:O})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var S=g.layout,w=S===void 0?{preset:"default"}:S,O=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:w,instanceId:O})}},{key:"addLiveStreamingEndpoints",value:function(g){var S=g.endpoints,w=g.instanceId;this.sendMessageToCallMachine({action:ES,endpointsOp:X5,endpoints:S,instanceId:w})}},{key:"removeLiveStreamingEndpoints",value:function(g){var S=g.endpoints,w=g.instanceId;this.sendMessageToCallMachine({action:ES,endpointsOp:W5,endpoints:S,instanceId:w})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(je({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),zN()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!r1(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var O=0;O<g.length;O++){var E=g[O];for(var V in this._validateEncodingLayerHasValidProperties(E),E)if(np.includes(V)){if(typeof E[V]!="number")throw new Error("".concat(V," must be a number"));if(S){var J=S[V],G=J.min,ie=J.max;if(!r1(E[V],G,ie))throw new Error("".concat(V," value not in range. valid range: ").concat(G," to ").concat(ie))}}else if(!["active","scalabilityMode"].includes(V))throw new Error("Invalid key ".concat(V,", valid keys are:")+Object.values(np));if(w&&!E.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(P=Re((function*(g){var S=this,w=g.url,O=g.settings,E=O===void 0?{state:Qp.PLAY}:O;try{(function(V){if(typeof V!="string")throw new Error('url parameter must be "string" type')})(w),s1(E),(function(V){for(var J in V)if(!WS.includes(J))throw new Error("Invalid key ".concat(J,", valid keys are: ").concat(WS));V.simulcastEncodings&&this.validateSimulcastEncodings(V.simulcastEncodings,YN,!0)})(E)}catch(V){throw console.error("invalid argument Error: ".concat(V)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),V}return new Promise((function(V,J){S.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:w,settings:E},(function(G){G.error?J({error:G.error,errorMsg:G.errorMsg}):V({session_id:G.session_id,remoteMediaPlayerState:{state:G.state,settings:G.settings}})}))}))})),function(g){return P.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(D=Re((function*(g){var S=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(w,O){S.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},(function(E){E.error?O({error:E.error,errorMsg:E.errorMsg}):w()}))}))})),function(g){return D.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(k=Re((function*(g){var S=this,w=g.session_id,O=g.settings;try{s1(O)}catch(E){throw console.error("invalid argument Error: ".concat(E)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),E}return new Promise((function(E,V){S.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:w,settings:O},(function(J){J.error?V({error:J.error,errorMsg:J.errorMsg}):E({session_id:J.session_id,remoteMediaPlayerState:{state:J.state,settings:J.settings}})}))}))})),function(g){return k.apply(this,arguments)})},{key:"startTranscription",value:function(g){Nt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(je({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(Nt(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(at(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(je({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(Nt(this._callState,"stopTranscription()"),g&&at(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(je({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(T=Re((function*(g){var S=this;Nt(this._callState,"startDialOut()");var w=function(J){if(J){if(!Array.isArray(J))throw new Error("Error starting dial out: audio codec must be an array");if(J.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");J.forEach((function(G){if(typeof G!="string")throw new Error("Error starting dial out: audio codec must be a string");if(G!=="OPUS"&&G!=="PCMU"&&G!=="PCMA"&&G!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(J){if(J&&(w(J.audio),J.video)){if(!Array.isArray(J.video))throw new Error("Error starting dial out: video codec must be an array");if(J.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");J.video.forEach((function(G){if(typeof G!="string")throw new Error("Error starting dial out: video codec must be a string");if(G!=="H264"&&G!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&w(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(t1(g),g.permissions&&g.permissions.canReceive){var O=yn(QN.validateJSONObject(g.permissions.canReceive),2),E=O[0],V=O[1];if(!E)throw new Error(V)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise((function(J,G){S.sendMessageToCallMachine(je({action:"dialout-start"},g),(function(ie){ie.error?G(ie.error):J(ie)}))}))})),function(g){return T.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var S=this;return Nt(this._callState,"stopDialOut()"),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:"dialout-stop"},g),(function(E){E.error?O(E.error):w(E)}))}))}},{key:"sipCallTransfer",value:(j=Re((function*(g){var S=this;if(Nt(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,a1(g,"sipCallTransfer"),t1(g),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:MS},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return j.apply(this,arguments)})},{key:"sipRefer",value:(M=Re((function*(g){var S=this;if(Nt(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,a1(g,"sipRefer"),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:MS},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return M.apply(this,arguments)})},{key:"sendDTMF",value:(A=Re((function*(g){var S=this;return Nt(this._callState,"sendDTMF()"),(function(w){var O=w.sessionId,E=w.tones;if(!O||!E)throw new Error("sessionId and tones are mandatory parameter");if(typeof O!="string"||typeof E!="string")throw new Error("sessionId and tones should be of string type");if(E.length>20)throw new Error("tones string must be upto 20 characters");var V=/[^0-9A-D*#]/g,J=E.match(V);if(J&&J[0])throw new Error("".concat(J[0]," is not valid DTMF tone"))})(g),new Promise((function(w,O){S.sendMessageToCallMachine(je({action:"send-dtmf"},g),(function(E){E.error?O(E.error):w(E)}))}))})),function(g){return A.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==Br?Promise.resolve(je({stats:{latest:{}}},this._network)):new Promise((function(S){g.sendMessageToCallMachine({action:"get-calc-stats"},(function(w){S(je(je({},g._network),{},{stats:w.stats}))}))}))}},{key:"testWebsocketConnectivity",value:(C=Re((function*(){var g=this;if(sp(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(S){return Promise.reject(S)}return new Promise((function(S,w){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(O){O.error?w(O.error):S(O.results)}))}))})),function(){return C.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!wP(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(_=Re((function*(){var g=this;We(),Ca(this._callObjectMode,"testCallQuality()"),Wu(this._callMachineInitialized,"testCallQuality()",null,!0),ap(this._callState,this._isPreparingToJoin,"testCallQuality()");var S=this._testCallAlreadyInProgress,w=function(E){S||(g._testCallInProgress=E)};if(w(!0),this.needsLoad())try{var O=this._callState;yield this.load(),this._callState=O}catch(E){return w(!1),Promise.reject(E)}return new Promise((function(E){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},(function(V){var J=V.results,G=J.result,ie=fw(J,jP);if(G==="failed"){var fe,Me=je({},ie);(fe=ie.error)!==null&&fe!==void 0&&fe.details?(ie.error.details=JSON.parse(ie.error.details),Me.error=je(je({},Me.error),{},{details:je({},Me.error.details)}),Me.error.details.duringTest="testCallQuality"):(Me.error=Me.error?je({},Me.error):{},Me.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(Me)}w(!1),E(je({result:G},ie))}))}))})),function(){return _.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(y=Re((function*(g){var S;et()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),S=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),S=yield this.testCallQuality());var w={result:S.result,secondsElapsed:S.secondsElapsed};return S.data&&(w.data={maxRTT:S.data.maxRoundTripTime,packetLoss:S.data.avgRecvPacketLoss}),w})),function(g){return y.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(v=Re((function*(g){var S=this;if(sp(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}var w=g.videoTrack,O=g.duration;if(!this._validateVideoTrackForNetworkTests(w))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=w,new Promise((function(E,V){S.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:O},(function(J){J.error?V(J.error):E(J.results)}))}))})),function(g){return v.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){et()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(p=Re((function*(g){var S=this;if(sp(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise((function(w,O){S.sendMessageToCallMachine({action:"test-network-connectivity"},(function(E){E.error?O(E.error):w(E.results)}))}))})),function(g){return p.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise((function(S){g._callState===Br?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(w){S(w.cpuStats)})):S({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var S;if(!(((S=Object.keys(g))===null||S===void 0?void 0:S.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(np))}},{key:"_validateVideoSendSettings",value:function(g,S){var w=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],O="Video send settings should be either an object or one of the supported presets: ".concat(w.join());if(typeof S=="string"){if(!w.includes(S))throw new Error(O)}else{if(at(S)!=="object")throw new Error(O);if(!S.maxQuality&&!S.encodings&&S.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(S.maxQuality&&["low","medium","high"].indexOf(S.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(S.encodings){var E=!1;switch(Object.keys(S.encodings).length){case 1:E=!S.encodings.low;break;case 2:E=!S.encodings.low||!S.encodings.medium;break;case 3:E=!S.encodings.low||!S.encodings.medium||!S.encodings.high;break;default:E=!0}if(E)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");S.encodings.low&&this._validateEncodingLayerHasValidProperties(S.encodings.low),S.encodings.medium&&this._validateEncodingLayerHasValidProperties(S.encodings.medium),S.encodings.high&&this._validateEncodingLayerHasValidProperties(S.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var S=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach((function(w){var O=yn(w,2),E=O[0],V=O[1];S._validateVideoSendSettings(E,V)}))}},{key:"updateSendSettings",value:function(g){var S=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(w,O){S.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},(function(E){E.error?O(E.error):w(E.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return We(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return We(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return We(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return Nt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(h=Re((function*(){var g=this;if(this._callObjectMode){var S=yield navigator.mediaDevices.enumerateDevices();return ai()==="Firefox"&&jd().major>115&&jd().major<123&&(S=S.filter((function(w){return w.kind!=="audiooutput"}))),{devices:S.map((function(w){var O=JSON.parse(JSON.stringify(w));if(!et()&&w.kind==="videoinput"&&w.getCapabilities){var E,V=w.getCapabilities();O.facing=(V==null||(E=V.facingMode)===null||E===void 0?void 0:E.length)>=1?V.facingMode[0]:void 0}return O}))}}return new Promise((function(w){g.sendMessageToCallMachine({action:"enumerate-devices"},(function(O){w({devices:O.devices})}))}))})),function(){return h.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Nt(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:S}),this}},{key:"addFakeParticipant",value:function(g){return We(),Nt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(je({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return Gn(this._callObjectMode,"setShowNamesMode()"),We(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Gn(this._callObjectMode,"setShowLocalVideo()"),We(),Nt(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return Gn(this._callObjectMode,"showLocalVideo()"),We(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Gn(this._callObjectMode,"setShowParticipantsBar()"),We(),Nt(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return Gn(this._callObjectMode,"showParticipantsBar()"),We(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return We(),Gn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return We(),Gn(this._callObjectMode,"setCustomIntegrations()"),Nt(this._callState,"setCustomIntegrations()"),nC(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var S=this;if(We(),Gn(this._callObjectMode,"startCustomIntegrations()"),Nt(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some((function(E){return typeof E!="string"}))||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var w=typeof g=="string"?[g]:g,O=w.filter((function(E){return!(E in S._customIntegrations)}));return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:w}),this)}},{key:"stopCustomIntegrations",value:function(g){var S=this;if(We(),Gn(this._callObjectMode,"stopCustomIntegrations()"),Nt(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some((function(E){return typeof E!="string"}))||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var w=typeof g=="string"?[g]:g,O=w.filter((function(E){return!(E in S._customIntegrations)}));return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:w}),this)}},{key:"customTrayButtons",value:function(){return Gn(this._callObjectMode,"customTrayButtons()"),We(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return Gn(this._callObjectMode,"updateCustomTrayButtons()"),We(),Nt(this._callState,"updateCustomTrayButtons()"),tC(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Cd))),this)}},{key:"theme",value:function(){return Gn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var S=this;return Gn(this._callObjectMode,"setTheme()"),new Promise((function(w,O){try{S.validateProperties({theme:g}),S.properties.theme=je({},g),S.sendMessageToCallMachine({action:"set-theme",theme:S.properties.theme});try{S.emitDailyJSEvent({action:r5,theme:S.properties.theme})}catch(E){console.log("could not emit 'theme-updated'",E)}w(S.properties.theme)}catch(E){O(E)}}))}},{key:"requestFullscreen",value:(d=Re((function*(){if(We(),this._iframe&&!document.fullscreenElement&&AS())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}})),function(){return d.apply(this,arguments)})},{key:"exitFullscreen",value:function(){We(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(u=Re((function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(S){g.sendMessageToCallMachine({action:"get-sidebar-view"},(function(w){S(w.view)}))}))})),function(){return u.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(l=Re((function*(){var g=this,S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,w=S===void 0||S;return this._accessState.access===Jm||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(O){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:w},(function(E){delete E.action,delete E.callbackStamp,O(E)}))}))})),function(){return l.apply(this,arguments)})},{key:"geo",value:(r=Re((function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(S){return console.error("geo lookup failed",S),{current:""}}})),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(a=Re((function*(g){var S=this;return We(),Nt(this._callState,"setNetworkTopology()"),new Promise((function(w,O){S.sendMessageToCallMachine({action:"set-network-topology",opts:g},(function(E){E.error?O({error:E.error}):w({workerId:E.workerId})}))}))})),function(g){return a.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Re((function*(){var g=this;return new Promise((function(S,w){g.needsLoad()&&S({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},(function(O){O.error?w({error:O.error}):S({topology:O.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(We(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,S){return Bu.prototype.on.call(this,g,S)}},{key:"once",value:function(g,S){return Bu.prototype.once.call(this,g,S)}},{key:"off",value:function(g,S){return Bu.prototype.off.call(this,g,S)}},{key:"validateProperties",value:function(g){var S,w;if(g!=null&&(S=g.dailyConfig)!==null&&S!==void 0&&S.userMediaAudioConstraints){var O,E;et()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var V=g.inputSettings||{};V.audio=((O=g.inputSettings)===null||O===void 0?void 0:O.audio)||{},V.audio.settings=((E=g.inputSettings)===null||E===void 0||(E=E.audio)===null||E===void 0?void 0:E.settings)||{},V.audio.settings=je(je({},V.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=V,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(w=g.dailyConfig)!==null&&w!==void 0&&w.userMediaVideoConstraints){var J,G;et()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ie=g.inputSettings||{};ie.video=((J=g.inputSettings)===null||J===void 0?void 0:J.video)||{},ie.video.settings=((G=g.inputSettings)===null||G===void 0||(G=G.video)===null||G===void 0?void 0:G.settings)||{},ie.video.settings=je(je({},ie.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=ie,delete g.dailyConfig.userMediaVideoConstraints}for(var fe in g)if(zr[fe]){if(zr[fe].validate&&!zr[fe].validate(g[fe],this))throw new Error("property '".concat(fe,"': ").concat(zr[fe].help))}else console.warn("Ignoring unrecognized property '".concat(fe,"'")),delete g[fe]}},{key:"assembleMeetingUrl",value:function(){var g,S,w=je(je({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((S=this.properties.dailyConfig)===null||S===void 0?void 0:S.proxyUrl):void 0}),O=w.url.match(/\?/)?"&":"?";return w.url+O+Object.keys(zr).filter((function(E){return zr[E].queryString&&w[E]!==void 0})).map((function(E){return"".concat(zr[E].queryString,"=").concat(w[E])})).join("&")}},{key:"needsLoad",value:function(){return[vS,yS,Pr,Ws].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,S){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,S,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case a5:this.sendMessageToCallMachine(je({action:s5},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var S={action:Zu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:yd(this.properties.dailyConfig)}};this.sendMessageToCallMachine(S),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case wS:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case d5:var w,O=je({},g);delete O.internal,this._maxAppMessageSize=((w=g.internal)===null||w===void 0?void 0:w._maxAppMessageSize)||Zm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(O);break;case h5:case m5:if(this._callState===Pr)return;if(g.participant&&g.participant.session_id){var E=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var V=this._callMachine().store;IS(g.participant,V),US(g.participant,V),BS(g.participant,this._participants[E],V)}try{this.maybeParticipantTracksStopped(this._participants[E],g.participant),this.maybeParticipantTracksStarted(this._participants[E],g.participant),this.maybeEventRecordingStopped(this._participants[E],g.participant),this.maybeEventRecordingStarted(this._participants[E],g.participant)}catch(gc){console.error("track events error",gc)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[E])||(this._participants[E]=je({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case p5:if(g.participant&&g.participant.session_id){var J=this._participants[g.participant.session_id];J&&this.maybeParticipantTracksStopped(J,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case g5:_n(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case v5:var G={access:g.access};g.awaitingAccess&&(G.awaitingAccess=g.awaitingAccess),_n(this._accessState,G)||(this._accessState=G,this.emitDailyJSEvent(g));break;case y5:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var ie=je(je({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ie)}break;case CS:var fe;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Ws),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var Me=fw(g,NP);Me!=null&&(fe=Me.error)!==null&&fe!==void 0&&fe.details&&(Me.error.details=JSON.parse(Me.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,Me),this._joinedCallback=null),this.emitDailyJSEvent(Me);break;case f5:this._callState!==Ws&&this._updateCallState(Pr),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case F5:var dt=g.state,Wt=g.threshold,Dt=g.quality,te=dt.state,se=dt.reasons;te===this._network.networkState&&_n(se,this._network.networkStateReasons)&&Wt===this._network.threshold&&Dt===this._network.quality||(this._network.networkState=te,this._network.networkStateReasons=se,this._network.quality=Dt,this._network.threshold=Wt,g.networkState=te,se.length&&(g.networkStateReasons=se),delete g.state,this.emitDailyJSEvent(g));break;case H5:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case $5:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case B5:var Qe=g.activeSpeaker;this._activeSpeaker.peerId!==Qe.peerId&&(this._activeSpeaker.peerId=Qe.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Le=g.show;this._showLocalVideo=Le,this.emitDailyJSEvent({action:g.action,show:Le});break;case V5:var St=g.enabled;this._activeSpeakerMode!==St&&(this._activeSpeakerMode=St,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case b5:case w5:case S5:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case K5:_n(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case jS:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":_n(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case R5:var gt=g.session_id;this._rmpPlayerState[gt]=g.playerState,this.emitDailyJSEvent(g);break;case L5:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case P5:var zn=g.session_id,Lt=this._rmpPlayerState[zn];Lt&&this.compareEqualForRMPUpdateEvent(Lt,g.remoteMediaPlayerState)||(this._rmpPlayerState[zn]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case x5:var vf=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=rp(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||vf)&&this.emitDailyJSEvent(g);break;case z5:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case I5:case U5:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case SS:case _S:case k5:case E5:case M5:case N5:case C5:case T5:case l5:case c5:case O5:case D5:case"test-completed":case q5:case A5:case Q5:case G5:case Y5:case J5:case NS:case Z5:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,S){var w="record";g&&(S.local||S[w]!==!1||g[w]===S[w]||this.emitDailyJSEvent({action:_S}))}},{key:"maybeEventRecordingStarted",value:function(g,S){var w="record";g&&(S.local||S[w]!==!0||g[w]===S[w]||this.emitDailyJSEvent({action:SS}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==XR)}},{key:"_trackChanged",value:function(g,S){return g?.id!==S?.id}},{key:"maybeEventTrackStopped",value:function(g,S,w){var O,E,V=(O=S?.tracks[g])!==null&&O!==void 0?O:null,J=(E=w?.tracks[g])!==null&&E!==void 0?E:null,G=V?.track;if(G){var ie=this._trackStatePlayable(V),fe=this._trackStatePlayable(J),Me=this._trackChanged(G,J?.track);ie&&(fe&&!Me||this.emitDailyJSEvent({action:j5,track:G,participant:w??S,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,S,w){var O,E,V=(O=S?.tracks[g])!==null&&O!==void 0?O:null,J=(E=w?.tracks[g])!==null&&E!==void 0?E:null,G=J?.track;if(G){var ie=this._trackStatePlayable(V),fe=this._trackStatePlayable(J),Me=this._trackChanged(V?.track,G);fe&&(ie&&!Me||this.emitDailyJSEvent({action:_5,track:G,participant:w,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,S){if(g)for(var w in g.tracks)this.maybeEventTrackStopped(w,g,S)}},{key:"maybeParticipantTracksStarted",value:function(g,S){if(S)for(var w in S.tracks)this.maybeEventTrackStarted(w,g,S)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,S){var w,O;return g.state===S.state&&((w=g.settings)===null||w===void 0?void 0:w.volume)===((O=S.settings)===null||O===void 0?void 0:O.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(S){console.log("could not emit",g,S)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,S){return!!_n(g,S)&&(!g.videoTrack||!S.videoTrack||g.videoTrack.id===S.videoTrack.id&&g.videoTrack.muted===S.videoTrack.muted&&g.videoTrack.enabled===S.videoTrack.enabled)&&(!g.audioTrack||!S.audioTrack||g.audioTrack.id===S.audioTrack.id&&g.audioTrack.muted===S.audioTrack.muted&&g.audioTrack.enabled===S.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return et()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||S!==this._isPreparingToJoin){var w=this._callState,O=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=S;var E=this._callState===Br;this.updateShowAndroidOngoingMeetingNotification(E);var V=ld(w,O),J=ld(this._callState,this._isPreparingToJoin);V!==J&&(this.updateKeepDeviceAwake(J),this.updateDeviceAudioMode(J),this.updateNoOpRecordingEnsuringBackgroundContinuity(J))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=XS,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Jm},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=rp(KS,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Zm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){et()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(et()&&!this.disableReactNativeAutoDeviceManagement("audio")){var S=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(S)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(et()&&this.nativeUtils().setShowOngoingMeetingNotification){var S,w,O,E;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var V=this.properties.reactNativeConfig.androidInCallNotification;S=V.title,w=V.subtitle,O=V.iconName,E=V.disableForCustomOverride}E&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,S,w,O,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){et()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(et()){var S=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var w in S?.streams){var O=S.streams[w];O&&O.pendingTrack&&O.pendingTrack.kind==="audio"&&(O.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var S=document.createElement("a");return S.href=g,S.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Lr)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var S={action:Zu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(S)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var w={action:Zu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(w,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,S=Object.values(Lr);g<S.length;g++){var w=S[g];w._callMachineInitialized?(w.sendMessageToCallMachine({action:Zu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),w._delayDuplicateInstanceLog=!1):w._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var S,w,O,E;if(!((S=g.error)!==null&&S!==void 0&&S.type&&(![n5,t5,bS].includes(g.error.type)||g.error.type===bS&&g.error.msg.includes("deleted")))){var V=(w=this.properties)!==null&&w!==void 0&&w.url?new URL(this.properties.url):void 0,J="production";V&&V.host.includes(".staging.daily")&&(J="staging");var G,ie,fe,Me,dt,Wt=(function(gt){const zn=[yR(),gR(),HR(),FR(),JR(),KR(),SR(),ZR()];return gt.autoSessionTracking!==!1&&zn.push(YR()),zn})({}).filter((function(gt){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(gt.name)})),Dt=new MR({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:PR,stackParser:VR,integrations:Wt,environment:J}),te=new lr;if(te.setClient(Dt),Dt.init(),this.session_id&&te.setExtra("sessionId",this.session_id),this.properties){var se=je({},this.properties);se.userName=se.userName?"[Filtered]":void 0,se.userData=se.userData?"[Filtered]":void 0,se.token=se.token?"[Filtered]":void 0,te.setExtra("properties",se)}if(V){var Qe=V.searchParams.get("domain");if(!Qe){var Le=V.host.match(/(.*?)\./);Qe=Le&&Le[1]||""}Qe&&te.setTag("domain",Qe)}g.error&&(te.setTag("fatalErrorType",g.error.type),te.setExtra("errorDetails",g.error.details),!((G=g.error.details)===null||G===void 0)&&G.uri&&te.setTag("serverAddress",g.error.details.uri),!((ie=g.error.details)===null||ie===void 0)&&ie.workerGroup&&te.setTag("workerGroup",g.error.details.workerGroup),!((fe=g.error.details)===null||fe===void 0)&&fe.geoGroup&&te.setTag("geoGroup",g.error.details.geoGroup),!((Me=g.error.details)===null||Me===void 0)&&Me.on&&te.setTag("connectionAttempt",g.error.details.on),(dt=g.error.details)!==null&&dt!==void 0&&dt.bundleUrl&&(te.setTag("bundleUrl",g.error.details.bundleUrl),te.setTag("bundleError",g.error.details.sourceError.type))),te.setTags({callMode:this._callObjectMode?et()?"reactNative":(O=this.properties)!==null&&O!==void 0&&(O=O.dailyConfig)!==null&&O!==void 0&&(O=O.callMode)!==null&&O!==void 0&&O.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var St=((E=g.error)===null||E===void 0?void 0:E.msg)||g.errorMsg;te.captureException(new Error(St))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!_n(this._inputSettings,g)){var S=this._getInputSettings();this._inputSettings=g;var w=this._getInputSettings();_n(S,w)||this.emitDailyJSEvent({action:jS,inputSettings:w})}}}],[{key:"supportedBrowser",value:function(){if(et())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=I3.getParser(ba());return{supported:!!Wm(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!AS(),supportsScreenShare:!!eP(),supportsSfu:!!Wm(),supportsVideoProcessing:PN(),supportsAudioProcessing:LN()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new t(null,g)}},{key:"wrap",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return S.layout||(S.customLayout?S.layout="custom-v1":S.layout="browser"),new t(g,S)}},{key:"createFrame",value:function(g,S){var w,O;We(),g&&S?(w=g,O=S):g&&g.append?(w=g,O={}):(w=document.body,O=g||{});var E=O.iframeStyle;E||(E=w===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var V=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?V.allow="microphone, camera":V.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",V.style.visibility="hidden",w.appendChild(V),V.style.visibility=null,Object.keys(E).forEach((function(J){return V.style[J]=E[J]})),O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser");try{return new t(V,O)}catch(J){throw w.removeChild(V),J}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};We();var S=document.createElement("iframe");return S.allow="microphone; camera; autoplay",S.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(S),g.layout||(g.layout="custom-v1"),t.wrap(S,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Lr[g]:Object.values(Lr)[0]}}]);var e,a,r,l,u,d,h,p,v,y,_,C,A,M,j,T,k,D,P,z,U,F,Y,Z,de,pe,Ne,Pe,rt,ge,De,B,ne,X,Ee,Se,nt,le})();function t1(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Wi(t,e){var a={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),a[r]=bs;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var l=window._daily.instances[e].customCallbacks||{};l.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=l,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var u=window._daily.instances[e].customCallbacks||{};u.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=u,delete t[r].modifyRemoteSdpHook}a[r]=t[r]}else a[r]=t[r];return a}function Nt(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Br){var a="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(a+=" ".concat(e)),console.error(a),new Error(a)}}function ld(t,e){return[$p,Br].includes(t)||e}function ap(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(ld(t,e)){var l="".concat(a," not supported after joining a meeting.");throw r&&(l+=" ".concat(r)),console.error(l),new Error(l)}}function Wu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",a=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw a&&(r+=" ".concat(a)),console.error(r),new Error(r)}}function sp(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Ca(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Gn(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function We(){if(et())throw new Error("This daily-js method is not currently supported in React Native")}function Ml(){if(!et())throw new Error("This daily-js method is only supported in React Native")}function JN(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),_n(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(a){throw Error("userData must be serializable to JSON: ".concat(a))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function ZN(t,e){for(var a=e.allowAllParticipantsKey,r=function(_){var C=["local"];return a||C.push("*"),_&&!C.includes(_)},l=function(_){return!!(_.layer===void 0||Number.isInteger(_.layer)&&_.layer>=0||_.layer==="inherit")},u=function(_){return!!_&&!(_.video&&!l(_.video))&&!(_.screenVideo&&!l(_.screenVideo))},d=0,h=Object.entries(t);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];if(!r(v)||!u(y))return!1}return!0}function KN(t){if(at(t)!=="object")return!1;for(var e=0,a=Object.entries(t);e<a.length;e++){var r=yn(a[e],2),l=r[0],u=r[1];switch(l){case"video":if(at(u)!=="object")return!1;for(var d=0,h=Object.entries(u);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];switch(v){case"processor":if(!EP(y))return!1;break;case"settings":if(!n1(y))return!1;break;default:return!1}}break;case"audio":if(at(u)!=="object")return!1;for(var _=0,C=Object.entries(u);_<C.length;_++){var A=yn(C[_],2),M=A[0],j=A[1];switch(M){case"processor":if(!kP(j))return!1;break;case"settings":if(!n1(j))return!1;break;default:return!1}}break;default:return!1}}return!0}function XN(t,e,a){var r,l=[];t.video&&t.video.processor&&(PN((r=e?.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,l.push("video"))),t.audio&&t.audio.processor&&(LN()||(t.audio.settings?delete t.audio.processor:delete t.audio,l.push("audio"))),l.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(l.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(a.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:bs}):delete a.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(a.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:bs}):delete a.videoTrack)}function kP(t){if(et())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&at(t)==="object"&&(Object.keys(t).filter((function(a){return!e.includes(a)})).forEach((function(a){console.warn("invalid key inputSettings -> audio -> processor : ".concat(a)),delete t[a]})),!!(function(a){return typeof a!="string"?!1:Object.values(DN).includes(a)?!0:(console.error("inputSettings audio processor type invalid"),!1)})(t.type))}function EP(t){if(et())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||at(t)!=="object"||!(function(a){return typeof a!="string"?!1:Object.values(od).includes(a)?!0:(console.error("inputSettings video processor type invalid"),!1)})(t.type)||t.config&&(at(t.config)!=="object"||!(function(a,r){var l=Object.keys(r);if(l.length===0)return!0;var u="invalid object in inputSettings -> video -> processor -> config";switch(a){case od.BGBLUR:return l.length>1||l[0]!=="strength"?(console.error(u),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(u,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case od.BGIMAGE:return!(r.source!==void 0&&!(function(d){if(d.source==="default")return d.type="default",!0;if(d.source instanceof ArrayBuffer)return!0;if(xd(d.source))return d.type="url",!!(function(v){var y=new URL(v),_=y.pathname;if(y.protocol==="data:")try{var C=_.substring(_.indexOf(":")+1,_.indexOf(";")).split("/")[1];return Xm.includes(C)}catch(M){return console.error("failed to deduce blob content type",M),!1}var A=_.split(".").at(-1).toLowerCase().trim();return Xm.includes(A)})(d.source)||(console.error("invalid image type; supported types: [".concat(Xm.join(", "),"]")),!1);return h=d.source,p=Number(h),isNaN(p)||!Number.isInteger(p)||p<=0||p>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(d.type="daily-preselect",!0);var h,p})(r));default:return!0}})(t.type,t.config))?!1:(Object.keys(t).filter((function(a){return!e.includes(a)})).forEach((function(a){console.warn("invalid key inputSettings -> video -> processor : ".concat(a)),delete t[a]})),!0)}function n1(t){return at(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Xp(){var t=Object.values(od).join(" | "),e=Object.values(DN).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function WN(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(e5).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function eC(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Kp),".")}function tC(t){if(t&&at(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Cd),".")),!1;if(t)for(var e=0,a=Object.entries(t);e<a.length;e++)for(var r=yn(a[e],1)[0],l=0,u=Object.entries(t[r]);l<u.length;l++){var d=yn(u[l],2),h=d[0],p=d[1],v=Cd.id[h];if(!v)return console.error("customTrayButton does not support key ".concat(h)),!1;switch(h){case"iconPath":case"iconPathDarkMode":if(!xd(p))return console.error("customTrayButton ".concat(h," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(p))return console.error("customTrayButton ".concat(h," should be ").concat(v,". Got: ").concat(p)),!1;break;default:if(at(p)!==v)return console.error("customTrayButton ".concat(h," should be a ").concat(v,".")),!1}}return!0}function nC(t){if(!t||t&&at(t)!=="object"||Array.isArray(t))return console.error(eC()),!1;for(var e=function(_){return"".concat(_," should be ").concat(Kp.id[_])},a=function(_,C){return console.error("customIntegration ".concat(_,": ").concat(C))},r=0,l=Object.entries(t);r<l.length;r++){var u=yn(l[r],1)[0];if(!("label"in t[u]))return a(u,"label is required"),!1;if(!("location"in t[u]))return a(u,"location is required"),!1;if(!("src"in t[u])&&!("srcdoc"in t[u]))return a(u,"src or srcdoc is required"),!1;for(var d=0,h=Object.entries(t[u]);d<h.length;d++){var p=yn(h[d],2),v=p[0],y=p[1];switch(v){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof y!="string")return a(u,e(v)),!1;break;case"iconURL":if(!xd(y))return a(u,"".concat(v," should be a url")),!1;break;case"src":if("srcdoc"in t[u])return a(u,"cannot have both src and srcdoc"),!1;if(!xd(y))return a(u,'src "'.concat(y,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[u])return a(u,"cannot have both src and srcdoc"),!1;if(typeof y!="string")return a(u,e(v)),!1;break;case"location":if(!["main","sidebar"].includes(y))return a(u,e(v)),!1;break;case"controlledBy":if(y!=="*"&&y!=="owners"&&(!Array.isArray(y)||y.some((function(_){return typeof _!="string"}))))return a(u,e(v)),!1;break;case"shared":if((!Array.isArray(y)||y.some((function(_){return typeof _!="string"})))&&y!=="owners"&&typeof y!="boolean")return a(u,e(v)),!1;break;default:if(!Kp.id[v])return console.error("customIntegration does not support key ".concat(v)),!1}}}return!0}function aC(t,e){if(e===void 0)return!1;switch(at(e)){case"string":return at(t)===e;case"object":if(at(t)!=="object")return!1;for(var a in t)if(!aC(t[a],e[a]))return!1;return!0;default:return!1}}function a1(t,e){var a=t.sessionId,r=t.toEndPoint,l=t.callerId,u=t.useSipRefer;if(!a||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof a!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(u&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(l&&typeof l!="string")throw new Error("callerId must be of type string");if(l&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function s1(t){if(at(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Qp).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Qp));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function r1(t,e,a){return!(typeof t!="number"||t<e||t>a)}function rp(t,e){return t&&!e&&delete t.data,t}function MP({caseId:t,caseName:e,userId:a,userName:r,onClose:l}){const{toast:u}=Wn(),[d,h]=x.useState("idle"),[p,v]=x.useState(!1),[y,_]=x.useState(!1),[C,A]=x.useState(!1),[M,j]=x.useState(!1),[T,k]=x.useState(0),[D,P]=x.useState(null),[z,U]=x.useState(null),[F,Y]=x.useState(null),[Z,de]=x.useState(!1),[pe,Ne]=x.useState(!1),[Pe,rt]=x.useState(null),[ge,De]=x.useState(0),[B,ne]=x.useState(!1),[X,Ee]=x.useState(!1),[Se,nt]=x.useState([]),le=x.useRef(null),g=x.useRef(null),S=x.useRef(null);x.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[Se]),x.useEffect(()=>{let se=null;return pe&&Pe?se=setInterval(()=>{De(Math.floor((Date.now()-Pe.getTime())/1e3))},1e3):De(0),()=>{se&&clearInterval(se)}},[pe,Pe]);const w=se=>{const Qe=Math.floor(se/60),Le=se%60;return`${Qe.toString().padStart(2,"0")}:${Le.toString().padStart(2,"0")}`},O=x.useCallback(async()=>{if(D)try{await navigator.clipboard.writeText(D),de(!0),u({title:"Link copied!",description:"Share this link with Ben to join the video call"}),setTimeout(()=>de(!1),3e3)}catch{u({title:"Failed to copy link",description:D,variant:"destructive"})}},[D,u]),E=x.useCallback(async()=>{if(le.current&&d==="joined")try{await le.current.startRecording({layout:{preset:"default"}}),Ne(!0),rt(new Date),u({title:"Recording started",description:"This call is now being recorded"})}catch(se){console.error("Failed to start recording:",se),u({title:"Failed to start recording",variant:"destructive"})}},[d,u]),V=x.useCallback(async()=>{if(le.current&&pe)try{await le.current.stopRecording(),Ne(!1),rt(null),u({title:"Recording stopped",description:"Recording has been saved"}),z&&fetch(`/api/cases/${t}/call-recording`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomName:z,transcript:Se})}).catch(console.error)}catch(se){console.error("Failed to stop recording:",se),u({title:"Failed to stop recording",variant:"destructive"})}},[pe,t,z,Se,u]),J=x.useCallback(async()=>{if(le.current&&d==="joined")try{await le.current.startTranscription({language:"en",model:"nova-2",punctuate:!0,includeRawResponse:!0}),ne(!0),Ee(!0),u({title:"Transcription started",description:"Live transcript is now active"})}catch(se){console.error("Failed to start transcription:",se),u({title:"Failed to start transcription",description:"Transcription may require additional setup",variant:"destructive"})}},[d,u]),G=x.useCallback(async()=>{if(le.current&&B)try{await le.current.stopTranscription(),ne(!1),u({title:"Transcription stopped"})}catch(se){console.error("Failed to stop transcription:",se)}},[B,u]),ie=x.useCallback(async()=>{h("joining"),Y(null);try{const se=await fetch(`/api/cases/${t}/video-room`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,userName:r})});if(!se.ok){const Le=await se.json();throw new Error(Le.error||"Failed to create video room")}const Qe=await se.json();P(Qe.url),U(Qe.roomName),le.current||(le.current=TP.createCallObject({showLeaveButton:!1,showFullscreenButton:!1})),le.current.on("joined-meeting",()=>{h("joined"),fe()}),le.current.on("left-meeting",()=>{h("idle"),k(0),Ne(!1),ne(!1)}),le.current.on("participant-joined",fe),le.current.on("participant-left",fe),le.current.on("transcription-message",Le=>{if(Le&&Le.text){const St={id:`${Date.now()}-${Math.random()}`,speaker:Le.user_name||Le.user_id||"Unknown",text:Le.text,timestamp:new Date,isFinal:Le.is_final!==!1};nt(gt=>{if(!St.isFinal){const zn=gt.findIndex(Lt=>Lt.speaker===St.speaker&&!Lt.isFinal);if(zn>=0){const Lt=[...gt];return Lt[zn]=St,Lt}}return[...gt,St].slice(-100)})}}),le.current.on("transcription-started",()=>{ne(!0)}),le.current.on("transcription-stopped",()=>{ne(!1)}),le.current.on("recording-started",()=>{Ne(!0),rt(new Date)}),le.current.on("recording-stopped",()=>{Ne(!1),rt(null)}),le.current.on("error",Le=>{console.error("Daily error:",Le),Y("Video call error occurred"),h("error")}),await le.current.join({url:Qe.url,userName:r})}catch(se){console.error("Failed to join video call:",se),Y(se instanceof Error?se.message:"Failed to join video call"),h("error")}},[t,a,r]),fe=x.useCallback(()=>{if(le.current){const se=le.current.participants();k(Object.keys(se).length)}},[]),Me=x.useCallback(async()=>{pe&&await V(),B&&await G(),le.current&&(await le.current.leave(),le.current.destroy(),le.current=null);try{await fetch(`/api/cases/${t}/video-room`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a})})}catch(se){console.error("Failed to notify leave:",se)}h("idle"),P(null),U(null),nt([])},[t,a,pe,B,V,G]),dt=x.useCallback(()=>{if(le.current){const se=!p;le.current.setLocalAudio(!se),v(se)}},[p]),Wt=x.useCallback(()=>{if(le.current){const se=!y;le.current.setLocalVideo(!se),_(se)}},[y]),Dt=x.useCallback(async()=>{le.current&&(C?await le.current.stopScreenShare():await le.current.startScreenShare(),A(!C))},[C]);x.useEffect(()=>()=>{le.current&&(le.current.leave(),le.current.destroy())},[]),x.useEffect(()=>{if(le.current&&g.current&&d==="joined"){const se=le.current.iframe();se&&(g.current.innerHTML="",se.style.width="100%",se.style.height="100%",se.style.border="none",se.style.borderRadius="8px",g.current.appendChild(se))}},[d]);const te=async()=>{await Me(),l()};return M?o.jsx(qe,{className:"fixed bottom-4 right-4 z-50 p-3 shadow-lg bg-background/95 backdrop-blur border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[pe&&o.jsxs("div",{className:"flex items-center gap-1 text-red-500 animate-pulse",children:[o.jsx(Al,{className:"w-3 h-3 fill-red-500"}),o.jsx("span",{className:"text-xs font-mono",children:w(ge)})]}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),o.jsx("span",{className:"text-sm font-medium",children:"Video Call Active"}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Fl,{className:"w-3 h-3"}),T]}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>j(!1),children:o.jsx(XA,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:te,children:o.jsx(G0,{className:"w-4 h-4"})})]})}):o.jsxs(qe,{className:`fixed bottom-4 right-4 z-50 shadow-2xl bg-background/95 backdrop-blur border-primary/20 flex flex-col overflow-hidden ${X&&d==="joined"?"w-[calc(100vw-2rem)] sm:w-[600px] h-[450px]":"w-[calc(100vw-2rem)] sm:w-[400px] h-[300px] sm:h-[350px]"}`,"data-testid":"video-call-panel",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[pe&&o.jsxs("div",{className:"flex items-center gap-1 text-red-500 animate-pulse",children:[o.jsx(Al,{className:"w-3 h-3 fill-red-500"}),o.jsx("span",{className:"text-xs font-mono",children:w(ge)})]}),o.jsx(Ol,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium truncate max-w-[150px]",children:e}),d==="joined"&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Fl,{className:"w-3 h-3"}),T]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[d==="joined"&&o.jsx(ce,{variant:X?"default":"ghost",size:"icon",className:"h-7 w-7",onClick:()=>Ee(!X),title:"Toggle transcript",children:o.jsx(wp,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>j(!0),children:o.jsx(V_,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:te,children:o.jsx(ho,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex",children:[o.jsxs("div",{className:`flex-1 bg-slate-900 relative ${X&&d==="joined"?"w-1/2":"w-full"}`,ref:g,children:[d==="idle"&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[o.jsx(Ol,{className:"w-12 h-12 text-primary"}),o.jsx("p",{className:"text-sm text-slate-300",children:"Start a video call with your team"}),o.jsxs(ce,{onClick:ie,className:"gap-2","data-testid":"button-join-call",children:[o.jsx(Ol,{className:"w-4 h-4"}),"Join Call"]})]}),d==="joining"&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[o.jsx(an,{className:"w-8 h-8 animate-spin text-primary"}),o.jsx("p",{className:"text-sm text-slate-300",children:"Joining video call..."})]}),d==="error"&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 text-white",children:[o.jsx(J0,{className:"w-12 h-12 text-destructive"}),o.jsx("p",{className:"text-sm text-red-400",children:F||"Failed to join call"}),o.jsx(ce,{variant:"outline",onClick:ie,className:"gap-2",children:"Try Again"})]})]}),X&&d==="joined"&&o.jsxs("div",{className:"w-1/2 border-l bg-background flex flex-col",children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium",children:"Live Transcript"}),B?o.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[o.jsx(Al,{className:"w-2 h-2 fill-green-500 animate-pulse"}),o.jsx("span",{className:"text-xs",children:"Live"})]}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Paused"})]}),o.jsx(Wr,{className:"flex-1 p-2",children:Se.length===0?o.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:B?"Listening for speech...":"Start transcription to see live captions"}):o.jsxs("div",{className:"space-y-2",children:[Se.filter(se=>se.isFinal).map(se=>o.jsxs("div",{className:"text-xs",children:[o.jsxs("span",{className:"font-medium text-primary",children:[se.speaker,": "]}),o.jsx("span",{className:se.isFinal?"":"text-muted-foreground italic",children:se.text})]},se.id)),o.jsx("div",{ref:S})]})})]})]}),d==="joined"&&o.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 p-2 sm:p-3 border-t bg-muted/30 flex-wrap",children:[o.jsx(ce,{variant:p?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:dt,"data-testid":"button-toggle-mute",children:p?o.jsx(B_,{className:"w-4 h-4"}):o.jsx(qr,{className:"w-4 h-4"})}),o.jsx(ce,{variant:y?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:Wt,"data-testid":"button-toggle-video",children:y?o.jsx(J0,{className:"w-4 h-4"}):o.jsx(Ol,{className:"w-4 h-4"})}),o.jsx(ce,{variant:C?"default":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:Dt,"data-testid":"button-screen-share",title:"Share your screen",children:o.jsx(oO,{className:"w-4 h-4"})}),o.jsx(ce,{variant:pe?"destructive":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:pe?V:E,"data-testid":"button-toggle-recording",title:pe?"Stop recording":"Start recording",children:pe?o.jsx(mA,{className:"w-4 h-4"}):o.jsx(Al,{className:"w-4 h-4"})}),o.jsx(ce,{variant:B?"default":"secondary",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:B?G:J,"data-testid":"button-toggle-transcription",title:B?"Stop transcription":"Start live transcription",children:o.jsx(wp,{className:"w-4 h-4"})}),o.jsx(ce,{variant:Z?"default":"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:O,"data-testid":"button-share-link",title:"Copy invite link to share with others",children:Z?o.jsx(Fr,{className:"w-4 h-4"}):o.jsx(QA,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"destructive",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full",onClick:te,"data-testid":"button-end-call",children:o.jsx(G0,{className:"w-4 h-4"})})]})]})}function AP({caseId:t,userId:e,userName:a,userColor:r="#3b82f6",onClose:l}){const[u,d]=x.useState([]),[h,p]=x.useState(""),[v,y]=x.useState(!1),[_,C]=x.useState(0),A=x.useRef(null),M=x.useRef(null),j=x.useRef(!0),T=x.useRef(null);x.useEffect(()=>{const P=()=>{if(!j.current)return;const U=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/collaboration`,F=new WebSocket(U);A.current=F,F.onopen=()=>{F.send(JSON.stringify({type:"join",caseId:t,userId:e,userName:a}))},F.onmessage=Y=>{try{const Z=JSON.parse(Y.data);if(Z.type==="chat"&&Z.caseId===t){const de={id:`${Date.now()}-${Math.random()}`,userId:Z.userId,userName:Z.userName,userColor:Z.userColor||"#3b82f6",content:Z.content,timestamp:new Date};d(pe=>[...pe,de]),v&&Z.userId!==e&&C(pe=>pe+1)}}catch(Z){console.error("Failed to parse chat message:",Z)}},F.onclose=()=>{j.current&&(T.current=setTimeout(P,3e3))},F.onerror=()=>F.close()};return P(),()=>{j.current=!1,T.current&&clearTimeout(T.current),A.current?.close()}},[t,e,a,v]),x.useEffect(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},[u]);const k=()=>{if(!h.trim()||!A.current)return;const P={type:"chat",caseId:t,userId:e,userName:a,userColor:r,content:h.trim()};A.current.send(JSON.stringify(P)),d(z=>[...z,{id:`${Date.now()}-${Math.random()}`,userId:e,userName:a,userColor:r,content:h.trim(),timestamp:new Date}]),p("")},D=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),k())};return v?o.jsx(qe,{className:"fixed bottom-4 left-4 z-50 p-3 shadow-lg bg-background/95 backdrop-blur border-primary/20 cursor-pointer",onClick:()=>{y(!1),C(0)},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zl,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Chat"}),_>0&&o.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded-full",children:_}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:P=>{P.stopPropagation(),l()},children:o.jsx(ho,{className:"w-4 h-4"})})]})}):o.jsxs(qe,{className:"fixed bottom-4 left-4 z-50 w-[calc(100vw-2rem)] sm:w-[320px] h-[350px] sm:h-[400px] shadow-2xl bg-background/95 backdrop-blur border-primary/20 flex flex-col overflow-hidden","data-testid":"collaboration-chat",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Team Chat"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>y(!0),children:o.jsx(V_,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:l,children:o.jsx(ho,{className:"w-4 h-4"})})]})]}),o.jsx(Wr,{className:"flex-1 p-3",ref:M,children:u.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-center p-4",children:[o.jsx(zl,{className:"w-8 h-8 mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No messages yet"}),o.jsx("p",{className:"text-xs",children:"Start the conversation!"})]}):o.jsx("div",{className:"space-y-3",children:u.map(P=>o.jsxs("div",{className:`flex gap-2 ${P.userId===e?"flex-row-reverse":""}`,children:[o.jsx(gd,{className:"w-7 h-7 shrink-0",children:o.jsx(vd,{className:"text-[10px] font-semibold text-white",style:{backgroundColor:P.userColor},children:P.userName.slice(0,2).toUpperCase()})}),o.jsxs("div",{className:`max-w-[200px] ${P.userId===e?"text-right":""}`,children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:P.userId===e?"You":P.userName}),o.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${P.userId===e?"bg-primary text-primary-foreground":"bg-muted"}`,children:P.content})]})]},P.id))})}),o.jsx("div",{className:"p-3 border-t bg-muted/30",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pt,{value:h,onChange:P=>p(P.target.value),onKeyPress:D,placeholder:"Type a message...",className:"flex-1 h-9","data-testid":"input-chat-message"}),o.jsx(ce,{size:"icon",className:"h-9 w-9 shrink-0",onClick:k,disabled:!h.trim(),"data-testid":"button-send-message",children:o.jsx(Ag,{className:"w-4 h-4"})})]})})]})}function OP({caseId:t,caseName:e}){const[a,r]=x.useState(null),[l,u]=x.useState([]),[d,h]=x.useState(""),[p,v]=x.useState(!1),[y,_]=x.useState(""),C=x.useRef(null),{toast:A}=Wn(),M=La(),{data:j=[],isLoading:T}=gn({queryKey:["conversations"],queryFn:LD}),{data:k,isLoading:D}=gn({queryKey:["conversation",a],queryFn:()=>zD(a),enabled:!!a});x.useEffect(()=>{k&&u(k.messages||[])},[k]),x.useEffect(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[l,y]);const P=Xn({mutationFn:()=>ow(`Chat about ${e}`,t),onSuccess:Y=>{M.invalidateQueries({queryKey:["conversations"]}),r(Y.id),u([])},onError:()=>{A({title:"Failed to create conversation",variant:"destructive"})}}),z=Xn({mutationFn:ID,onSuccess:()=>{M.invalidateQueries({queryKey:["conversations"]}),a&&(r(null),u([]))}}),U=async()=>{if(!d.trim()||p)return;let Y=a;if(!Y){const de=await ow(`Chat about ${e}`,t);Y=de.id,r(de.id),M.invalidateQueries({queryKey:["conversations"]})}const Z={id:Date.now(),conversationId:Y,role:"user",content:d,createdAt:new Date().toISOString()};u(de=>[...de,Z]),h(""),v(!0),_("");try{await UD(Y,Z.content,pe=>{_(Ne=>Ne+pe)});const de={id:Date.now()+1,conversationId:Y,role:"assistant",content:y,createdAt:new Date().toISOString()};M.invalidateQueries({queryKey:["conversation",Y]})}catch{A({title:"Failed to send message",description:"Please try again.",variant:"destructive"})}finally{v(!1),_(""),M.invalidateQueries({queryKey:["conversation",Y]})}},F=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),U())};return o.jsxs("div",{className:"h-full flex gap-4","data-testid":"ai-chat-container",children:[o.jsxs("div",{className:"w-48 md:w-64 border-r pr-4 flex flex-col",children:[o.jsxs(ce,{onClick:()=>P.mutate(),disabled:P.isPending,size:"sm",className:"mb-4 gap-2","data-testid":"button-new-chat",children:[o.jsx(Kr,{className:"w-4 h-4"}),"New Chat"]}),o.jsx(Wr,{className:"flex-1",children:o.jsxs("div",{className:"space-y-1",children:[T&&o.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading..."}),j.map(Y=>o.jsxs("div",{className:`group flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors ${a===Y.id?"bg-accent text-accent-foreground":"hover:bg-muted"}`,onClick:()=>r(Y.id),"data-testid":`conversation-${Y.id}`,children:[o.jsx(zl,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate flex-1",children:Y.title}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:Z=>{Z.stopPropagation(),z.mutate(Y.id)},"data-testid":`delete-conversation-${Y.id}`,children:o.jsx(lc,{className:"w-3 h-3"})})]},Y.id)),!T&&j.length===0&&o.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No conversations yet"})]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[!a&&l.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-accent/10 flex items-center justify-center mb-4",children:o.jsx(Eo,{className:"w-8 h-8 text-accent"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"AI Legal Assistant"}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-6",children:"Ask questions about your case, get legal insights, research precedents, or get help drafting documents. The AI has context about all files in this case."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 w-full max-w-lg",children:["Summarize the key facts of this case","What are the strongest arguments for the defense?","Find inconsistencies in the witness testimony","Draft a motion to dismiss outline"].map(Y=>o.jsx("button",{className:"text-left text-sm p-3 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors",onClick:()=>{h(Y)},"data-testid":`prompt-suggestion-${Y.slice(0,20)}`,children:Y},Y))})]}):o.jsx(Wr,{className:"flex-1 p-4",ref:C,children:o.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[D&&o.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[o.jsx(an,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading messages..."]}),l.map(Y=>o.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,"data-testid":`message-${Y.id}`,children:o.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${Y.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Y.content})})},Y.id)),p&&y&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"max-w-[80%] rounded-lg px-4 py-3 bg-muted",children:[o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:y}),o.jsx("span",{className:"inline-block w-2 h-4 bg-primary/50 animate-pulse ml-1"})]})}),p&&!y&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-muted rounded-lg px-4 py-3",children:o.jsx(an,{className:"w-4 h-4 animate-spin"})})})]})}),o.jsx("div",{className:"border-t p-4",children:o.jsxs("div",{className:"flex gap-2 max-w-3xl mx-auto",children:[o.jsx(pt,{placeholder:"Ask about your case...",value:d,onChange:Y=>h(Y.target.value),onKeyDown:F,disabled:p,className:"flex-1","data-testid":"input-chat-message"}),o.jsx(ce,{onClick:U,disabled:!d.trim()||p,"data-testid":"button-send-message",children:p?o.jsx(an,{className:"w-4 h-4 animate-spin"}):o.jsx(Ag,{className:"w-4 h-4"})})]})})]})]})}function DP(){const[t,e]=Ud("/app/case/:id"),a=e?.id,[,r]=Ns(),{toast:l}=Wn(),u=La(),{data:d,isLoading:h}=gn({queryKey:["case",a],queryFn:()=>SD(a),enabled:!!a}),{collaborators:p,isConnected:v,userId:y,userName:_}=S3(a?parseInt(a):null),[C,A]=x.useState(!1),[M,j]=x.useState(!1),[T,k]=x.useState(!1),D=async()=>{if(a){k(!0);try{const z=await BD(a),U=window.URL.createObjectURL(z),F=document.createElement("a");F.href=U,F.download=`${d?.caseNumber||"case"}-export.json`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(U),document.body.removeChild(F),l({title:"Case exported successfully"})}catch{l({title:"Failed to export case",variant:"destructive"})}finally{k(!1)}}},P=Xn({mutationFn:()=>wj(a),onSuccess:()=>{u.invalidateQueries({queryKey:["cases"]}),l({title:"Case deleted successfully"}),r("/app")},onError:()=>{l({title:"Failed to delete case",variant:"destructive"})}});return h?o.jsx(ws,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading case..."})})})}):d?o.jsxs(ws,{children:[o.jsxs("div",{className:"min-h-[calc(100vh-8rem)] md:h-[calc(100vh-8rem)] flex flex-col",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-4 md:mb-6",children:[o.jsxs("div",{className:"w-full sm:flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[o.jsx(Xt,{variant:"outline",className:"font-mono text-xs border-primary/20 text-primary bg-primary/5",children:d.caseNumber}),o.jsx(Xt,{className:d.status==="active"?"bg-green-600":"bg-slate-500",children:d.status}),o.jsx("div",{className:"hidden sm:block ml-2",children:o.jsx(dw,{collaborators:p,isConnected:v})})]}),o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif font-bold text-primary",children:d.title}),o.jsx("p",{className:"text-sm md:text-base text-muted-foreground max-w-2xl mt-1 line-clamp-2 sm:line-clamp-none",children:d.description||"No description available"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 w-full sm:w-auto",children:[o.jsx("div",{className:"sm:hidden",children:o.jsx(dw,{collaborators:p,isConnected:v})}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsxs(ce,{variant:M?"default":"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:()=>j(!M),"data-testid":"button-chat",children:[o.jsx(zl,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),o.jsxs(ce,{variant:C?"default":"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:()=>A(!C),"data-testid":"button-video-call",children:[o.jsx(pO,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Video Call"})]}),o.jsx(RP,{}),o.jsxs(ce,{variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:D,disabled:T,"data-testid":"button-export-case",children:[T?o.jsx(an,{className:"w-4 h-4 animate-spin sm:mr-2"}):o.jsx(xp,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),o.jsxs(aN,{children:[o.jsx(sN,{asChild:!0,children:o.jsx(ce,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive","data-testid":"button-delete-case",children:o.jsx(lc,{className:"w-4 h-4"})})}),o.jsxs(qg,{children:[o.jsxs(Hg,{children:[o.jsx(Qg,{children:"Delete Case"}),o.jsxs(Gg,{children:['Are you sure you want to delete "',d.title,'"? This action cannot be undone and will permanently delete all case data, documents, and notes.']})]}),o.jsxs($g,{children:[o.jsx(Jg,{children:"Cancel"}),o.jsxs(Yg,{onClick:()=>P.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[P.isPending?o.jsx(an,{className:"w-4 h-4 animate-spin mr-2"}):null,"Delete Case"]})]})]})]})]})]})]}),o.jsxs(Wd,{defaultValue:"discovery",className:"flex-1 flex flex-col min-h-0",children:[o.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0",children:o.jsxs(uc,{className:"w-max md:w-full justify-start border-b rounded-none h-11 md:h-12 bg-transparent p-0 space-x-1 md:space-x-4",children:[o.jsxs(jn,{value:"discovery",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[o.jsx(Xr,{className:"w-4 h-4 md:mr-2"})," ",o.jsx("span",{className:"hidden md:inline",children:"Discovery"})]}),o.jsxs(jn,{value:"timeline",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[o.jsx(XM,{className:"w-4 h-4 md:mr-2"})," ",o.jsx("span",{className:"hidden md:inline",children:"Timeline"})]}),o.jsxs(jn,{value:"prep",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[o.jsx(oc,{className:"w-4 h-4 md:mr-2"})," ",o.jsx("span",{className:"hidden md:inline",children:"Trial Prep"})]}),o.jsxs(jn,{value:"briefs",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap",children:[o.jsx(I_,{className:"w-4 h-4 md:mr-2"})," ",o.jsx("span",{className:"hidden md:inline",children:"Briefs"})]}),o.jsxs(jn,{value:"ai",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-accent data-[state=active]:text-primary data-[state=active]:bg-transparent px-2 md:px-4 py-2 md:py-3 font-medium text-xs md:text-sm whitespace-nowrap bg-gradient-to-r from-accent/10 to-transparent",children:[o.jsx(Eo,{className:"w-4 h-4 md:mr-2 text-accent"})," ",o.jsx("span",{className:"hidden md:inline",children:"AI"})]})]})}),o.jsxs("div",{className:"flex-1 bg-card border rounded-b-lg shadow-sm mt-2 md:mt-4 overflow-hidden",children:[o.jsx(Nn,{value:"discovery",className:"h-full m-0 p-0 flex flex-col",children:o.jsx(LP,{})}),o.jsx(Nn,{value:"timeline",className:"h-full m-0 p-3 md:p-6 overflow-auto",children:o.jsx(zP,{})}),o.jsx(Nn,{value:"prep",className:"h-full m-0 p-0",children:o.jsx(IP,{})}),o.jsx(Nn,{value:"briefs",className:"h-full m-0 p-3 md:p-6 overflow-auto",children:o.jsx(UP,{caseId:a})}),o.jsx(Nn,{value:"ai",className:"h-full m-0 p-0",children:o.jsx("div",{className:"h-full min-h-[400px]",children:o.jsx(OP,{caseId:parseInt(a),caseName:d.title})})})]})]})]}),C&&o.jsx(MP,{caseId:parseInt(a),caseName:d.title,userId:y,userName:_,onClose:()=>A(!1)}),M&&o.jsx(AP,{caseId:parseInt(a),userId:y,userName:_,onClose:()=>j(!1)})]}):o.jsx(ws,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Case Not Found"}),o.jsxs("p",{className:"text-muted-foreground",children:["The case ID ",a," does not exist."]})]})})})}function RP(){const[t,e]=x.useState(!1),[a,r]=x.useState(null),[l,u]=x.useState("upload"),{toast:d}=Wn(),{setSaving:h,setSaved:p,setError:v}=Qd(),y=La(),[_,C]=Ud("/app/case/:id"),A=C?.id,M=Xn({mutationFn:k=>jD(A,k),onMutate:()=>{h()},onSuccess:()=>{y.invalidateQueries({queryKey:["discoveryFiles",A]}),p(),d({title:"Document Saved",description:"File processed and saved to your case."}),e(!1),r(null)},onError:()=>{v(),d({title:"Upload Failed",description:"There was an error processing the file.",variant:"destructive"}),e(!1)}}),j=k=>{const D=k.target.files?.[0];D&&r(D)},T=()=>{a&&(e(!0),M.mutate(a))};return o.jsxs(zg,{children:[o.jsx(Ig,{asChild:!0,children:o.jsxs(ce,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent/90 flex-1 sm:flex-initial",children:[o.jsx(Kr,{className:"w-4 h-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Add Evidence"})]})}),o.jsxs(Jd,{className:"max-w-[95vw] sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Zd,{children:[o.jsx(Kd,{className:"font-serif text-xl sm:text-2xl",children:"Add Discovery Material"}),o.jsx(Xd,{className:"text-sm",children:"Upload files directly or connect a cloud folder for automatic syncing."})]}),o.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-4",children:[o.jsxs(ce,{variant:l==="upload"?"default":"outline",onClick:()=>u("upload"),className:"flex-1 text-sm",size:"sm","data-testid":"button-upload-mode",children:[o.jsx(dd,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Upload"})," Files"]}),o.jsxs(ce,{variant:l==="cloud"?"default":"outline",onClick:()=>u("cloud"),className:"flex-1 text-sm",size:"sm","data-testid":"button-cloud-mode",children:[o.jsx(Ha,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Google"})," Drive"]})]}),l==="upload"?o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl h-48 sm:h-64 flex flex-col items-center justify-center bg-secondary/20 hover:bg-secondary/40 transition-colors p-4",children:[o.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:j,accept:".pdf,.mp4,.mp3,.jpg,.jpeg,.png,.xml,.eml,.msg","data-testid":"input-file-upload"}),t?o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(an,{className:"w-8 sm:w-10 h-8 sm:h-10 animate-spin text-accent mx-auto"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm sm:text-base text-primary",children:"Processing with Gemini AI..."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Analyzing  Extracting text  Transcribing"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-primary/5 flex items-center justify-center mb-3 sm:mb-4",children:o.jsx(dd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})}),o.jsx("p",{className:"font-medium text-base sm:text-lg truncate max-w-full px-2",children:a?a.name:"Tap to select file"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:"Supports .mp4, .mp3, .pdf, .jpg, .xml"})]}),a&&o.jsx("button",{onClick:T,className:"mt-3 sm:mt-4 px-4 sm:px-6 py-2 bg-accent text-accent-foreground rounded-lg font-medium hover:bg-accent/90 text-sm","data-testid":"button-upload-process",children:"Upload & Process"})]})]}):o.jsx(PP,{caseId:A})]})]})}function PP({caseId:t}){const[e,a]=x.useState([]),[r,l]=x.useState(null),[u,d]=x.useState(""),{toast:h}=Wn(),{setSaving:p,setSaved:v,setError:y}=Qd(),_=La(),C=e.length>0?e[e.length-1].id:void 0,{data:A=[],isLoading:M,error:j}=gn({queryKey:["driveFolders",C],queryFn:()=>CD(C)}),{data:T=[]}=gn({queryKey:["cloudFolders",t],queryFn:()=>TD(t),enabled:!!t}),k=Xn({mutationFn:({folderId:F,folderName:Y,batesPrefix:Z})=>kD(t,F,Y,Z),onMutate:()=>{p()},onSuccess:F=>{_.invalidateQueries({queryKey:["cloudFolders",t]}),h({title:"Folder Linked",description:`Now syncing ${F.folderName}...`}),D.mutate(F.id)},onError:()=>{y(),h({title:"Failed to Link Folder",variant:"destructive"})}}),D=Xn({mutationFn:F=>ED(F),onMutate:()=>{p()},onSuccess:F=>{_.invalidateQueries({queryKey:["discoveryFiles",t]}),v(),h({title:"Documents Saved",description:`${F.files.length} files synced and saved to your case.`}),l(null),d("")},onError:()=>{y(),h({title:"Sync Failed",variant:"destructive"})}}),P=F=>{a([...e,{id:F.id,name:F.name}]),l(null)},z=F=>{a(e.slice(0,F)),l(null)},U=()=>{r&&u&&k.mutate({folderId:r.id,folderName:r.name,batesPrefix:u.toUpperCase()})};return j?o.jsxs("div",{className:"border rounded-lg p-8 text-center bg-muted/20",children:[o.jsx(Ha,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Google Drive not connected"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please connect your Google Drive account to browse folders."})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("button",{onClick:()=>a([]),className:"text-primary hover:underline","data-testid":"button-drive-root",children:"My Drive"}),e.map((F,Y)=>o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(ir,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("button",{onClick:()=>z(Y+1),className:"text-primary hover:underline",children:F.name})]},F.id))]}),o.jsx("div",{className:"border rounded-lg h-48 overflow-auto bg-background",children:M?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(an,{className:"w-6 h-6 animate-spin text-primary"})}):A.length===0?o.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No folders found"}):o.jsx("div",{className:"divide-y",children:A.map(F=>o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-muted/50 transition-colors ${r?.id===F.id?"bg-accent/10 border-l-2 border-accent":""}`,onClick:()=>l(F),onDoubleClick:()=>P(F),"data-testid":`folder-item-${F.id}`,children:[o.jsx(AA,{className:"w-5 h-5 text-yellow-500"}),o.jsx("span",{className:"flex-1 font-medium",children:F.name}),o.jsx(ce,{variant:"ghost",size:"sm",onClick:Y=>{Y.stopPropagation(),P(F)},children:o.jsx(ir,{className:"w-4 h-4"})})]},F.id))})}),r&&o.jsxs("div",{className:"space-y-3 p-4 bg-accent/5 rounded-lg border border-accent/20",children:[o.jsxs("p",{className:"font-medium",children:["Selected: ",o.jsx("span",{className:"text-accent",children:r.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium block mb-1",children:"Bates Prefix"}),o.jsx(pt,{placeholder:"e.g., DEF or SMITH",value:u,onChange:F=>d(F.target.value),className:"max-w-xs","data-testid":"input-bates-prefix"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Files will be numbered as ",u||"XXX","-00001, ",u||"XXX","-00002, etc."]})]}),o.jsx(ce,{onClick:U,disabled:!u||k.isPending||D.isPending,className:"bg-accent","data-testid":"button-link-folder",children:k.isPending||D.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Link & Sync Folder"]})})]}),T.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Linked Folders"}),T.map(F=>o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/50 rounded-lg","data-testid":`linked-folder-${F.id}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ha,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"font-medium",children:F.folderName}),o.jsx(Xt,{variant:"outline",className:"text-xs",children:F.batesPrefix})]}),o.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>D.mutate(F.id),disabled:D.isPending,"data-testid":`button-sync-${F.id}`,children:o.jsx(bO,{className:`w-4 h-4 ${D.isPending?"animate-spin":""}`})})]},F.id))]})]})}function LP(){const[t,e]=x.useState(""),[a,r]=Ud("/app/case/:id"),l=r?.id,{data:u=[],isLoading:d}=gn({queryKey:["discoveryFiles",l],queryFn:()=>_D(l),enabled:!!l}),h=v=>v==="application/pdf"||v==="pdf"?o.jsx(ya,{className:"w-5 h-5 text-red-500"}):v.startsWith("video/")||v==="video"?o.jsx(Ol,{className:"w-5 h-5 text-blue-500"}):v.startsWith("audio/")||v==="audio"?o.jsx(qr,{className:"w-5 h-5 text-purple-500"}):v.startsWith("image/")||v==="image"?o.jsx(zA,{className:"w-5 h-5 text-green-500"}):v.includes("xml")||v==="xml"?o.jsx(ya,{className:"w-5 h-5 text-orange-500"}):o.jsx(ya,{className:"w-5 h-5 text-gray-500"}),p=u.filter(v=>t===""||v.batesStart.toLowerCase().includes(t.toLowerCase())||v.fileName.toLowerCase().includes(t.toLowerCase())||v.summary?.toLowerCase().includes(t.toLowerCase()));return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-3 md:p-4 border-b flex gap-2 md:gap-4 bg-muted/30",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(pt,{placeholder:"Search Bates, files...",className:"pl-10 bg-background text-sm",value:t,onChange:v=>e(v.target.value),"data-testid":"input-search-discovery"})]}),o.jsxs(ce,{variant:"outline",size:"sm",className:"gap-1 md:gap-2","data-testid":"button-filters",children:[o.jsx(U_,{className:"w-4 h-4"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]}),o.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 px-6 py-3 border-b bg-muted/50 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:[o.jsx("div",{className:"col-span-1",children:"Type"}),o.jsx("div",{className:"col-span-2",children:"Bates Number"}),o.jsx("div",{className:"col-span-4",children:"File Name / Summary"}),o.jsx("div",{className:"col-span-2",children:"Source"}),o.jsx("div",{className:"col-span-2",children:"Tags"}),o.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),o.jsxs(Wr,{className:"flex-1",children:[d&&o.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Loading discovery files..."}),!d&&p.length===0&&o.jsx("div",{className:"p-6 text-center text-muted-foreground",children:t?"No files match your search":"No discovery files yet. Add evidence to get started."}),o.jsx("div",{className:"md:hidden divide-y",children:p.map(v=>o.jsx("div",{className:"p-3 hover:bg-muted/30 transition-colors","data-testid":`discovery-file-${v.id}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-background border shadow-sm shrink-0",children:h(v.fileType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.driveUrl?o.jsxs("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs text-accent font-medium hover:underline flex items-center gap-1","data-testid":`bates-link-${v.id}`,children:[v.batesStart,o.jsx(rr,{className:"w-3 h-3"})]}):o.jsx("span",{className:"font-mono text-xs text-primary font-medium",children:v.batesStart}),v.sourceType==="cloud"&&o.jsx(Ha,{className:"w-3 h-3 text-blue-500"})]}),o.jsx("div",{className:"font-medium text-sm text-foreground truncate",children:v.fileName}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:v.summary||"Processing..."}),(v.tags||[]).length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[(v.tags||[]).slice(0,3).map(y=>o.jsx(Xt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:y},y)),(v.tags||[]).length>3&&o.jsxs(Xt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:["+",(v.tags||[]).length-3]})]})]})]})},v.id))}),o.jsx("div",{className:"hidden md:block divide-y",children:p.map(v=>o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 items-center hover:bg-muted/30 transition-colors group","data-testid":`discovery-file-desktop-${v.id}`,children:[o.jsx("div",{className:"col-span-1 flex items-center justify-center w-10 h-10 rounded-lg bg-background border shadow-sm",children:h(v.fileType)}),o.jsxs("div",{className:"col-span-2",children:[v.driveUrl?o.jsxs("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-sm text-accent font-medium hover:underline flex items-center gap-1","data-testid":`bates-link-desktop-${v.id}`,children:[v.batesStart,o.jsx(rr,{className:"w-3 h-3"})]}):o.jsx("span",{className:"font-mono text-sm text-primary font-medium",children:v.batesStart}),v.batesStart!==v.batesEnd&&o.jsxs("span",{className:"text-muted-foreground text-xs block",children:["to ",v.batesEnd]})]}),o.jsxs("div",{className:"col-span-4 pr-4",children:[o.jsx("div",{className:"font-medium text-foreground",children:v.fileName}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:v.summary||"Processing..."})]}),o.jsx("div",{className:"col-span-2 text-sm",children:v.sourceType==="cloud"?o.jsxs(Xt,{variant:"outline",className:"text-xs gap-1 bg-blue-50 border-blue-200 text-blue-700",children:[o.jsx(Ha,{className:"w-3 h-3"}),"Google Drive"]}):o.jsxs(Xt,{variant:"outline",className:"text-xs gap-1 bg-gray-50 border-gray-200 text-gray-700",children:[o.jsx(dd,{className:"w-3 h-3"}),"Uploaded"]})}),o.jsx("div",{className:"col-span-2 flex flex-wrap gap-1",children:(v.tags||[]).map(y=>o.jsx(Xt,{variant:"secondary",className:"text-[10px] px-1 py-0 h-5 border-border/50 font-normal",children:y},y))}),o.jsxs("div",{className:"col-span-1 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:[v.driveUrl&&o.jsx("a",{href:v.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-accent/10","data-testid":`button-view-desktop-${v.id}`,children:o.jsx(rr,{className:"w-4 h-4 text-accent"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`button-more-${v.id}`,children:o.jsx(z_,{className:"w-4 h-4"})})]})]},v.id))})]})]})}function zP(){const[t,e]=Ud("/app/case/:id"),a=e?.id,{data:r=[],isLoading:l}=gn({queryKey:["timeline",a],queryFn:()=>ND(a),enabled:!!a});return o.jsxs("div",{className:"max-w-4xl mx-auto py-4 md:py-8 relative",children:[l&&o.jsx("div",{className:"text-center text-muted-foreground",children:"Loading timeline..."}),o.jsxs("div",{className:"md:hidden space-y-4",children:[o.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-border"}),r.map(u=>o.jsxs("div",{className:"flex gap-4 pl-2",children:[o.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-accent border-4 border-background shadow-sm shrink-0 mt-1"}),o.jsxs("div",{className:"flex-1 pb-4",children:[o.jsx("div",{className:"text-xs font-bold text-accent mb-1",children:new Date(u.eventDate).toLocaleDateString()}),o.jsx("h3",{className:"text-base font-serif font-bold text-primary mb-1",children:u.title}),o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:u.description}),(u.linkedBates||[]).length>0&&o.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full bg-secondary text-xs font-mono border mt-2",children:[o.jsx(ya,{className:"w-3 h-3 text-primary"}),o.jsx("span",{children:(u.linkedBates||[])[0]})]})]})]},u.id))]}),o.jsxs("div",{className:"hidden md:block",children:[o.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-border -translate-x-1/2"}),r.map((u,d)=>o.jsxs("div",{className:`flex items-center gap-8 mb-12 ${d%2===0?"flex-row":"flex-row-reverse"}`,children:[o.jsxs("div",{className:`flex-1 ${d%2===0?"text-right":"text-left"}`,children:[o.jsx("div",{className:"text-sm font-bold text-accent mb-1",children:new Date(u.eventDate).toLocaleDateString()}),o.jsx("h3",{className:"text-xl font-serif font-bold text-primary mb-2",children:u.title}),o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:u.description})]}),o.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-accent border-4 border-background shadow-sm shrink-0"}),o.jsx("div",{className:`flex-1 ${d%2===0?"text-left":"text-right"}`,children:(u.linkedBates||[]).length>0&&o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-secondary text-xs font-mono border ${d%2===0?"":"flex-row-reverse"}`,children:[o.jsx(ya,{className:"w-3 h-3 text-primary"}),o.jsx("span",{children:(u.linkedBates||[])[0]})]})})]},u.id))]})]})}function IP(){const[t,e]=x.useState(!1);return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full md:divide-x overflow-auto",children:[o.jsxs("div",{className:"p-4 md:p-6 flex flex-col",children:[o.jsxs("h3",{className:"font-serif font-bold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2",children:[o.jsx(Eo,{className:"w-5 h-5 text-accent"}),"Examination Strategy"]}),o.jsxs("div",{className:"flex-1 space-y-3 md:space-y-4",children:[o.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-secondary/30 border border-secondary",children:[o.jsx("h4",{className:"font-semibold text-sm mb-2 text-primary",children:"Line of Questioning: Inconsistencies"}),o.jsxs("ul",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm text-muted-foreground list-disc list-inside",children:[o.jsx("li",{children:"Ask about the timestamp on the surveillance video (10:45 PM)."}),o.jsx("li",{children:"Contrast with email timestamp (10:50 PM sent from home IP)."}),o.jsx("li",{children:"Press on the lack of badge swipe out record."})]})]}),o.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-accent/10 border border-accent/20",children:[o.jsx("h4",{className:"font-semibold text-sm mb-2 text-accent-foreground",children:"Key Evidence to Present"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Xt,{variant:"outline",className:"bg-background text-xs",children:"AND-001256"}),o.jsx(Xt,{variant:"outline",className:"bg-background text-xs",children:"AND-001257"})]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t",children:[o.jsxs(ce,{className:`w-full ${t?"bg-destructive animate-pulse":"bg-primary"}`,onClick:()=>e(!t),children:[o.jsx(qr,{className:"w-4 h-4 mr-2"}),t?"Recording... (Tap to Stop)":"Start Voice Simulation"]}),o.jsx("p",{className:"text-xs text-center mt-2 text-muted-foreground",children:"CaseBuddy listens and suggests real-time objections/follow-ups."})]})]}),o.jsxs("div",{className:"p-4 md:p-6 bg-muted/10 flex flex-col border-t md:border-t-0",children:[o.jsx("h3",{className:"font-serif font-bold text-base md:text-lg mb-3 md:mb-4",children:"Live Transcript / Notes"}),o.jsxs("div",{className:"flex-1 min-h-[150px] md:min-h-0 rounded-lg border bg-background p-3 md:p-4 shadow-inner font-mono text-xs md:text-sm leading-relaxed text-muted-foreground",children:[o.jsx("p",{className:"text-primary/50 italic",children:"[System Ready. Waiting for audio input...]"}),t&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"Attorney:"})," Can you explain where you were on the night of October 12th?"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-green-600 font-bold",children:"Witness:"})," I was at home."]}),o.jsxs("p",{className:"animate-pulse",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"Attorney:"})," ..."]})]})]}),o.jsx(x3,{variant:"inline",limit:1})]})]})}function UP({caseId:t}){const[e,a]=x.useState(!1),[r,l]=x.useState(null),[u,d]=x.useState(""),[h,p]=x.useState(""),[v,y]=x.useState(""),{toast:_}=Wn(),{setSaving:C,setSaved:A,setError:M}=Qd(),j=La(),{data:T=[],isLoading:k}=gn({queryKey:["legalBriefs",t],queryFn:()=>OD(t)}),{data:D={}}=gn({queryKey:["briefTypes"],queryFn:DD}),P=Xn({mutationFn:()=>RD(t,h,u,v),onMutate:()=>{C()},onSuccess:U=>{j.invalidateQueries({queryKey:["legalBriefs",t]}),A(),_({title:"Brief Generated",description:"Your legal brief has been created and saved."}),a(!1),l(U),d(""),p(""),y("")},onError:()=>{M(),_({title:"Generation Failed",description:"Unable to generate the legal brief. Please try again.",variant:"destructive"})}}),z=Xn({mutationFn:U=>PD(U),onSuccess:()=>{j.invalidateQueries({queryKey:["legalBriefs",t]}),A(),_({title:"Brief Deleted"}),l(null)}});return r?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[o.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>l(null),"data-testid":"button-back-briefs",children:[o.jsx(ir,{className:"w-4 h-4 mr-1 sm:mr-2 rotate-180"})," Back"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Xt,{variant:r.status==="draft"?"outline":"default",className:"text-xs",children:r.status}),o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>z.mutate(r.id),"data-testid":"button-delete-brief",children:[o.jsx(lc,{className:"w-4 h-4 sm:mr-1"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),o.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 md:p-6",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold mb-2",children:r.title}),o.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground mb-4",children:[D[r.briefType]||r.briefType,"  Created ",new Date(r.createdAt).toLocaleDateString()]}),r.summary&&o.jsxs("div",{className:"mb-6 p-4 bg-primary/5 rounded-lg border border-primary/10",children:[o.jsx("h4",{className:"text-sm font-semibold text-primary mb-2",children:"Summary"}),o.jsx("p",{className:"text-sm",children:r.summary})]}),r.keyArguments&&r.keyArguments.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Key Arguments"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:r.keyArguments.map((U,F)=>o.jsx("li",{children:U},F))})]}),r.precedents&&r.precedents.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Legal Precedents"}),o.jsx("div",{className:"space-y-2",children:r.precedents.map((U,F)=>o.jsxs("div",{className:"p-3 bg-background rounded border text-sm",children:[o.jsx("span",{className:"font-medium",children:U.caseName}),o.jsx("span",{className:"text-muted-foreground ml-2",children:U.citation}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:U.relevance})]},F))})]}),o.jsxs("div",{className:"prose prose-sm max-w-none",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Full Brief"}),o.jsx("div",{className:"p-4 bg-background rounded-lg border font-serif whitespace-pre-wrap text-sm leading-relaxed",children:r.content})]})]})]}):o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg md:text-xl font-serif font-bold flex items-center gap-2",children:[o.jsx(ad,{className:"w-5 h-5 text-primary"}),"Legal Briefs"]}),o.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"AI-generated legal documents based on your case"})]}),o.jsxs(ce,{size:"sm",onClick:()=>a(!0),"data-testid":"button-generate-brief",children:[o.jsx(Kr,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Generate"})," Brief"]})]}),e&&o.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 md:p-6 border",children:[o.jsx("h3",{className:"font-semibold mb-3 md:mb-4 text-sm md:text-base",children:"Generate New Legal Brief"}),o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Brief Title"}),o.jsx(pt,{placeholder:"e.g., Motion to Dismiss",value:u,onChange:U=>d(U.target.value),className:"text-sm","data-testid":"input-brief-title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Brief Type"}),o.jsxs("select",{className:"w-full p-2 border rounded-md bg-background text-sm",value:h,onChange:U=>p(U.target.value),"data-testid":"select-brief-type",children:[o.jsx("option",{value:"",children:"Select a type..."}),Object.entries(D).map(([U,F])=>o.jsx("option",{value:U,children:F},U))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs md:text-sm font-medium mb-1 block",children:"Additional Instructions (Optional)"}),o.jsx("textarea",{className:"w-full p-2 border rounded-md bg-background min-h-[60px] md:min-h-[80px] text-sm",placeholder:"Any specific focus areas...",value:v,onChange:U=>y(U.target.value),"data-testid":"input-brief-instructions"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(ce,{onClick:()=>P.mutate(),disabled:!u||!h||P.isPending,size:"sm",className:"flex-1 sm:flex-initial","data-testid":"button-submit-brief",children:P.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"})," Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Eo,{className:"w-4 h-4 mr-2"})," Generate with AI"]})}),o.jsx(ce,{variant:"outline",size:"sm",onClick:()=>a(!1),children:"Cancel"})]})]})]}),k&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),"Loading briefs..."]}),!k&&T.length===0&&!e&&o.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[o.jsx(I_,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Legal Briefs Yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate AI-powered legal briefs based on your case documents and timeline."}),o.jsxs(ce,{onClick:()=>a(!0),children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"})," Create Your First Brief"]})]}),T.length>0&&o.jsx("div",{className:"grid gap-4",children:T.map(U=>o.jsx("div",{className:"p-4 bg-background border rounded-lg hover:border-primary/30 transition-colors cursor-pointer",onClick:()=>l(U),"data-testid":`brief-card-${U.id}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-medium",children:U.title}),o.jsx(Xt,{variant:"outline",className:"text-xs",children:D[U.briefType]||U.briefType}),o.jsx(Xt,{variant:U.status==="draft"?"secondary":"default",className:"text-xs",children:U.status})]}),U.summary&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:U.summary}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Created ",new Date(U.createdAt).toLocaleDateString()]})]}),o.jsx(ir,{className:"w-5 h-5 text-muted-foreground"})]})},U.id))})]})}const BP=Kk,VP=Xk,FP=x.forwardRef(({className:t,inset:e,children:a,...r},l)=>o.jsxs(R1,{ref:l,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[a,o.jsx(ir,{className:"ml-auto"})]}));FP.displayName=R1.displayName;const qP=x.forwardRef(({className:t,...e},a)=>o.jsx(P1,{ref:a,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));qP.displayName=P1.displayName;const sC=x.forwardRef(({className:t,sideOffset:e=4,...a},r)=>o.jsx(Zk,{children:o.jsx(L1,{ref:r,sideOffset:e,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));sC.displayName=L1.displayName;const rC=x.forwardRef(({className:t,inset:e,...a},r)=>o.jsx(z1,{ref:r,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...a}));rC.displayName=z1.displayName;const HP=x.forwardRef(({className:t,children:e,checked:a,...r},l)=>o.jsxs(I1,{ref:l,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(U1,{children:o.jsx(Fr,{className:"h-4 w-4"})})}),e]}));HP.displayName=I1.displayName;const $P=x.forwardRef(({className:t,children:e,...a},r)=>o.jsxs(B1,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(U1,{children:o.jsx(Al,{className:"h-2 w-2 fill-current"})})}),e]}));$P.displayName=B1.displayName;const QP=x.forwardRef(({className:t,inset:e,...a},r)=>o.jsx(V1,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...a}));QP.displayName=V1.displayName;const GP=x.forwardRef(({className:t,...e},a)=>o.jsx(F1,{ref:a,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));GP.displayName=F1.displayName;function YP(t){const e=JP(t),a=x.forwardRef((r,l)=>{const{children:u,...d}=r,h=x.Children.toArray(u),p=h.find(KP);if(p){const v=p.props.children,y=h.map(_=>_===p?x.Children.count(v)>1?x.Children.only(null):x.isValidElement(v)?v.props.children:null:_);return o.jsx(e,{...d,ref:l,children:x.isValidElement(v)?x.cloneElement(v,void 0,y):null})}return o.jsx(e,{...d,ref:l,children:u})});return a.displayName=`${t}.Slot`,a}function JP(t){const e=x.forwardRef((a,r)=>{const{children:l,...u}=a;if(x.isValidElement(l)){const d=WP(l),h=XP(u,l.props);return l.type!==x.Fragment&&(h.ref=r?N1(r,d):d),x.cloneElement(l,h)}return x.Children.count(l)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZP=Symbol("radix.slottable");function KP(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZP}function XP(t,e){const a={...e};for(const r in e){const l=t[r],u=e[r];/^on[A-Z]/.test(r)?l&&u?a[r]=(...h)=>{const p=u(...h);return l(...h),p}:l&&(a[r]=l):r==="style"?a[r]={...l,...u}:r==="className"&&(a[r]=[l,u].filter(Boolean).join(" "))}return{...t,...a}}function WP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function iC(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eL=[" ","Enter","ArrowUp","ArrowDown"],tL=[" ","Enter"],si="Select",[df,ff,nL]=x1(si),[Ro]=Co(si,[nL,Ld]),hf=Ld(),[aL,hr]=Ro(si),[sL,rL]=Ro(si),oC=t=>{const{__scopeSelect:e,children:a,open:r,defaultOpen:l,onOpenChange:u,value:d,defaultValue:h,onValueChange:p,dir:v,name:y,autoComplete:_,disabled:C,required:A,form:M}=t,j=hf(e),[T,k]=x.useState(null),[D,P]=x.useState(null),[z,U]=x.useState(!1),F=O1(v),[Y,Z]=Bl({prop:r,defaultProp:l??!1,onChange:u,caller:si}),[de,pe]=Bl({prop:d,defaultProp:h,onChange:p,caller:si}),Ne=x.useRef(null),Pe=T?M||!!T.closest("form"):!0,[rt,ge]=x.useState(new Set),De=Array.from(rt).map(B=>B.props.value).join(";");return o.jsx(S1,{...j,children:o.jsxs(aL,{required:A,scope:e,trigger:T,onTriggerChange:k,valueNode:D,onValueNodeChange:P,valueNodeHasChildren:z,onValueNodeHasChildrenChange:U,contentId:zd(),value:de,onValueChange:pe,open:Y,onOpenChange:Z,dir:F,triggerPointerDownPosRef:Ne,disabled:C,children:[o.jsx(df.Provider,{scope:e,children:o.jsx(sL,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(B=>{ge(ne=>new Set(ne).add(B))},[]),onNativeOptionRemove:x.useCallback(B=>{ge(ne=>{const X=new Set(ne);return X.delete(B),X})},[]),children:a})}),Pe?o.jsxs(AC,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:_,value:de,onChange:B=>pe(B.target.value),disabled:C,form:M,children:[de===void 0?o.jsx("option",{value:""}):null,Array.from(rt)]},De):null]})})};oC.displayName=si;var lC="SelectTrigger",cC=x.forwardRef((t,e)=>{const{__scopeSelect:a,disabled:r=!1,...l}=t,u=hf(a),d=hr(lC,a),h=d.disabled||r,p=Ot(e,d.onTriggerChange),v=ff(a),y=x.useRef("touch"),[_,C,A]=DC(j=>{const T=v().filter(P=>!P.disabled),k=T.find(P=>P.value===d.value),D=RC(T,j,k);D!==void 0&&d.onValueChange(D.value)}),M=j=>{h||(d.onOpenChange(!0),A()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return o.jsx(_1,{asChild:!0,...u,children:o.jsx(wt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":OC(d.value)?"":void 0,...l,ref:p,onClick:Ue(l.onClick,j=>{j.currentTarget.focus(),y.current!=="mouse"&&M(j)}),onPointerDown:Ue(l.onPointerDown,j=>{y.current=j.pointerType;const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(M(j),j.preventDefault())}),onKeyDown:Ue(l.onKeyDown,j=>{const T=_.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&C(j.key),!(T&&j.key===" ")&&eL.includes(j.key)&&(M(),j.preventDefault())})})})});cC.displayName=lC;var uC="SelectValue",dC=x.forwardRef((t,e)=>{const{__scopeSelect:a,className:r,style:l,children:u,placeholder:d="",...h}=t,p=hr(uC,a),{onValueNodeHasChildrenChange:v}=p,y=u!==void 0,_=Ot(e,p.onValueNodeChange);return Kn(()=>{v(y)},[v,y]),o.jsx(wt.span,{...h,ref:_,style:{pointerEvents:"none"},children:OC(p.value)?o.jsx(o.Fragment,{children:d}):u})});dC.displayName=uC;var iL="SelectIcon",fC=x.forwardRef((t,e)=>{const{__scopeSelect:a,children:r,...l}=t;return o.jsx(wt.span,{"aria-hidden":!0,...l,ref:e,children:r||""})});fC.displayName=iL;var oL="SelectPortal",hC=t=>o.jsx(hg,{asChild:!0,...t});hC.displayName=oL;var ri="SelectContent",mC=x.forwardRef((t,e)=>{const a=hr(ri,t.__scopeSelect),[r,l]=x.useState();if(Kn(()=>{l(new DocumentFragment)},[]),!a.open){const u=r;return u?fg.createPortal(o.jsx(pC,{scope:t.__scopeSelect,children:o.jsx(df.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),u):null}return o.jsx(gC,{...t,ref:e})});mC.displayName=ri;var ka=10,[pC,mr]=Ro(ri),lL="SelectContentImpl",cL=YP("SelectContent.RemoveScroll"),gC=x.forwardRef((t,e)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,side:h,sideOffset:p,align:v,alignOffset:y,arrowPadding:_,collisionBoundary:C,collisionPadding:A,sticky:M,hideWhenDetached:j,avoidCollisions:T,...k}=t,D=hr(ri,a),[P,z]=x.useState(null),[U,F]=x.useState(null),Y=Ot(e,E=>z(E)),[Z,de]=x.useState(null),[pe,Ne]=x.useState(null),Pe=ff(a),[rt,ge]=x.useState(!1),De=x.useRef(!1);x.useEffect(()=>{if(P)return Wk(P)},[P]),eE();const B=x.useCallback(E=>{const[V,...J]=Pe().map(fe=>fe.ref.current),[G]=J.slice(-1),ie=document.activeElement;for(const fe of E)if(fe===ie||(fe?.scrollIntoView({block:"nearest"}),fe===V&&U&&(U.scrollTop=0),fe===G&&U&&(U.scrollTop=U.scrollHeight),fe?.focus(),document.activeElement!==ie))return},[Pe,U]),ne=x.useCallback(()=>B([Z,P]),[B,Z,P]);x.useEffect(()=>{rt&&ne()},[rt,ne]);const{onOpenChange:X,triggerPointerDownPosRef:Ee}=D;x.useEffect(()=>{if(P){let E={x:0,y:0};const V=G=>{E={x:Math.abs(Math.round(G.pageX)-(Ee.current?.x??0)),y:Math.abs(Math.round(G.pageY)-(Ee.current?.y??0))}},J=G=>{E.x<=10&&E.y<=10?G.preventDefault():P.contains(G.target)||X(!1),document.removeEventListener("pointermove",V),Ee.current=null};return Ee.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",J,{capture:!0})}}},[P,X,Ee]),x.useEffect(()=>{const E=()=>X(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[X]);const[Se,nt]=DC(E=>{const V=Pe().filter(ie=>!ie.disabled),J=V.find(ie=>ie.ref.current===document.activeElement),G=RC(V,E,J);G&&setTimeout(()=>G.ref.current.focus())}),le=x.useCallback((E,V,J)=>{const G=!De.current&&!J;(D.value!==void 0&&D.value===V||G)&&(de(E),G&&(De.current=!0))},[D.value]),g=x.useCallback(()=>P?.focus(),[P]),S=x.useCallback((E,V,J)=>{const G=!De.current&&!J;(D.value!==void 0&&D.value===V||G)&&Ne(E)},[D.value]),w=r==="popper"?Wp:vC,O=w===Wp?{side:h,sideOffset:p,align:v,alignOffset:y,arrowPadding:_,collisionBoundary:C,collisionPadding:A,sticky:M,hideWhenDetached:j,avoidCollisions:T}:{};return o.jsx(pC,{scope:a,content:P,viewport:U,onViewportChange:F,itemRefCallback:le,selectedItem:Z,onItemLeave:g,itemTextRefCallback:S,focusSelectedItem:ne,selectedItemText:pe,position:r,isPositioned:rt,searchRef:Se,children:o.jsx(tE,{as:cL,allowPinchZoom:!0,children:o.jsx(nE,{asChild:!0,trapped:D.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:Ue(l,E=>{D.trigger?.focus({preventScroll:!0}),E.preventDefault()}),children:o.jsx(b1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(w,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:E=>E.preventDefault(),...k,...O,onPlaced:()=>ge(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,E=>{const V=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!V&&E.key.length===1&&nt(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let G=Pe().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(E.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const ie=E.target,fe=G.indexOf(ie);G=G.slice(fe+1)}setTimeout(()=>B(G)),E.preventDefault()}})})})})})})});gC.displayName=lL;var uL="SelectItemAlignedPosition",vC=x.forwardRef((t,e)=>{const{__scopeSelect:a,onPlaced:r,...l}=t,u=hr(ri,a),d=mr(ri,a),[h,p]=x.useState(null),[v,y]=x.useState(null),_=Ot(e,Y=>y(Y)),C=ff(a),A=x.useRef(!1),M=x.useRef(!0),{viewport:j,selectedItem:T,selectedItemText:k,focusSelectedItem:D}=d,P=x.useCallback(()=>{if(u.trigger&&u.valueNode&&h&&v&&j&&T&&k){const Y=u.trigger.getBoundingClientRect(),Z=v.getBoundingClientRect(),de=u.valueNode.getBoundingClientRect(),pe=k.getBoundingClientRect();if(u.dir!=="rtl"){const ie=pe.left-Z.left,fe=de.left-ie,Me=Y.left-fe,dt=Y.width+Me,Wt=Math.max(dt,Z.width),Dt=window.innerWidth-ka,te=kp(fe,[ka,Math.max(ka,Dt-Wt)]);h.style.minWidth=dt+"px",h.style.left=te+"px"}else{const ie=Z.right-pe.right,fe=window.innerWidth-de.right-ie,Me=window.innerWidth-Y.right-fe,dt=Y.width+Me,Wt=Math.max(dt,Z.width),Dt=window.innerWidth-ka,te=kp(fe,[ka,Math.max(ka,Dt-Wt)]);h.style.minWidth=dt+"px",h.style.right=te+"px"}const Ne=C(),Pe=window.innerHeight-ka*2,rt=j.scrollHeight,ge=window.getComputedStyle(v),De=parseInt(ge.borderTopWidth,10),B=parseInt(ge.paddingTop,10),ne=parseInt(ge.borderBottomWidth,10),X=parseInt(ge.paddingBottom,10),Ee=De+B+rt+X+ne,Se=Math.min(T.offsetHeight*5,Ee),nt=window.getComputedStyle(j),le=parseInt(nt.paddingTop,10),g=parseInt(nt.paddingBottom,10),S=Y.top+Y.height/2-ka,w=Pe-S,O=T.offsetHeight/2,E=T.offsetTop+O,V=De+B+E,J=Ee-V;if(V<=S){const ie=Ne.length>0&&T===Ne[Ne.length-1].ref.current;h.style.bottom="0px";const fe=v.clientHeight-j.offsetTop-j.offsetHeight,Me=Math.max(w,O+(ie?g:0)+fe+ne),dt=V+Me;h.style.height=dt+"px"}else{const ie=Ne.length>0&&T===Ne[0].ref.current;h.style.top="0px";const Me=Math.max(S,De+j.offsetTop+(ie?le:0)+O)+J;h.style.height=Me+"px",j.scrollTop=V-S+j.offsetTop}h.style.margin=`${ka}px 0`,h.style.minHeight=Se+"px",h.style.maxHeight=Pe+"px",r?.(),requestAnimationFrame(()=>A.current=!0)}},[C,u.trigger,u.valueNode,h,v,j,T,k,u.dir,r]);Kn(()=>P(),[P]);const[z,U]=x.useState();Kn(()=>{v&&U(window.getComputedStyle(v).zIndex)},[v]);const F=x.useCallback(Y=>{Y&&M.current===!0&&(P(),D?.(),M.current=!1)},[P,D]);return o.jsx(fL,{scope:a,contentWrapper:h,shouldExpandOnScrollRef:A,onScrollButtonChange:F,children:o.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:o.jsx(wt.div,{...l,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});vC.displayName=uL;var dL="SelectPopperPosition",Wp=x.forwardRef((t,e)=>{const{__scopeSelect:a,align:r="start",collisionPadding:l=ka,...u}=t,d=hf(a);return o.jsx(w1,{...d,...u,ref:e,align:r,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wp.displayName=dL;var[fL,fv]=Ro(ri,{}),eg="SelectViewport",yC=x.forwardRef((t,e)=>{const{__scopeSelect:a,nonce:r,...l}=t,u=mr(eg,a),d=fv(eg,a),h=Ot(e,u.onViewportChange),p=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(df.Slot,{scope:a,children:o.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ue(l.onScroll,v=>{const y=v.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:C}=d;if(C?.current&&_){const A=Math.abs(p.current-y.scrollTop);if(A>0){const M=window.innerHeight-ka*2,j=parseFloat(_.style.minHeight),T=parseFloat(_.style.height),k=Math.max(j,T);if(k<M){const D=k+A,P=Math.min(M,D),z=D-P;_.style.height=P+"px",_.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,_.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});yC.displayName=eg;var xC="SelectGroup",[hL,mL]=Ro(xC),pL=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,l=zd();return o.jsx(hL,{scope:a,id:l,children:o.jsx(wt.div,{role:"group","aria-labelledby":l,...r,ref:e})})});pL.displayName=xC;var bC="SelectLabel",wC=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,l=mL(bC,a);return o.jsx(wt.div,{id:l.id,...r,ref:e})});wC.displayName=bC;var Td="SelectItem",[gL,SC]=Ro(Td),_C=x.forwardRef((t,e)=>{const{__scopeSelect:a,value:r,disabled:l=!1,textValue:u,...d}=t,h=hr(Td,a),p=mr(Td,a),v=h.value===r,[y,_]=x.useState(u??""),[C,A]=x.useState(!1),M=Ot(e,D=>p.itemRefCallback?.(D,r,l)),j=zd(),T=x.useRef("touch"),k=()=>{l||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(gL,{scope:a,value:r,disabled:l,textId:j,isSelected:v,onItemTextChange:x.useCallback(D=>{_(P=>P||(D?.textContent??"").trim())},[]),children:o.jsx(df.ItemSlot,{scope:a,value:r,disabled:l,textValue:y,children:o.jsx(wt.div,{role:"option","aria-labelledby":j,"data-highlighted":C?"":void 0,"aria-selected":v&&C,"data-state":v?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:M,onFocus:Ue(d.onFocus,()=>A(!0)),onBlur:Ue(d.onBlur,()=>A(!1)),onClick:Ue(d.onClick,()=>{T.current!=="mouse"&&k()}),onPointerUp:Ue(d.onPointerUp,()=>{T.current==="mouse"&&k()}),onPointerDown:Ue(d.onPointerDown,D=>{T.current=D.pointerType}),onPointerMove:Ue(d.onPointerMove,D=>{T.current=D.pointerType,l?p.onItemLeave?.():T.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(d.onPointerLeave,D=>{D.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ue(d.onKeyDown,D=>{p.searchRef?.current!==""&&D.key===" "||(tL.includes(D.key)&&k(),D.key===" "&&D.preventDefault())})})})})});_C.displayName=Td;var Pl="SelectItemText",jC=x.forwardRef((t,e)=>{const{__scopeSelect:a,className:r,style:l,...u}=t,d=hr(Pl,a),h=mr(Pl,a),p=SC(Pl,a),v=rL(Pl,a),[y,_]=x.useState(null),C=Ot(e,k=>_(k),p.onItemTextChange,k=>h.itemTextRefCallback?.(k,p.value,p.disabled)),A=y?.textContent,M=x.useMemo(()=>o.jsx("option",{value:p.value,disabled:p.disabled,children:A},p.value),[p.disabled,p.value,A]),{onNativeOptionAdd:j,onNativeOptionRemove:T}=v;return Kn(()=>(j(M),()=>T(M)),[j,T,M]),o.jsxs(o.Fragment,{children:[o.jsx(wt.span,{id:p.textId,...u,ref:C}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?fg.createPortal(u.children,d.valueNode):null]})});jC.displayName=Pl;var NC="SelectItemIndicator",CC=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t;return SC(NC,a).isSelected?o.jsx(wt.span,{"aria-hidden":!0,...r,ref:e}):null});CC.displayName=NC;var tg="SelectScrollUpButton",TC=x.forwardRef((t,e)=>{const a=mr(tg,t.__scopeSelect),r=fv(tg,t.__scopeSelect),[l,u]=x.useState(!1),d=Ot(e,r.onScrollButtonChange);return Kn(()=>{if(a.viewport&&a.isPositioned){let h=function(){const v=p.scrollTop>0;u(v)};const p=a.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),l?o.jsx(EC,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=a;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});TC.displayName=tg;var ng="SelectScrollDownButton",kC=x.forwardRef((t,e)=>{const a=mr(ng,t.__scopeSelect),r=fv(ng,t.__scopeSelect),[l,u]=x.useState(!1),d=Ot(e,r.onScrollButtonChange);return Kn(()=>{if(a.viewport&&a.isPositioned){let h=function(){const v=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<v;u(y)};const p=a.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[a.viewport,a.isPositioned]),l?o.jsx(EC,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=a;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});kC.displayName=ng;var EC=x.forwardRef((t,e)=>{const{__scopeSelect:a,onAutoScroll:r,...l}=t,u=mr("SelectScrollButton",a),d=x.useRef(null),h=ff(a),p=x.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return x.useEffect(()=>()=>p(),[p]),Kn(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),o.jsx(wt.div,{"aria-hidden":!0,...l,ref:e,style:{flexShrink:0,...l.style},onPointerDown:Ue(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:Ue(l.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:Ue(l.onPointerLeave,()=>{p()})})}),vL="SelectSeparator",MC=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t;return o.jsx(wt.div,{"aria-hidden":!0,...r,ref:e})});MC.displayName=vL;var ag="SelectArrow",yL=x.forwardRef((t,e)=>{const{__scopeSelect:a,...r}=t,l=hf(a),u=hr(ag,a),d=mr(ag,a);return u.open&&d.position==="popper"?o.jsx(j1,{...l,...r,ref:e}):null});yL.displayName=ag;var xL="SelectBubbleInput",AC=x.forwardRef(({__scopeSelect:t,value:e,...a},r)=>{const l=x.useRef(null),u=Ot(r,l),d=iC(e);return x.useEffect(()=>{const h=l.current;if(!h)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==e&&y){const _=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(_)}},[d,e]),o.jsx(wt.select,{...a,style:{...d_,...a.style},ref:u,defaultValue:e})});AC.displayName=xL;function OC(t){return t===""||t===void 0}function DC(t){const e=Jn(t),a=x.useRef(""),r=x.useRef(0),l=x.useCallback(d=>{const h=a.current+d;e(h),(function p(v){a.current=v,window.clearTimeout(r.current),v!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),u=x.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,l,u]}function RC(t,e,a){const l=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,u=a?t.indexOf(a):-1;let d=bL(t,Math.max(u,0));l.length===1&&(d=d.filter(v=>v!==a));const p=d.find(v=>v.textValue.toLowerCase().startsWith(l.toLowerCase()));return p!==a?p:void 0}function bL(t,e){return t.map((a,r)=>t[(e+r)%t.length])}var wL=oC,PC=cC,SL=dC,_L=fC,jL=hC,LC=mC,NL=yC,zC=wC,IC=_C,CL=jC,TL=CC,UC=TC,BC=kC,VC=MC;const wo=wL,So=SL,ii=x.forwardRef(({className:t,children:e,...a},r)=>o.jsxs(PC,{ref:r,className:_e("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[e,o.jsx(_L,{asChild:!0,children:o.jsx(L_,{className:"h-4 w-4 opacity-50"})})]}));ii.displayName=PC.displayName;const FC=x.forwardRef(({className:t,...e},a)=>o.jsx(UC,{ref:a,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(iA,{className:"h-4 w-4"})}));FC.displayName=UC.displayName;const qC=x.forwardRef(({className:t,...e},a)=>o.jsx(BC,{ref:a,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(L_,{className:"h-4 w-4"})}));qC.displayName=BC.displayName;const oi=x.forwardRef(({className:t,children:e,position:a="popper",...r},l)=>o.jsx(jL,{children:o.jsxs(LC,{ref:l,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[o.jsx(FC,{}),o.jsx(NL,{className:_e("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(qC,{})]})}));oi.displayName=LC.displayName;const kL=x.forwardRef(({className:t,...e},a)=>o.jsx(zC,{ref:a,className:_e("px-2 py-1.5 text-sm font-semibold",t),...e}));kL.displayName=zC.displayName;const Ht=x.forwardRef(({className:t,children:e,...a},r)=>o.jsxs(IC,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(TL,{children:o.jsx(Fr,{className:"h-4 w-4"})})}),o.jsx(CL,{children:e})]}));Ht.displayName=IC.displayName;const EL=x.forwardRef(({className:t,...e},a)=>o.jsx(VC,{ref:a,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));EL.displayName=VC.displayName;var ML=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AL=ML.reduce((t,e)=>{const a=Yd(`Primitive.${e}`),r=x.forwardRef((l,u)=>{const{asChild:d,...h}=l,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),OL="Label",HC=x.forwardRef((t,e)=>o.jsx(AL.label,{...t,ref:e,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));HC.displayName=OL;var $C=HC;const DL=Fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=x.forwardRef(({className:t,...e},a)=>o.jsx($C,{ref:a,className:_e(DL(),t),...e}));ct.displayName=$C.displayName;const ao=x.forwardRef(({className:t,...e},a)=>o.jsx("textarea",{className:_e("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...e}));ao.displayName="Textarea";const re=Symbol.for("drizzle:entityKind");function pn(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,re))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let a=Object.getPrototypeOf(t).constructor;if(a)for(;a;){if(re in a&&a[re]===e[re])return!0;a=Object.getPrototypeOf(a)}return!1}class Ql{constructor(e,a){this.table=e,this.config=a,this.name=a.name,this.keyAsName=a.keyAsName,this.notNull=a.notNull,this.default=a.default,this.defaultFn=a.defaultFn,this.onUpdateFn=a.onUpdateFn,this.hasDefault=a.hasDefault,this.primary=a.primaryKey,this.isUnique=a.isUnique,this.uniqueName=a.uniqueName,this.uniqueType=a.uniqueType,this.dataType=a.dataType,this.columnType=a.columnType,this.generated=a.generated,this.generatedIdentity=a.generatedIdentity}static[re]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class RL{static[re]="ColumnBuilder";config;constructor(e,a,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:a,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const co=Symbol.for("drizzle:Name");class PL{static[re]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,a){this.reference=()=>{const{name:r,columns:l,foreignColumns:u}=e();return{name:r,columns:l,foreignTable:u[0].table,foreignColumns:u}},a&&(this._onUpdate=a.onUpdate,this._onDelete=a.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new LL(e,this)}}class LL{constructor(e,a){this.table=e,this.reference=a.reference,this.onUpdate=a._onUpdate,this.onDelete=a._onDelete}static[re]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:a,foreignColumns:r}=this.reference(),l=a.map(h=>h.name),u=r.map(h=>h.name),d=[this.table[co],...l,r[0].table[co],...u];return e??`${d.join("_")}_fk`}}function zL(t,...e){return t(...e)}function IL(t,e){return`${t[co]}_${e.join("_")}_unique`}function i1(t,e,a){for(let r=e;r<t.length;r++){const l=t[r];if(l==="\\"){r++;continue}if(l==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!a&&(l===","||l==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function QC(t,e=0){const a=[];let r=e,l=!1;for(;r<t.length;){const u=t[r];if(u===","){(l||r===e)&&a.push(""),l=!0,r++;continue}if(l=!1,u==="\\"){r+=2;continue}if(u==='"'){const[p,v]=i1(t,r+1,!0);a.push(p),r=v;continue}if(u==="}")return[a,r+1];if(u==="{"){const[p,v]=QC(t,r+1);a.push(p),r=v;continue}const[d,h]=i1(t,r,!1);a.push(d),r=h}return[a,r]}function UL(t){const[e]=QC(t,1);return e}function GC(t){return`{${t.map(e=>Array.isArray(e)?GC(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class st extends RL{foreignKeyConfigs=[];static[re]="PgColumnBuilder";array(e){return new VL(this.config.name,this,e)}references(e,a={}){return this.foreignKeyConfigs.push({ref:e,actions:a}),this}unique(e,a){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=a?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,a){return this.foreignKeyConfigs.map(({ref:r,actions:l})=>zL((u,d)=>{const h=new PL(()=>{const p=u();return{columns:[e],foreignColumns:[p]}});return d.onUpdate&&h.onUpdate(d.onUpdate),d.onDelete&&h.onDelete(d.onDelete),h.build(a)},r,l))}buildExtraConfigColumn(e){return new BL(e,this.config)}}class Fe extends Ql{constructor(e,a){a.uniqueName||(a.uniqueName=IL(e,[a.name])),super(e,a),this.table=e}static[re]="PgColumn"}class BL extends Fe{static[re]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class VL extends st{static[re]="PgArrayBuilder";constructor(e,a,r){super(e,"array","PgArray"),this.config.baseBuilder=a,this.config.size=r}build(e){const a=this.config.baseBuilder.build(e);return new hv(e,this.config,a)}}class hv extends Fe{constructor(e,a,r,l){super(e,a),this.baseColumn=r,this.range=l,this.size=a.size}size;static[re]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=UL(e)),e.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(e,a=!1){const r=e.map(l=>l===null?null:pn(this.baseColumn,hv)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return a?r:GC(r)}}const o1=Symbol.for("drizzle:isPgEnum");function FL(t){return!!t&&typeof t=="function"&&o1 in t&&t[o1]===!0}class YC{static[re]="Subquery";constructor(e,a,r,l=!1){this._={brand:"Subquery",sql:e,selectedFields:a,alias:r,isWith:l}}}const qL={startActiveSpan(t,e){return e()}},uo=Symbol.for("drizzle:ViewBaseConfig"),ip=Symbol.for("drizzle:Schema"),l1=Symbol.for("drizzle:Columns"),c1=Symbol.for("drizzle:ExtraConfigColumns"),op=Symbol.for("drizzle:OriginalName"),lp=Symbol.for("drizzle:BaseName"),kd=Symbol.for("drizzle:IsAlias"),u1=Symbol.for("drizzle:ExtraConfigBuilder"),JC=Symbol.for("drizzle:IsDrizzleTable");class Yn{static[re]="Table";static Symbol={Name:co,Schema:ip,OriginalName:op,Columns:l1,ExtraConfigColumns:c1,BaseName:lp,IsAlias:kd,ExtraConfigBuilder:u1};[co];[op];[ip];[l1];[c1];[lp];[kd]=!1;[JC]=!0;[u1]=void 0;constructor(e,a,r){this[co]=this[op]=e,this[ip]=a,this[lp]=r}}function ZC(t){return typeof t=="object"&&t!==null&&JC in t}function HL(t){return t!=null&&typeof t.getSQL=="function"}function $L(t){const e={sql:"",params:[]};for(const a of t)e.sql+=a.sql,e.params.push(...a.params),a.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...a.typings));return e}class Ea{static[re]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ut([this])}}class Ut{constructor(e){this.queryChunks=e}static[re]="SQL";decoder=KC;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return qL.startActiveSpan("drizzle.buildSQL",a=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return a?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,a){const r=Object.assign({},a,{inlineParams:a.inlineParams||this.shouldInlineParams,paramStartIndex:a.paramStartIndex||{value:0}}),{casing:l,escapeName:u,escapeParam:d,prepareTyping:h,inlineParams:p,paramStartIndex:v}=r;return $L(e.map(y=>{if(pn(y,Ea))return{sql:y.value.join(""),params:[]};if(pn(y,sg))return{sql:u(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const _=[new Ea("(")];for(const[C,A]of y.entries())_.push(A),C<y.length-1&&_.push(new Ea(", "));return _.push(new Ea(")")),this.buildQueryFromSourceParams(_,r)}if(pn(y,Ut))return this.buildQueryFromSourceParams(y.queryChunks,{...r,inlineParams:p||y.shouldInlineParams});if(pn(y,Yn)){const _=y[Yn.Symbol.Schema],C=y[Yn.Symbol.Name];return{sql:_===void 0||y[kd]?u(C):u(_)+"."+u(C),params:[]}}if(pn(y,Ql)){const _=l.getColumnCasing(y);if(a.invokeSource==="indexes")return{sql:u(_),params:[]};const C=y.table[Yn.Symbol.Schema];return{sql:y.table[kd]||C===void 0?u(y.table[Yn.Symbol.Name])+"."+u(_):u(C)+"."+u(y.table[Yn.Symbol.Name])+"."+u(_),params:[]}}if(pn(y,QL)){const _=y[uo].schema,C=y[uo].name;return{sql:_===void 0||y[uo].isAlias?u(C):u(_)+"."+u(C),params:[]}}if(pn(y,WC)){if(pn(y.value,rg))return{sql:d(v.value++,y),params:[y],typings:["none"]};const _=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(pn(_,Ut))return this.buildQueryFromSourceParams([_],r);if(p)return{sql:this.mapInlineParam(_,r),params:[]};let C=["none"];return h&&(C=[h(y.encoder)]),{sql:d(v.value++,_),params:[_],typings:C}}return pn(y,rg)?{sql:d(v.value++,y),params:[y],typings:["none"]}:pn(y,Ut.Aliased)&&y.fieldAlias!==void 0?{sql:u(y.fieldAlias),params:[]}:pn(y,YC)?y._.isWith?{sql:u(y._.alias),params:[]}:this.buildQueryFromSourceParams([new Ea("("),y._.sql,new Ea(") "),new sg(y._.alias)],r):FL(y)?y.schema?{sql:u(y.schema)+"."+u(y.enumName),params:[]}:{sql:u(y.enumName),params:[]}:HL(y)?y.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([y.getSQL()],r):this.buildQueryFromSourceParams([new Ea("("),y.getSQL(),new Ea(")")],r):p?{sql:this.mapInlineParam(y,r),params:[]}:{sql:d(v.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(e,{escapeString:a}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return a(e);if(typeof e=="object"){const r=e.toString();return a(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ut.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class sg{constructor(e){this.value=e}static[re]="Name";brand;getSQL(){return new Ut([this])}}const KC={mapFromDriverValue:t=>t},XC={mapToDriverValue:t=>t};({...KC,...XC});class WC{constructor(e,a=XC){this.value=e,this.encoder=a}static[re]="Param";brand;getSQL(){return new Ut([this])}}function Qt(t,...e){const a=[];(e.length>0||t.length>0&&t[0]!=="")&&a.push(new Ea(t[0]));for(const[r,l]of e.entries())a.push(l,new Ea(t[r+1]));return new Ut(a)}(t=>{function e(){return new Ut([])}t.empty=e;function a(p){return new Ut(p)}t.fromList=a;function r(p){return new Ut([new Ea(p)])}t.raw=r;function l(p,v){const y=[];for(const[_,C]of p.entries())_>0&&v!==void 0&&y.push(v),y.push(C);return new Ut(y)}t.join=l;function u(p){return new sg(p)}t.identifier=u;function d(p){return new rg(p)}t.placeholder=d;function h(p,v){return new WC(p,v)}t.param=h})(Qt||(Qt={}));(t=>{class e{constructor(r,l){this.sql=r,this.fieldAlias=l}static[re]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Ut||(Ut={}));class rg{constructor(e){this.name=e}static[re]="Placeholder";getSQL(){return new Ut([this])}}const eT=Symbol.for("drizzle:IsDrizzleView");class QL{static[re]="View";[uo];[eT]=!0;constructor({name:e,schema:a,selectedFields:r,query:l}){this[uo]={name:e,originalName:e,schema:a,selectedFields:r,query:l,isExisting:!l,isAlias:!1}}getSQL(){return new Ut([this])}}function GL(t){return typeof t=="object"&&t!==null&&eT in t}Ql.prototype.getSQL=function(){return new Ut([this])};Yn.prototype.getSQL=function(){return new Ut([this])};YC.prototype.getSQL=function(){return new Ut([this])};function YL(t){return t[Yn.Symbol.Columns]}function JL(t){return t[uo].selectedFields}function ln(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class mf extends st{static[re]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:a,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:a,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:a,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class ZL extends mf{static[re]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new KL(e,this.config)}}class KL extends Fe{static[re]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class XL extends mf{static[re]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new WL(e,this.config)}}class WL extends Fe{static[re]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function e6(t,e){const{name:a,config:r}=ln(t,e);return r.mode==="number"?new ZL(a):new XL(a)}class t6 extends st{static[re]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new n6(e,this.config)}}class n6 extends Fe{static[re]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class a6 extends st{static[re]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new s6(e,this.config)}}class s6 extends Fe{static[re]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function r6(t,e){const{name:a,config:r}=ln(t,e);return r.mode==="number"?new t6(a):new a6(a)}class i6 extends st{static[re]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new o6(e,this.config)}}class o6 extends Fe{static[re]="PgBoolean";getSQLType(){return"boolean"}}function tT(t){return new i6(t??"")}class l6 extends st{static[re]="PgCharBuilder";constructor(e,a){super(e,"string","PgChar"),this.config.length=a.length,this.config.enumValues=a.enum}build(e){return new c6(e,this.config)}}class c6 extends Fe{static[re]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function u6(t,e={}){const{name:a,config:r}=ln(t,e);return new l6(a,r)}class d6 extends st{static[re]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new f6(e,this.config)}}class f6 extends Fe{static[re]="PgCidr";getSQLType(){return"cidr"}}function h6(t){return new d6(t??"")}class m6 extends st{static[re]="PgCustomColumnBuilder";constructor(e,a,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=a,this.config.customTypeParams=r}build(e){return new p6(e,this.config)}}class p6 extends Fe{static[re]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,a){super(e,a),this.sqlName=a.customTypeParams.dataType(a.fieldConfig),this.mapTo=a.customTypeParams.toDriver,this.mapFrom=a.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function g6(t){return(e,a)=>{const{name:r,config:l}=ln(e,a);return new m6(r,l,t)}}class mc extends st{static[re]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Qt`now()`)}}class v6 extends mc{static[re]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new y6(e,this.config)}}class y6 extends Fe{static[re]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class x6 extends mc{static[re]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new b6(e,this.config)}}class b6 extends Fe{static[re]="PgDateString";getSQLType(){return"date"}}function w6(t,e){const{name:a,config:r}=ln(t,e);return r?.mode==="date"?new v6(a):new x6(a)}class S6 extends st{static[re]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new _6(e,this.config)}}class _6 extends Fe{static[re]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function j6(t){return new S6(t??"")}class N6 extends st{static[re]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new C6(e,this.config)}}class C6 extends Fe{static[re]="PgInet";getSQLType(){return"inet"}}function T6(t){return new N6(t??"")}class k6 extends mf{static[re]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new E6(e,this.config)}}class E6 extends Fe{static[re]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function Tn(t){return new k6(t??"")}class M6 extends st{static[re]="PgIntervalBuilder";constructor(e,a){super(e,"string","PgInterval"),this.config.intervalConfig=a}build(e){return new A6(e,this.config)}}class A6 extends Fe{static[re]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",a=this.precision?`(${this.precision})`:"";return`interval${e}${a}`}}function O6(t,e={}){const{name:a,config:r}=ln(t,e);return new M6(a,r)}class D6 extends st{static[re]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new R6(e,this.config)}}class R6 extends Fe{static[re]="PgJson";constructor(e,a){super(e,a)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function P6(t){return new D6(t??"")}class L6 extends st{static[re]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new z6(e,this.config)}}class z6 extends Fe{static[re]="PgJsonb";constructor(e,a){super(e,a)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function _s(t){return new L6(t??"")}class I6 extends st{static[re]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new U6(e,this.config)}}class U6 extends Fe{static[re]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[a,r,l]=e.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r),Number.parseFloat(l)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class B6 extends st{static[re]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new V6(e,this.config)}}class V6 extends Fe{static[re]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[a,r,l]=e.slice(1,-1).split(",");return{a:Number.parseFloat(a),b:Number.parseFloat(r),c:Number.parseFloat(l)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function F6(t,e){const{name:a,config:r}=ln(t,e);return!r?.mode||r.mode==="tuple"?new I6(a):new B6(a)}class q6 extends st{static[re]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new H6(e,this.config)}}class H6 extends Fe{static[re]="PgMacaddr";getSQLType(){return"macaddr"}}function $6(t){return new q6(t??"")}class Q6 extends st{static[re]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new G6(e,this.config)}}class G6 extends Fe{static[re]="PgMacaddr8";getSQLType(){return"macaddr8"}}function Y6(t){return new Q6(t??"")}class J6 extends st{static[re]="PgNumericBuilder";constructor(e,a,r){super(e,"string","PgNumeric"),this.config.precision=a,this.config.scale=r}build(e){return new Z6(e,this.config)}}class Z6 extends Fe{static[re]="PgNumeric";precision;scale;constructor(e,a){super(e,a),this.precision=a.precision,this.scale=a.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function K6(t,e){const{name:a,config:r}=ln(t,e);return new J6(a,r?.precision,r?.scale)}class X6 extends st{static[re]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new W6(e,this.config)}}class W6 extends Fe{static[re]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[a,r]=e.slice(1,-1).split(",");return[Number.parseFloat(a),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class ez extends st{static[re]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new tz(e,this.config)}}class tz extends Fe{static[re]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[a,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(a),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function nz(t,e){const{name:a,config:r}=ln(t,e);return!r?.mode||r.mode==="tuple"?new X6(a):new ez(a)}function az(t){const e=[];for(let a=0;a<t.length;a+=2)e.push(Number.parseInt(t.slice(a,a+2),16));return new Uint8Array(e)}function d1(t,e){const a=new ArrayBuffer(8),r=new DataView(a);for(let l=0;l<8;l++)r.setUint8(l,t[e+l]);return r.getFloat64(0,!0)}function nT(t){const e=az(t);let a=0;const r=e[a];a+=1;const l=new DataView(e.buffer),u=l.getUint32(a,r===1);if(a+=4,u&536870912&&(l.getUint32(a,r===1),a+=4),(u&65535)===1){const d=d1(e,a);a+=8;const h=d1(e,a);return a+=8,[d,h]}throw new Error("Unsupported geometry type")}class sz extends st{static[re]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new rz(e,this.config)}}class rz extends Fe{static[re]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return nT(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class iz extends st{static[re]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new oz(e,this.config)}}class oz extends Fe{static[re]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const a=nT(e);return{x:a[0],y:a[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function lz(t,e){const{name:a,config:r}=ln(t,e);return!r?.mode||r.mode==="tuple"?new sz(a):new iz(a)}class cz extends st{static[re]="PgRealBuilder";constructor(e,a){super(e,"number","PgReal"),this.config.length=a}build(e){return new uz(e,this.config)}}class uz extends Fe{static[re]="PgReal";constructor(e,a){super(e,a)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function dz(t){return new cz(t??"")}class fz extends st{static[re]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new hz(e,this.config)}}class hz extends Fe{static[re]="PgSerial";getSQLType(){return"serial"}}function na(t){return new fz(t??"")}class mz extends mf{static[re]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new pz(e,this.config)}}class pz extends Fe{static[re]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function gz(t){return new mz(t??"")}class vz extends st{static[re]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new yz(e,this.config)}}class yz extends Fe{static[re]="PgSmallSerial";getSQLType(){return"smallserial"}}function xz(t){return new vz(t??"")}class bz extends st{static[re]="PgTextBuilder";constructor(e,a){super(e,"string","PgText"),this.config.enumValues=a.enum}build(e){return new wz(e,this.config)}}class wz extends Fe{static[re]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Te(t,e={}){const{name:a,config:r}=ln(t,e);return new bz(a,r)}class Sz extends mc{constructor(e,a,r){super(e,"string","PgTime"),this.withTimezone=a,this.precision=r,this.config.withTimezone=a,this.config.precision=r}static[re]="PgTimeBuilder";build(e){return new _z(e,this.config)}}class _z extends Fe{static[re]="PgTime";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function jz(t,e={}){const{name:a,config:r}=ln(t,e);return new Sz(a,r.withTimezone??!1,r.precision)}class Nz extends mc{static[re]="PgTimestampBuilder";constructor(e,a,r){super(e,"date","PgTimestamp"),this.config.withTimezone=a,this.config.precision=r}build(e){return new Cz(e,this.config)}}class Cz extends Fe{static[re]="PgTimestamp";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class Tz extends mc{static[re]="PgTimestampStringBuilder";constructor(e,a,r){super(e,"string","PgTimestampString"),this.config.withTimezone=a,this.config.precision=r}build(e){return new kz(e,this.config)}}class kz extends Fe{static[re]="PgTimestampString";withTimezone;precision;constructor(e,a){super(e,a),this.withTimezone=a.withTimezone,this.precision=a.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Mt(t,e={}){const{name:a,config:r}=ln(t,e);return r?.mode==="string"?new Tz(a,r.withTimezone??!1,r.precision):new Nz(a,r?.withTimezone??!1,r?.precision)}class Ez extends st{static[re]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Qt`gen_random_uuid()`)}build(e){return new Mz(e,this.config)}}class Mz extends Fe{static[re]="PgUUID";getSQLType(){return"uuid"}}function Az(t){return new Ez(t??"")}class Oz extends st{static[re]="PgVarcharBuilder";constructor(e,a){super(e,"string","PgVarchar"),this.config.length=a.length,this.config.enumValues=a.enum}build(e){return new Dz(e,this.config)}}class Dz extends Fe{static[re]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function $t(t,e={}){const{name:a,config:r}=ln(t,e);return new Oz(a,r)}class Rz extends st{static[re]="PgBinaryVectorBuilder";constructor(e,a){super(e,"string","PgBinaryVector"),this.config.dimensions=a.dimensions}build(e){return new Pz(e,this.config)}}class Pz extends Fe{static[re]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function Lz(t,e){const{name:a,config:r}=ln(t,e);return new Rz(a,r)}class zz extends st{static[re]="PgHalfVectorBuilder";constructor(e,a){super(e,"array","PgHalfVector"),this.config.dimensions=a.dimensions}build(e){return new Iz(e,this.config)}}class Iz extends Fe{static[re]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function Uz(t,e){const{name:a,config:r}=ln(t,e);return new zz(a,r)}class Bz extends st{static[re]="PgSparseVectorBuilder";constructor(e,a){super(e,"string","PgSparseVector"),this.config.dimensions=a.dimensions}build(e){return new Vz(e,this.config)}}class Vz extends Fe{static[re]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function Fz(t,e){const{name:a,config:r}=ln(t,e);return new Bz(a,r)}class qz extends st{static[re]="PgVectorBuilder";constructor(e,a){super(e,"array","PgVector"),this.config.dimensions=a.dimensions}build(e){return new Hz(e,this.config)}}class Hz extends Fe{static[re]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function $z(t,e){const{name:a,config:r}=ln(t,e);return new qz(a,r)}function Qz(){return{bigint:e6,bigserial:r6,boolean:tT,char:u6,cidr:h6,customType:g6,date:w6,doublePrecision:j6,inet:T6,integer:Tn,interval:O6,json:P6,jsonb:_s,line:F6,macaddr:$6,macaddr8:Y6,numeric:K6,point:nz,geometry:lz,real:dz,serial:na,smallint:gz,smallserial:xz,text:Te,time:jz,timestamp:Mt,uuid:Az,varchar:$t,bit:Lz,halfvec:Uz,sparsevec:Fz,vector:$z}}const ig=Symbol.for("drizzle:PgInlineForeignKeys"),f1=Symbol.for("drizzle:EnableRLS");class h1 extends Yn{static[re]="PgTable";static Symbol=Object.assign({},Yn.Symbol,{InlineForeignKeys:ig,EnableRLS:f1});[ig]=[];[f1]=!1;[Yn.Symbol.ExtraConfigBuilder]=void 0}function Gz(t,e,a,r,l=t){const u=new h1(t,r,l),d=typeof e=="function"?e(Qz()):e,h=Object.fromEntries(Object.entries(d).map(([y,_])=>{const C=_;C.setName(y);const A=C.build(u);return u[ig].push(...C.buildForeignKeys(A,u)),[y,A]})),p=Object.fromEntries(Object.entries(d).map(([y,_])=>{const C=_;C.setName(y);const A=C.buildExtraConfigColumn(u);return[y,A]})),v=Object.assign(u,h);return v[Yn.Symbol.Columns]=h,v[Yn.Symbol.ExtraConfigColumns]=p,Object.assign(v,{enableRLS:()=>(v[h1.Symbol.EnableRLS]=!0,v)})}const aa=(t,e,a)=>Gz(t,e,a,void 0);var tt;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function a(l){throw new Error}t.assertNever=a,t.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},t.getValidEnumValues=l=>{const u=t.objectKeys(l).filter(h=>typeof l[l[h]]!="number"),d={};for(const h of u)d[h]=l[h];return t.objectValues(d)},t.objectValues=l=>t.objectKeys(l).map(function(u){return l[u]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},t.find=(l,u)=>{for(const d of l)if(u(d))return d},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function r(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}t.joinValues=r,t.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(tt||(tt={}));var og;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(og||(og={}));const me=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return Number.isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},oe=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Yz=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ln extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(u){return u.message},r={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)r._errors.push(a(d));else{let h=r,p=0;for(;p<d.path.length;){const v=d.path[p];p===d.path.length-1?(h[v]=h[v]||{_errors:[]},h[v]._errors.push(a(d))):h[v]=h[v]||{_errors:[]},h=h[v],p++}}};return l(this),r}static assert(e){if(!(e instanceof Ln))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},r=[];for(const l of this.issues)if(l.path.length>0){const u=l.path[0];a[u]=a[u]||[],a[u].push(e(l))}else r.push(e(l));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}Ln.create=t=>new Ln(t);const _o=(t,e)=>{let a;switch(t.code){case oe.invalid_type:t.received===me.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case oe.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,tt.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:a=`Unrecognized key(s) in object: ${tt.joinValues(t.keys,", ")}`;break;case oe.invalid_union:a="Invalid input";break;case oe.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${tt.joinValues(t.options)}`;break;case oe.invalid_enum_value:a=`Invalid enum value. Expected ${tt.joinValues(t.options)}, received '${t.received}'`;break;case oe.invalid_arguments:a="Invalid function arguments";break;case oe.invalid_return_type:a="Invalid function return type";break;case oe.invalid_date:a="Invalid date";break;case oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:tt.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case oe.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case oe.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case oe.custom:a="Invalid input";break;case oe.invalid_intersection_types:a="Intersection results could not be merged";break;case oe.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case oe.not_finite:a="Number must be finite";break;default:a=e.defaultError,tt.assertNever(t)}return{message:a}};let aT=_o;function Jz(t){aT=t}function Ed(){return aT}const Md=t=>{const{data:e,path:a,errorMaps:r,issueData:l}=t,u=[...a,...l.path||[]],d={...l,path:u};if(l.message!==void 0)return{...l,path:u,message:l.message};let h="";const p=r.filter(v=>!!v).slice().reverse();for(const v of p)h=v(d,{data:e,defaultError:h}).message;return{...l,path:u,message:h}},Zz=[];function he(t,e){const a=Ed(),r=Md({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===_o?void 0:_o].filter(l=>!!l)});t.common.issues.push(r)}class xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const r=[];for(const l of a){if(l.status==="aborted")return Ae;l.status==="dirty"&&e.dirty(),r.push(l.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,a){const r=[];for(const l of a){const u=await l.key,d=await l.value;r.push({key:u,value:d})}return xn.mergeObjectSync(e,r)}static mergeObjectSync(e,a){const r={};for(const l of a){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return Ae;u.status==="dirty"&&e.dirty(),d.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(r[u.value]=d.value)}return{status:e.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),so=t=>({status:"dirty",value:t}),kn=t=>({status:"valid",value:t}),lg=t=>t.status==="aborted",cg=t=>t.status==="dirty",li=t=>t.status==="valid",Gl=t=>typeof Promise<"u"&&t instanceof Promise;var we;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(we||(we={}));class Qa{constructor(e,a,r,l){this._cachedPath=[],this.parent=e,this.data=a,this._path=r,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const m1=(t,e)=>{if(li(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new Ln(t.common.issues);return this._error=a,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:r,description:l}=t;if(e&&(a||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(d,h)=>{const{message:p}=t;return d.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??r??h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:p??a??h.defaultError}},description:l}}class He{get description(){return this._def.description}_getType(e){return ys(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xn,ctx:{common:e.parent.common,data:e.data,parsedType:ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(Gl(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const r=this.safeParse(e,a);if(r.success)return r.data;throw r.error}safeParse(e,a){const r={common:{issues:[],async:a?.async??!1,contextualErrorMap:a?.errorMap},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},l=this._parseSync({data:e,path:r.path,parent:r});return m1(r,l)}"~validate"(e){const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:a});return li(r)?{value:r.value}:{issues:a.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(r=>li(r)?{value:r.value}:{issues:a.common.issues})}async parseAsync(e,a){const r=await this.safeParseAsync(e,a);if(r.success)return r.data;throw r.error}async safeParseAsync(e,a){const r={common:{issues:[],contextualErrorMap:a?.errorMap,async:!0},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ys(e)},l=this._parse({data:e,path:r.path,parent:r}),u=await(Gl(l)?l:Promise.resolve(l));return m1(r,u)}refine(e,a){const r=l=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(l):a;return this._refinement((l,u)=>{const d=e(l),h=()=>u.addIssue({code:oe.custom,...r(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(p=>p?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(e,a){return this._refinement((r,l)=>e(r)?!0:(l.addIssue(typeof a=="function"?a(r,l):a),!1))}_refinement(e){return new Pa({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return $a.create(this,this._def)}nullable(){return fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Da.create(this)}promise(){return No.create(this,this._def)}or(e){return Kl.create([this,e],this._def)}and(e){return Xl.create(this,e,this._def)}transform(e){return new Pa({...Be(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new ac({...Be(this._def),innerType:this,defaultValue:a,typeName:Oe.ZodDefault})}brand(){return new mv({typeName:Oe.ZodBranded,type:this,...Be(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new sc({...Be(this._def),innerType:this,catchValue:a,typeName:Oe.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return pc.create(this,e)}readonly(){return rc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Kz=/^c[^\s-]{8,}$/i,Xz=/^[0-9a-z]+$/,Wz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t8=/^[a-z0-9_-]{21}$/i,n8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,a8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,s8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,r8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cp;const i8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,l8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,c8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,u8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,d8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f8=new RegExp(`^${sT}$`);function rT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function h8(t){return new RegExp(`^${rT(t)}$`)}function iT(t){let e=`${sT}T${rT(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function m8(t,e){return!!((e==="v4"||!e)&&i8.test(t)||(e==="v6"||!e)&&l8.test(t))}function p8(t,e){if(!n8.test(t))return!1;try{const[a]=t.split(".");if(!a)return!1;const r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),l=JSON.parse(atob(r));return!(typeof l!="object"||l===null||"typ"in l&&l?.typ!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function g8(t,e){return!!((e==="v4"||!e)&&o8.test(t)||(e==="v6"||!e)&&c8.test(t))}class Aa extends He{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const u=this._getOrReturnCtx(e);return he(u,{code:oe.invalid_type,expected:me.string,received:u.parsedType}),Ae}const r=new xn;let l;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:oe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="max")e.data.length>u.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:oe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="length"){const d=e.data.length>u.value,h=e.data.length<u.value;(d||h)&&(l=this._getOrReturnCtx(e,l),d?he(l,{code:oe.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&he(l,{code:oe.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),r.dirty())}else if(u.kind==="email")s8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"email",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="emoji")cp||(cp=new RegExp(r8,"u")),cp.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"emoji",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="uuid")e8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"uuid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="nanoid")t8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"nanoid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid")Kz.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cuid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid2")Xz.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cuid2",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="ulid")Wz.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"ulid",code:oe.invalid_string,message:u.message}),r.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),he(l,{validation:"url",code:oe.invalid_string,message:u.message}),r.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"regex",code:oe.invalid_string,message:u.message}),r.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),r.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:{startsWith:u.value},message:u.message}),r.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:{endsWith:u.value},message:u.message}),r.dirty()):u.kind==="datetime"?iT(u).test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:"datetime",message:u.message}),r.dirty()):u.kind==="date"?f8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:"date",message:u.message}),r.dirty()):u.kind==="time"?h8(u).test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:oe.invalid_string,validation:"time",message:u.message}),r.dirty()):u.kind==="duration"?a8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"duration",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="ip"?m8(e.data,u.version)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"ip",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="jwt"?p8(e.data,u.alg)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"jwt",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="cidr"?g8(e.data,u.version)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cidr",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="base64"?u8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"base64",code:oe.invalid_string,message:u.message}),r.dirty()):u.kind==="base64url"?d8.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"base64url",code:oe.invalid_string,message:u.message}),r.dirty()):tt.assertNever(u);return{status:r.value,value:e.data}}_regex(e,a,r){return this.refinement(l=>e.test(l),{validation:a,code:oe.invalid_string,...we.errToObj(r)})}_addCheck(e){return new Aa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...we.errToObj(e)})}url(e){return this._addCheck({kind:"url",...we.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...we.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...we.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...we.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...we.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...we.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...we.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...we.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...we.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...we.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...we.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...we.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...we.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...we.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...we.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...we.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a?.position,...we.errToObj(a?.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...we.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...we.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...we.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...we.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...we.errToObj(a)})}nonempty(e){return this.min(1,we.errToObj(e))}trim(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Aa.create=t=>new Aa({checks:[],typeName:Oe.ZodString,coerce:t?.coerce??!1,...Be(t)});function v8(t,e){const a=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,l=a>r?a:r,u=Number.parseInt(t.toFixed(l).replace(".","")),d=Number.parseInt(e.toFixed(l).replace(".",""));return u%d/10**l}class cr extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const u=this._getOrReturnCtx(e);return he(u,{code:oe.invalid_type,expected:me.number,received:u.parsedType}),Ae}let r;const l=new xn;for(const u of this._def.checks)u.kind==="int"?tt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:oe.invalid_type,expected:"integer",received:"float",message:u.message}),l.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="multipleOf"?v8(e.data,u.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:oe.not_finite,message:u.message}),l.dirty()):tt.assertNever(u);return{status:l.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,we.toString(a))}gt(e,a){return this.setLimit("min",e,!1,we.toString(a))}lte(e,a){return this.setLimit("max",e,!0,we.toString(a))}lt(e,a){return this.setLimit("max",e,!1,we.toString(a))}setLimit(e,a,r,l){return new cr({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:r,message:we.toString(l)}]})}_addCheck(e){return new cr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:we.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:we.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tt.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(a===null||r.value>a)&&(a=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(a)&&Number.isFinite(e)}}cr.create=t=>new cr({checks:[],typeName:Oe.ZodNumber,coerce:t?.coerce||!1,...Be(t)});class ur extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const l=new xn;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:oe.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):tt.assertNever(u);return{status:l.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return he(a,{code:oe.invalid_type,expected:me.bigint,received:a.parsedType}),Ae}gte(e,a){return this.setLimit("min",e,!0,we.toString(a))}gt(e,a){return this.setLimit("min",e,!1,we.toString(a))}lte(e,a){return this.setLimit("max",e,!0,we.toString(a))}lt(e,a){return this.setLimit("max",e,!1,we.toString(a))}setLimit(e,a,r,l){return new ur({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:r,message:we.toString(l)}]})}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}ur.create=t=>new ur({checks:[],typeName:Oe.ZodBigInt,coerce:t?.coerce??!1,...Be(t)});class Yl extends He{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.boolean,received:r.parsedType}),Ae}return kn(e.data)}}Yl.create=t=>new Yl({typeName:Oe.ZodBoolean,coerce:t?.coerce||!1,...Be(t)});class ci extends He{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const u=this._getOrReturnCtx(e);return he(u,{code:oe.invalid_type,expected:me.date,received:u.parsedType}),Ae}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return he(u,{code:oe.invalid_date}),Ae}const r=new xn;let l;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:oe.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),r.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:oe.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),r.dirty()):tt.assertNever(u);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ci({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:we.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:we.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}ci.create=t=>new ci({checks:[],coerce:t?.coerce||!1,typeName:Oe.ZodDate,...Be(t)});class Ad extends He{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.symbol,received:r.parsedType}),Ae}return kn(e.data)}}Ad.create=t=>new Ad({typeName:Oe.ZodSymbol,...Be(t)});class Jl extends He{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.undefined,received:r.parsedType}),Ae}return kn(e.data)}}Jl.create=t=>new Jl({typeName:Oe.ZodUndefined,...Be(t)});class Zl extends He{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.null,received:r.parsedType}),Ae}return kn(e.data)}}Zl.create=t=>new Zl({typeName:Oe.ZodNull,...Be(t)});class jo extends He{constructor(){super(...arguments),this._any=!0}_parse(e){return kn(e.data)}}jo.create=t=>new jo({typeName:Oe.ZodAny,...Be(t)});class Yr extends He{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kn(e.data)}}Yr.create=t=>new Yr({typeName:Oe.ZodUnknown,...Be(t)});class js extends He{_parse(e){const a=this._getOrReturnCtx(e);return he(a,{code:oe.invalid_type,expected:me.never,received:a.parsedType}),Ae}}js.create=t=>new js({typeName:Oe.ZodNever,...Be(t)});class Od extends He{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.void,received:r.parsedType}),Ae}return kn(e.data)}}Od.create=t=>new Od({typeName:Oe.ZodVoid,...Be(t)});class Da extends He{_parse(e){const{ctx:a,status:r}=this._processInputParams(e),l=this._def;if(a.parsedType!==me.array)return he(a,{code:oe.invalid_type,expected:me.array,received:a.parsedType}),Ae;if(l.exactLength!==null){const d=a.data.length>l.exactLength.value,h=a.data.length<l.exactLength.value;(d||h)&&(he(a,{code:d?oe.too_big:oe.too_small,minimum:h?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),r.dirty())}if(l.minLength!==null&&a.data.length<l.minLength.value&&(he(a,{code:oe.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),r.dirty()),l.maxLength!==null&&a.data.length>l.maxLength.value&&(he(a,{code:oe.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),r.dirty()),a.common.async)return Promise.all([...a.data].map((d,h)=>l.type._parseAsync(new Qa(a,d,a.path,h)))).then(d=>xn.mergeArray(r,d));const u=[...a.data].map((d,h)=>l.type._parseSync(new Qa(a,d,a.path,h)));return xn.mergeArray(r,u)}get element(){return this._def.type}min(e,a){return new Da({...this._def,minLength:{value:e,message:we.toString(a)}})}max(e,a){return new Da({...this._def,maxLength:{value:e,message:we.toString(a)}})}length(e,a){return new Da({...this._def,exactLength:{value:e,message:we.toString(a)}})}nonempty(e){return this.min(1,e)}}Da.create=(t,e)=>new Da({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Be(e)});function eo(t){if(t instanceof Pt){const e={};for(const a in t.shape){const r=t.shape[a];e[a]=$a.create(eo(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof Da?new Da({...t._def,type:eo(t.element)}):t instanceof $a?$a.create(eo(t.unwrap())):t instanceof fr?fr.create(eo(t.unwrap())):t instanceof Ga?Ga.create(t.items.map(e=>eo(e))):t}class Pt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=tt.objectKeys(e);return this._cached={shape:e,keys:a},this._cached}_parse(e){if(this._getType(e)!==me.object){const v=this._getOrReturnCtx(e);return he(v,{code:oe.invalid_type,expected:me.object,received:v.parsedType}),Ae}const{status:r,ctx:l}=this._processInputParams(e),{shape:u,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const v in l.data)d.includes(v)||h.push(v);const p=[];for(const v of d){const y=u[v],_=l.data[v];p.push({key:{status:"valid",value:v},value:y._parse(new Qa(l,_,l.path,v)),alwaysSet:v in l.data})}if(this._def.catchall instanceof js){const v=this._def.unknownKeys;if(v==="passthrough")for(const y of h)p.push({key:{status:"valid",value:y},value:{status:"valid",value:l.data[y]}});else if(v==="strict")h.length>0&&(he(l,{code:oe.unrecognized_keys,keys:h}),r.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const v=this._def.catchall;for(const y of h){const _=l.data[y];p.push({key:{status:"valid",value:y},value:v._parse(new Qa(l,_,l.path,y)),alwaysSet:y in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const v=[];for(const y of p){const _=await y.key,C=await y.value;v.push({key:_,value:C,alwaysSet:y.alwaysSet})}return v}).then(v=>xn.mergeObjectSync(r,v)):xn.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(e){return we.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,r)=>{const l=this._def.errorMap?.(a,r).message??r.defaultError;return a.code==="unrecognized_keys"?{message:we.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const a={};for(const r of tt.objectKeys(e))e[r]&&this.shape[r]&&(a[r]=this.shape[r]);return new Pt({...this._def,shape:()=>a})}omit(e){const a={};for(const r of tt.objectKeys(this.shape))e[r]||(a[r]=this.shape[r]);return new Pt({...this._def,shape:()=>a})}deepPartial(){return eo(this)}partial(e){const a={};for(const r of tt.objectKeys(this.shape)){const l=this.shape[r];e&&!e[r]?a[r]=l:a[r]=l.optional()}return new Pt({...this._def,shape:()=>a})}required(e){const a={};for(const r of tt.objectKeys(this.shape))if(e&&!e[r])a[r]=this.shape[r];else{let u=this.shape[r];for(;u instanceof $a;)u=u._def.innerType;a[r]=u}return new Pt({...this._def,shape:()=>a})}keyof(){return oT(tt.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:js.create(),typeName:Oe.ZodObject,...Be(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:js.create(),typeName:Oe.ZodObject,...Be(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:js.create(),typeName:Oe.ZodObject,...Be(e)});class Kl extends He{_parse(e){const{ctx:a}=this._processInputParams(e),r=this._def.options;function l(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return a.common.issues.push(...h.ctx.common.issues),h.result;const d=u.map(h=>new Ln(h.ctx.common.issues));return he(a,{code:oe.invalid_union,unionErrors:d}),Ae}if(a.common.async)return Promise.all(r.map(async u=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await u._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const p of r){const v={...a,common:{...a.common,issues:[]},parent:null},y=p._parseSync({data:a.data,path:a.path,parent:v});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return a.common.issues.push(...u.ctx.common.issues),u.result;const h=d.map(p=>new Ln(p));return he(a,{code:oe.invalid_union,unionErrors:h}),Ae}}get options(){return this._def.options}}Kl.create=(t,e)=>new Kl({options:t,typeName:Oe.ZodUnion,...Be(e)});const ps=t=>t instanceof ec?ps(t.schema):t instanceof Pa?ps(t.innerType()):t instanceof tc?[t.value]:t instanceof dr?t.options:t instanceof nc?tt.objectValues(t.enum):t instanceof ac?ps(t._def.innerType):t instanceof Jl?[void 0]:t instanceof Zl?[null]:t instanceof $a?[void 0,...ps(t.unwrap())]:t instanceof fr?[null,...ps(t.unwrap())]:t instanceof mv||t instanceof rc?ps(t.unwrap()):t instanceof sc?ps(t._def.innerType):[];class pf extends He{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==me.object)return he(a,{code:oe.invalid_type,expected:me.object,received:a.parsedType}),Ae;const r=this.discriminator,l=a.data[r],u=this.optionsMap.get(l);return u?a.common.async?u._parseAsync({data:a.data,path:a.path,parent:a}):u._parseSync({data:a.data,path:a.path,parent:a}):(he(a,{code:oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,r){const l=new Map;for(const u of a){const d=ps(u.shape[e]);if(!d.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const h of d){if(l.has(h))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(h)}`);l.set(h,u)}}return new pf({typeName:Oe.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:l,...Be(r)})}}function ug(t,e){const a=ys(t),r=ys(e);if(t===e)return{valid:!0,data:t};if(a===me.object&&r===me.object){const l=tt.objectKeys(e),u=tt.objectKeys(t).filter(h=>l.indexOf(h)!==-1),d={...t,...e};for(const h of u){const p=ug(t[h],e[h]);if(!p.valid)return{valid:!1};d[h]=p.data}return{valid:!0,data:d}}else if(a===me.array&&r===me.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let u=0;u<t.length;u++){const d=t[u],h=e[u],p=ug(d,h);if(!p.valid)return{valid:!1};l.push(p.data)}return{valid:!0,data:l}}else return a===me.date&&r===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xl extends He{_parse(e){const{status:a,ctx:r}=this._processInputParams(e),l=(u,d)=>{if(lg(u)||lg(d))return Ae;const h=ug(u.value,d.value);return h.valid?((cg(u)||cg(d))&&a.dirty(),{status:a.value,value:h.data}):(he(r,{code:oe.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xl.create=(t,e,a)=>new Xl({left:t,right:e,typeName:Oe.ZodIntersection,...Be(a)});class Ga extends He{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return he(r,{code:oe.invalid_type,expected:me.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return he(r,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const u=[...r.data].map((d,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new Qa(r,d,r.path,h)):null}).filter(d=>!!d);return r.common.async?Promise.all(u).then(d=>xn.mergeArray(a,d)):xn.mergeArray(a,u)}get items(){return this._def.items}rest(e){return new Ga({...this._def,rest:e})}}Ga.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:t,typeName:Oe.ZodTuple,rest:null,...Be(e)})};class Wl extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return he(r,{code:oe.invalid_type,expected:me.object,received:r.parsedType}),Ae;const l=[],u=this._def.keyType,d=this._def.valueType;for(const h in r.data)l.push({key:u._parse(new Qa(r,h,r.path,h)),value:d._parse(new Qa(r,r.data[h],r.path,h)),alwaysSet:h in r.data});return r.common.async?xn.mergeObjectAsync(a,l):xn.mergeObjectSync(a,l)}get element(){return this._def.valueType}static create(e,a,r){return a instanceof He?new Wl({keyType:e,valueType:a,typeName:Oe.ZodRecord,...Be(r)}):new Wl({keyType:Aa.create(),valueType:e,typeName:Oe.ZodRecord,...Be(a)})}}class Dd extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return he(r,{code:oe.invalid_type,expected:me.map,received:r.parsedType}),Ae;const l=this._def.keyType,u=this._def.valueType,d=[...r.data.entries()].map(([h,p],v)=>({key:l._parse(new Qa(r,h,r.path,[v,"key"])),value:u._parse(new Qa(r,p,r.path,[v,"value"]))}));if(r.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of d){const v=await p.key,y=await p.value;if(v.status==="aborted"||y.status==="aborted")return Ae;(v.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(v.value,y.value)}return{status:a.value,value:h}})}else{const h=new Map;for(const p of d){const v=p.key,y=p.value;if(v.status==="aborted"||y.status==="aborted")return Ae;(v.status==="dirty"||y.status==="dirty")&&a.dirty(),h.set(v.value,y.value)}return{status:a.value,value:h}}}}Dd.create=(t,e,a)=>new Dd({valueType:e,keyType:t,typeName:Oe.ZodMap,...Be(a)});class ui extends He{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return he(r,{code:oe.invalid_type,expected:me.set,received:r.parsedType}),Ae;const l=this._def;l.minSize!==null&&r.data.size<l.minSize.value&&(he(r,{code:oe.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),a.dirty()),l.maxSize!==null&&r.data.size>l.maxSize.value&&(he(r,{code:oe.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),a.dirty());const u=this._def.valueType;function d(p){const v=new Set;for(const y of p){if(y.status==="aborted")return Ae;y.status==="dirty"&&a.dirty(),v.add(y.value)}return{status:a.value,value:v}}const h=[...r.data.values()].map((p,v)=>u._parse(new Qa(r,p,r.path,v)));return r.common.async?Promise.all(h).then(p=>d(p)):d(h)}min(e,a){return new ui({...this._def,minSize:{value:e,message:we.toString(a)}})}max(e,a){return new ui({...this._def,maxSize:{value:e,message:we.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}ui.create=(t,e)=>new ui({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Be(e)});class fo extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==me.function)return he(a,{code:oe.invalid_type,expected:me.function,received:a.parsedType}),Ae;function r(h,p){return Md({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Ed(),_o].filter(v=>!!v),issueData:{code:oe.invalid_arguments,argumentsError:p}})}function l(h,p){return Md({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Ed(),_o].filter(v=>!!v),issueData:{code:oe.invalid_return_type,returnTypeError:p}})}const u={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof No){const h=this;return kn(async function(...p){const v=new Ln([]),y=await h._def.args.parseAsync(p,u).catch(A=>{throw v.addIssue(r(p,A)),v}),_=await Reflect.apply(d,this,y);return await h._def.returns._def.type.parseAsync(_,u).catch(A=>{throw v.addIssue(l(_,A)),v})})}else{const h=this;return kn(function(...p){const v=h._def.args.safeParse(p,u);if(!v.success)throw new Ln([r(p,v.error)]);const y=Reflect.apply(d,this,v.data),_=h._def.returns.safeParse(y,u);if(!_.success)throw new Ln([l(y,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fo({...this._def,args:Ga.create(e).rest(Yr.create())})}returns(e){return new fo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,r){return new fo({args:e||Ga.create([]).rest(Yr.create()),returns:a||Yr.create(),typeName:Oe.ZodFunction,...Be(r)})}}class ec extends He{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}ec.create=(t,e)=>new ec({getter:t,typeName:Oe.ZodLazy,...Be(e)});class tc extends He{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return he(a,{received:a.data,code:oe.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}tc.create=(t,e)=>new tc({value:t,typeName:Oe.ZodLiteral,...Be(e)});function oT(t,e){return new dr({values:t,typeName:Oe.ZodEnum,...Be(e)})}class dr extends He{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),r=this._def.values;return he(a,{expected:tt.joinValues(r),received:a.parsedType,code:oe.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const a=this._getOrReturnCtx(e),r=this._def.values;return he(a,{received:a.data,code:oe.invalid_enum_value,options:r}),Ae}return kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return dr.create(e,{...this._def,...a})}exclude(e,a=this._def){return dr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...a})}}dr.create=oT;class nc extends He{_parse(e){const a=tt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const l=tt.objectValues(a);return he(r,{expected:tt.joinValues(l),received:r.parsedType,code:oe.invalid_type}),Ae}if(this._cache||(this._cache=new Set(tt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=tt.objectValues(a);return he(r,{received:r.data,code:oe.invalid_enum_value,options:l}),Ae}return kn(e.data)}get enum(){return this._def.values}}nc.create=(t,e)=>new nc({values:t,typeName:Oe.ZodNativeEnum,...Be(e)});class No extends He{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==me.promise&&a.common.async===!1)return he(a,{code:oe.invalid_type,expected:me.promise,received:a.parsedType}),Ae;const r=a.parsedType===me.promise?a.data:Promise.resolve(a.data);return kn(r.then(l=>this._def.type.parseAsync(l,{path:a.path,errorMap:a.common.contextualErrorMap})))}}No.create=(t,e)=>new No({type:t,typeName:Oe.ZodPromise,...Be(e)});class Pa extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:r}=this._processInputParams(e),l=this._def.effect||null,u={addIssue:d=>{he(r,d),d.fatal?a.abort():a.dirty()},get path(){return r.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(r.data,u);if(r.common.async)return Promise.resolve(d).then(async h=>{if(a.value==="aborted")return Ae;const p=await this._def.schema._parseAsync({data:h,path:r.path,parent:r});return p.status==="aborted"?Ae:p.status==="dirty"||a.value==="dirty"?so(p.value):p});{if(a.value==="aborted")return Ae;const h=this._def.schema._parseSync({data:d,path:r.path,parent:r});return h.status==="aborted"?Ae:h.status==="dirty"||a.value==="dirty"?so(h.value):h}}if(l.type==="refinement"){const d=h=>{const p=l.refinement(h,u);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return h.status==="aborted"?Ae:(h.status==="dirty"&&a.dirty(),d(h.value),{status:a.value,value:h.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>h.status==="aborted"?Ae:(h.status==="dirty"&&a.dirty(),d(h.value).then(()=>({status:a.value,value:h.value}))))}if(l.type==="transform")if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!li(d))return Ae;const h=l.transform(d.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>li(d)?Promise.resolve(l.transform(d.value,u)).then(h=>({status:a.value,value:h})):Ae);tt.assertNever(l)}}Pa.create=(t,e,a)=>new Pa({schema:t,typeName:Oe.ZodEffects,effect:e,...Be(a)});Pa.createWithPreprocess=(t,e,a)=>new Pa({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Be(a)});class $a extends He{_parse(e){return this._getType(e)===me.undefined?kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$a.create=(t,e)=>new $a({innerType:t,typeName:Oe.ZodOptional,...Be(e)});class fr extends He{_parse(e){return this._getType(e)===me.null?kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:Oe.ZodNullable,...Be(e)});class ac extends He{_parse(e){const{ctx:a}=this._processInputParams(e);let r=a.data;return a.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}ac.create=(t,e)=>new ac({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class sc extends He{_parse(e){const{ctx:a}=this._processInputParams(e),r={...a,common:{...a.common,issues:[]}},l=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gl(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ln(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}sc.create=(t,e)=>new sc({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class Rd extends He{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return he(r,{code:oe.invalid_type,expected:me.nan,received:r.parsedType}),Ae}return{status:"valid",value:e.data}}}Rd.create=t=>new Rd({typeName:Oe.ZodNaN,...Be(t)});const y8=Symbol("zod_brand");class mv extends He{_parse(e){const{ctx:a}=this._processInputParams(e),r=a.data;return this._def.type._parse({data:r,path:a.path,parent:a})}unwrap(){return this._def.type}}class pc extends He{_parse(e){const{status:a,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ae:u.status==="dirty"?(a.dirty(),so(u.value)):this._def.out._parseAsync({data:u.value,path:r.path,parent:r})})();{const l=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ae:l.status==="dirty"?(a.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:r.path,parent:r})}}static create(e,a){return new pc({in:e,out:a,typeName:Oe.ZodPipeline})}}class rc extends He{_parse(e){const a=this._def.innerType._parse(e),r=l=>(li(l)&&(l.value=Object.freeze(l.value)),l);return Gl(a)?a.then(l=>r(l)):r(a)}unwrap(){return this._def.innerType}}rc.create=(t,e)=>new rc({innerType:t,typeName:Oe.ZodReadonly,...Be(e)});function p1(t,e){const a=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof a=="string"?{message:a}:a}function pv(t,e={},a){return t?jo.create().superRefine((r,l)=>{const u=t(r);if(u instanceof Promise)return u.then(d=>{if(!d){const h=p1(e,r),p=h.fatal??a??!0;l.addIssue({code:"custom",...h,fatal:p})}});if(!u){const d=p1(e,r),h=d.fatal??a??!0;l.addIssue({code:"custom",...d,fatal:h})}}):jo.create()}const x8={object:Pt.lazycreate};var Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const b8=(t,e={message:`Input not instance of ${t.name}`})=>pv(a=>a instanceof t,e),Ma=Aa.create,gv=cr.create,w8=Rd.create,S8=ur.create,vv=Yl.create,_8=ci.create,j8=Ad.create,N8=Jl.create,lT=Zl.create,Pd=jo.create,C8=Yr.create,T8=js.create,k8=Od.create,cT=Da.create,yv=Pt.create,E8=Pt.strictCreate,xv=Kl.create,M8=pf.create,A8=Xl.create,O8=Ga.create,uT=Wl.create,D8=Dd.create,R8=ui.create,P8=fo.create,L8=ec.create,z8=tc.create,dT=dr.create,I8=nc.create,U8=No.create,g1=Pa.create,B8=$a.create,V8=fr.create,F8=Pa.createWithPreprocess,q8=pc.create,H8=()=>Ma().optional(),$8=()=>gv().optional(),Q8=()=>vv().optional(),G8={string:(t=>Aa.create({...t,coerce:!0})),number:(t=>cr.create({...t,coerce:!0})),boolean:(t=>Yl.create({...t,coerce:!0})),bigint:(t=>ur.create({...t,coerce:!0})),date:(t=>ci.create({...t,coerce:!0}))},Y8=Ae,J8=Object.freeze(Object.defineProperty({__proto__:null,BRAND:y8,DIRTY:so,EMPTY_PATH:Zz,INVALID:Ae,NEVER:Y8,OK:kn,ParseStatus:xn,Schema:He,ZodAny:jo,ZodArray:Da,ZodBigInt:ur,ZodBoolean:Yl,ZodBranded:mv,ZodCatch:sc,ZodDate:ci,ZodDefault:ac,ZodDiscriminatedUnion:pf,ZodEffects:Pa,ZodEnum:dr,ZodError:Ln,get ZodFirstPartyTypeKind(){return Oe},ZodFunction:fo,ZodIntersection:Xl,ZodIssueCode:oe,ZodLazy:ec,ZodLiteral:tc,ZodMap:Dd,ZodNaN:Rd,ZodNativeEnum:nc,ZodNever:js,ZodNull:Zl,ZodNullable:fr,ZodNumber:cr,ZodObject:Pt,ZodOptional:$a,ZodParsedType:me,ZodPipeline:pc,ZodPromise:No,ZodReadonly:rc,ZodRecord:Wl,ZodSchema:He,ZodSet:ui,ZodString:Aa,ZodSymbol:Ad,ZodTransformer:Pa,ZodTuple:Ga,ZodType:He,ZodUndefined:Jl,ZodUnion:Kl,ZodUnknown:Yr,ZodVoid:Od,addIssueToContext:he,any:Pd,array:cT,bigint:S8,boolean:vv,coerce:G8,custom:pv,date:_8,datetimeRegex:iT,defaultErrorMap:_o,discriminatedUnion:M8,effect:g1,enum:dT,function:P8,getErrorMap:Ed,getParsedType:ys,instanceof:b8,intersection:A8,isAborted:lg,isAsync:Gl,isDirty:cg,isValid:li,late:x8,lazy:L8,literal:z8,makeIssue:Md,map:D8,nan:w8,nativeEnum:I8,never:T8,null:lT,nullable:V8,number:gv,object:yv,get objectUtil(){return og},oboolean:Q8,onumber:$8,optional:B8,ostring:H8,pipeline:q8,preprocess:F8,promise:U8,quotelessJson:Yz,record:uT,set:R8,setErrorMap:Jz,strictObject:E8,string:Ma,symbol:j8,transformer:g1,tuple:O8,undefined:N8,union:xv,unknown:C8,get util(){return tt},void:k8},Symbol.toStringTag,{value:"Module"})),Rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function qt(t,e){return e.includes(t.columnType)}function Z8(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const K8=xv([Ma(),gv(),vv(),lT()]),X8=xv([K8,uT(Pd()),cT(Pd())]),W8=pv(t=>t instanceof Buffer);function fT(t,e){const a=e?.zodInstance??J8,r=e?.coerce??{};let l;return Z8(t)&&(l=t.enumValues.length?a.enum(t.enumValues):a.string()),l||(qt(t,["PgGeometry","PgPointTuple"])?l=a.tuple([a.number(),a.number()]):qt(t,["PgGeometryObject","PgPointObject"])?l=a.object({x:a.number(),y:a.number()}):qt(t,["PgHalfVector","PgVector"])?(l=a.array(a.number()),l=t.dimensions?l.length(t.dimensions):l):qt(t,["PgLine"])?l=a.tuple([a.number(),a.number(),a.number()]):qt(t,["PgLineABC"])?l=a.object({a:a.number(),b:a.number(),c:a.number()}):qt(t,["PgArray"])?(l=a.array(fT(t.baseColumn,a)),l=t.size?l.length(t.size):l):t.dataType==="array"?l=a.array(a.any()):t.dataType==="number"?l=eI(t,a,r):t.dataType==="bigint"?l=tI(t,a,r):t.dataType==="boolean"?l=r===!0||r.boolean?a.coerce.boolean():a.boolean():t.dataType==="date"?l=r===!0||r.date?a.coerce.date():a.date():t.dataType==="string"?l=nI(t,a,r):t.dataType==="json"?l=X8:t.dataType==="custom"?l=a.any():t.dataType==="buffer"&&(l=W8)),l||(l=a.any()),l}function eI(t,e,a){let r=t.getSQLType().includes("unsigned"),l,u,d=!1;qt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(l=r?0:Rt.INT8_MIN,u=r?Rt.INT8_UNSIGNED_MAX:Rt.INT8_MAX,d=!0):qt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(l=r?0:Rt.INT16_MIN,u=r?Rt.INT16_UNSIGNED_MAX:Rt.INT16_MAX,d=!0):qt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(l=r?0:Rt.INT24_MIN,u=r?Rt.INT24_UNSIGNED_MAX:Rt.INT24_MAX,d=qt(t,["MySqlMediumInt","SingleStoreMediumInt"])):qt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(l=r?0:Rt.INT32_MIN,u=r?Rt.INT32_UNSIGNED_MAX:Rt.INT32_MAX,d=!0):qt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(l=r?0:Rt.INT48_MIN,u=r?Rt.INT48_UNSIGNED_MAX:Rt.INT48_MAX):qt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||qt(t,["MySqlSerial","SingleStoreSerial"]),l=r?0:Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,d=!0):qt(t,["MySqlYear","SingleStoreYear"])?(l=1901,u=2155,d=!0):(l=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER);let h=a===!0||a?.number?e.coerce.number():e.number();return h=h.min(l).max(u),d?h.int():h}function tI(t,e,a){const r=t.getSQLType().includes("unsigned"),l=r?0n:Rt.INT64_MIN,u=r?Rt.INT64_UNSIGNED_MAX:Rt.INT64_MAX;return(a===!0||a?.bigint?e.coerce.bigint():e.bigint()).min(l).max(u)}function nI(t,e,a){if(qt(t,["PgUUID"]))return e.string().uuid();let r,l,u=!1;qt(t,["PgVarchar","SQLiteText"])?r=t.length:qt(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Rt.INT16_UNSIGNED_MAX:qt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Rt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Rt.INT24_UNSIGNED_MAX:t.textType==="text"?r=Rt.INT16_UNSIGNED_MAX:r=Rt.INT8_UNSIGNED_MAX),qt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,u=!0),qt(t,["PgBinaryVector"])&&(l=/^[01]+$/,r=t.dimensions);let d=a===!0||a?.string?e.coerce.string():e.string();return d=l?d.regex(l):d,r&&u?d.length(r):r?d.max(r):d}function hT(t){return ZC(t)?YL(t):JL(t)}function mT(t,e,a,r){const l={};for(const[u,d]of Object.entries(t)){if(!pn(d,Ql)&&!pn(d,Ut)&&!pn(d,Ut.Aliased)&&typeof d=="object"){const _=ZC(d)||GL(d)?hT(d):d;l[u]=mT(_,e[u]??{},a,r);continue}const h=e[u];if(h!==void 0&&typeof h!="function"){l[u]=h;continue}const p=pn(d,Ql)?d:void 0,v=p?fT(p,r):Pd(),y=typeof h=="function"?h(v):v;a.never(p)||(l[u]=y,p&&(a.nullable(p)&&(l[u]=l[u].nullable()),a.optional(p)&&(l[u]=l[u].optional())))}return yv(l)}const aI={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Sa=(t,e)=>{const a=hT(t);return mT(a,{},aI)},sI=aa("users",{id:$t("id").primaryKey().default(Qt`gen_random_uuid()`),username:Te("username").notNull().unique(),password:Te("password").notNull()}),Ja=aa("cases",{id:na("id").primaryKey(),title:Te("title").notNull(),caseNumber:$t("case_number",{length:100}).notNull().unique(),client:Te("client").notNull(),status:Te("status").notNull().default("active"),description:Te("description"),nextDeadline:Mt("next_deadline"),representationType:$t("representation_type",{length:20}).default("plaintiff"),opposingParty:Te("opposing_party"),caseTheory:Te("case_theory"),keyIssues:Te("key_issues").array(),winningFactors:Te("winning_factors"),trappingFactors:Te("trapping_factors"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Mt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),rI=aa("discovery_files",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),batesStart:$t("bates_start",{length:50}).notNull(),batesEnd:$t("bates_end",{length:50}).notNull(),fileName:Te("file_name").notNull(),fileType:$t("file_type",{length:50}).notNull(),filePath:Te("file_path"),fileSize:Tn("file_size"),uploadDate:Mt("upload_date").default(Qt`CURRENT_TIMESTAMP`).notNull(),processedDate:Mt("processed_date"),relevance:$t("relevance",{length:20}).default("medium"),tags:Te("tags").array(),summary:Te("summary"),extractedText:Te("extracted_text"),extractedDates:_s("extracted_dates"),metadata:_s("metadata"),favorableFindings:Te("favorable_findings").array(),adverseFindings:Te("adverse_findings").array(),inconsistencies:Te("inconsistencies").array(),actionItems:Te("action_items").array(),sourceType:$t("source_type",{length:20}).default("upload"),cloudFileId:Te("cloud_file_id"),cloudProvider:$t("cloud_provider",{length:20}),driveUrl:Te("drive_url")}),iI=aa("cloud_folders",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),provider:$t("provider",{length:20}).notNull(),folderId:Te("folder_id").notNull(),folderName:Te("folder_name").notNull(),lastSynced:Mt("last_synced"),batesPrefix:$t("bates_prefix",{length:20}).notNull(),nextBatesNumber:Tn("next_bates_number").default(1).notNull(),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),oI=aa("timeline_events",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),eventDate:Mt("event_date").notNull(),title:Te("title").notNull(),description:Te("description"),eventType:$t("event_type",{length:50}).notNull(),linkedBates:Te("linked_bates").array(),metadata:_s("metadata"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),lI=aa("deposition_prep",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),depositionType:$t("deposition_type",{length:50}).notNull(),targetWitness:Te("target_witness"),questions:_s("questions").notNull(),strategy:Te("strategy"),linkedEvidence:Te("linked_evidence").array(),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Mt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),pT=aa("conversations",{id:na("id").primaryKey(),caseId:Tn("case_id").references(()=>Ja.id,{onDelete:"cascade"}),title:Te("title").notNull(),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),cI=aa("messages",{id:na("id").primaryKey(),conversationId:Tn("conversation_id").notNull().references(()=>pT.id,{onDelete:"cascade"}),role:Te("role").notNull(),content:Te("content").notNull(),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()}),uI=aa("suggested_filings",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),filingType:Te("filing_type").notNull(),title:Te("title").notNull(),description:Te("description"),deadline:Mt("deadline"),priority:$t("priority",{length:20}).default("medium"),status:$t("status",{length:20}).default("pending"),reasoning:Te("reasoning"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});Sa(sI).pick({username:!0,password:!0});Sa(Ja).omit({id:!0,createdAt:!0,updatedAt:!0});const dI=yv({title:Ma().min(1,"Title is required"),caseNumber:Ma().min(1,"Case number is required"),client:Ma().min(1,"Client name is required"),description:Ma().optional(),representationType:dT(["plaintiff","defendant","petitioner","respondent"]).optional(),opposingParty:Ma().optional(),caseTheory:Ma().optional(),winningFactors:Ma().optional(),trappingFactors:Ma().optional()});Sa(rI).omit({id:!0,uploadDate:!0,processedDate:!0});Sa(oI).omit({id:!0,createdAt:!0});Sa(lI).omit({id:!0,createdAt:!0,updatedAt:!0});Sa(pT).omit({id:!0,createdAt:!0});Sa(cI).omit({id:!0,createdAt:!0});Sa(uI).omit({id:!0,createdAt:!0});Sa(iI).omit({id:!0,createdAt:!0,lastSynced:!0});const fI=aa("legal_briefs",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),title:Te("title").notNull(),briefType:$t("brief_type",{length:50}).notNull(),content:Te("content").notNull(),summary:Te("summary"),precedents:_s("precedents"),keyArguments:_s("key_arguments"),status:$t("status",{length:20}).default("draft"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),updatedAt:Mt("updated_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});Sa(fI).omit({id:!0,createdAt:!0,updatedAt:!0});aa("news_articles",{id:na("id").primaryKey(),url:Te("url").notNull().unique(),title:Te("title").notNull(),summary:Te("summary"),imageUrl:Te("image_url"),publishedAt:Mt("published_at"),featured:tT("featured").default(!1),source:$t("source",{length:100}).default("wtpnews"),fetchedAt:Mt("fetched_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});const hI=aa("call_recordings",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),roomName:Te("room_name").notNull(),recordingId:Te("recording_id"),recordingUrl:Te("recording_url"),transcriptId:Te("transcript_id"),transcriptUrl:Te("transcript_url"),transcriptText:Te("transcript_text"),duration:Tn("duration"),participants:_s("participants"),status:$t("status",{length:20}).default("recording"),startedAt:Mt("started_at").default(Qt`CURRENT_TIMESTAMP`).notNull(),endedAt:Mt("ended_at"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});Sa(hI).omit({id:!0,createdAt:!0});const mI=aa("trial_prep_sessions",{id:na("id").primaryKey(),caseId:Tn("case_id").notNull().references(()=>Ja.id,{onDelete:"cascade"}),sessionMode:$t("session_mode",{length:50}).notNull(),transcript:_s("transcript").notNull(),allTips:Te("all_tips").array(),allWarnings:Te("all_warnings").array(),allSuggestedResponses:Te("all_suggested_responses").array(),notes:Te("notes"),duration:Tn("duration"),createdAt:Mt("created_at").default(Qt`CURRENT_TIMESTAMP`).notNull()});Sa(mI).omit({id:!0,createdAt:!0});function pI(){const{toast:t}=Wn(),e=La(),[a,r]=x.useState(""),[l,u]=x.useState("all"),[d,h]=x.useState(!1),[p,v]=x.useState({title:"",caseNumber:"",client:"",description:"",representationType:"plaintiff",opposingParty:"",caseTheory:"",winningFactors:"",trappingFactors:""}),{data:y=[],isLoading:_}=gn({queryKey:["cases"],queryFn:Lg}),C=Xn({mutationFn:bj,onSuccess:()=>{e.invalidateQueries({queryKey:["cases"]}),h(!1),v({title:"",caseNumber:"",client:"",description:"",representationType:"plaintiff",opposingParty:"",caseTheory:"",winningFactors:"",trappingFactors:""}),t({title:"Case created successfully"})},onError:()=>{t({title:"Failed to create case",variant:"destructive"})}}),A=Xn({mutationFn:wj,onSuccess:()=>{e.invalidateQueries({queryKey:["cases"]}),t({title:"Case deleted successfully"})},onError:()=>{t({title:"Failed to delete case",variant:"destructive"})}}),M=k=>{k.preventDefault();try{const D=dI.parse(p);C.mutate(D)}catch(D){D instanceof Ln&&t({title:D.errors[0].message,variant:"destructive"})}},j=y.filter(k=>{const D=k.title.toLowerCase().includes(a.toLowerCase())||k.caseNumber.toLowerCase().includes(a.toLowerCase())||k.client.toLowerCase().includes(a.toLowerCase()),P=l==="all"||k.status===l;return D&&P}),T=k=>k?new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return o.jsx(ws,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"My Cases"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all your legal cases in one place"})]}),o.jsxs(zg,{open:d,onOpenChange:h,children:[o.jsx(Ig,{asChild:!0,children:o.jsxs(ce,{className:"gap-2","data-testid":"button-new-case",children:[o.jsx(Kr,{className:"w-4 h-4"}),"New Case"]})}),o.jsxs(Jd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Zd,{children:[o.jsx(Kd,{children:"Create New Case"}),o.jsx(Xd,{children:"Enter case details. The more context you provide, the better AI can analyze evidence."})]}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"title",children:"Case Title *"}),o.jsx(pt,{id:"title",placeholder:"e.g., Smith v. Jones",value:p.title,onChange:k=>v({...p,title:k.target.value}),"data-testid":"input-case-title"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"caseNumber",children:"Case Number *"}),o.jsx(pt,{id:"caseNumber",placeholder:"e.g., CV-2024-12345",value:p.caseNumber,onChange:k=>v({...p,caseNumber:k.target.value}),"data-testid":"input-case-number"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"client",children:"Our Client *"}),o.jsx(pt,{id:"client",placeholder:"e.g., John Smith",value:p.client,onChange:k=>v({...p,client:k.target.value}),"data-testid":"input-client"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"representationType",children:"We Represent"}),o.jsxs(wo,{value:p.representationType,onValueChange:k=>v({...p,representationType:k}),children:[o.jsx(ii,{"data-testid":"select-representation-type",children:o.jsx(So,{})}),o.jsxs(oi,{children:[o.jsx(Ht,{value:"plaintiff",children:"Plaintiff"}),o.jsx(Ht,{value:"defendant",children:"Defendant"}),o.jsx(Ht,{value:"petitioner",children:"Petitioner"}),o.jsx(Ht,{value:"respondent",children:"Respondent"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"opposingParty",children:"Opposing Party"}),o.jsx(pt,{id:"opposingParty",placeholder:"e.g., ABC Corporation",value:p.opposingParty,onChange:k=>v({...p,opposingParty:k.target.value}),"data-testid":"input-opposing-party"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"description",children:"Case Description"}),o.jsx(ao,{id:"description",placeholder:"Brief description of the case...",value:p.description,onChange:k=>v({...p,description:k.target.value}),"data-testid":"input-description"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"caseTheory",children:"Case Theory"}),o.jsx(ao,{id:"caseTheory",placeholder:"What are we trying to prove? What's our theory of the case?",value:p.caseTheory,onChange:k=>v({...p,caseTheory:k.target.value}),"data-testid":"input-case-theory",className:"min-h-[80px]"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"winningFactors",children:"Winning Evidence to Find"}),o.jsx(ao,{id:"winningFactors",placeholder:"What evidence would help win this case?",value:p.winningFactors,onChange:k=>v({...p,winningFactors:k.target.value}),"data-testid":"input-winning-factors",className:"min-h-[80px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"trappingFactors",children:"Inconsistencies to Find"}),o.jsx(ao,{id:"trappingFactors",placeholder:"What inconsistencies should we look for in opposing side's story?",value:p.trappingFactors,onChange:k=>v({...p,trappingFactors:k.target.value}),"data-testid":"input-trapping-factors",className:"min-h-[80px]"})]})]}),o.jsxs(_j,{children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsx(ce,{type:"submit",disabled:C.isPending,"data-testid":"button-create-case",children:C.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Case"})]})]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(pt,{placeholder:"Search cases by title, number, or client...",className:"pl-10",value:a,onChange:k=>r(k.target.value),"data-testid":"input-search-cases"})]}),o.jsxs(wo,{value:l,onValueChange:u,children:[o.jsxs(ii,{className:"w-full sm:w-40","data-testid":"select-status-filter",children:[o.jsx(U_,{className:"w-4 h-4 mr-2"}),o.jsx(So,{placeholder:"Filter"})]}),o.jsxs(oi,{children:[o.jsx(Ht,{value:"all",children:"All Cases"}),o.jsx(Ht,{value:"active",children:"Active"}),o.jsx(Ht,{value:"closed",children:"Closed"}),o.jsx(Ht,{value:"pending",children:"Pending"})]})]})]}),_?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(an,{className:"w-8 h-8 animate-spin text-primary"})}):j.length===0?o.jsx(qe,{className:"border-dashed",children:o.jsxs(Ke,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(P_,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:a||l!=="all"?"No cases found":"No cases yet"}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-4",children:a||l!=="all"?"Try adjusting your search or filter criteria":"Create your first case to start managing your legal matters"}),!a&&l==="all"&&o.jsxs(ce,{onClick:()=>h(!0),"data-testid":"button-create-first-case",children:[o.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Create Your First Case"]})]})}):o.jsx("div",{className:"grid gap-4",children:j.map(k=>o.jsx(qe,{className:"hover:shadow-md transition-shadow","data-testid":`card-case-${k.id}`,children:o.jsx(Ke,{className:"p-4 md:p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Xt,{variant:"outline",className:"font-mono text-xs",children:k.caseNumber}),o.jsx(Xt,{className:k.status==="active"?"bg-green-600":"bg-slate-500",children:k.status})]}),o.jsx(ma,{href:`/app/case/${k.id}`,children:o.jsx("h3",{className:"text-lg font-semibold text-primary hover:underline cursor-pointer truncate","data-testid":`link-case-${k.id}`,children:k.title})}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Client: ",k.client]}),k.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:k.description})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"hidden md:flex flex-col items-end text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(ya,{className:"w-4 h-4"}),o.jsxs("span",{children:[k.filesCount||0," files"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[o.jsx(Eg,{className:"w-4 h-4"}),o.jsx("span",{children:T(k.lastActivity)})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ma,{href:`/app/case/${k.id}`,children:o.jsx(ce,{variant:"outline",size:"sm","data-testid":`button-open-case-${k.id}`,children:"Open Case"})}),o.jsxs(BP,{children:[o.jsx(VP,{asChild:!0,children:o.jsx(ce,{variant:"ghost",size:"icon","data-testid":`button-case-menu-${k.id}`,children:o.jsx(z_,{className:"w-4 h-4"})})}),o.jsx(sC,{align:"end",children:o.jsxs(aN,{children:[o.jsx(sN,{asChild:!0,children:o.jsxs(rC,{className:"text-destructive",onSelect:D=>D.preventDefault(),children:[o.jsx(lc,{className:"w-4 h-4 mr-2"}),"Delete Case"]})}),o.jsxs(qg,{children:[o.jsxs(Hg,{children:[o.jsx(Qg,{children:"Delete Case"}),o.jsxs(Gg,{children:['Are you sure you want to delete "',k.title,'"? This action cannot be undone.']})]}),o.jsxs($g,{children:[o.jsx(Jg,{children:"Cancel"}),o.jsx(Yg,{onClick:()=>A.mutate(k.id.toString()),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})})]})]})]})]})})},k.id))}),o.jsxs("div",{className:"text-sm text-muted-foreground text-center pt-4",children:["Showing ",j.length," of ",y.length," cases"]})]})})}function gI(){const[t,e]=x.useState(new Date),{data:a=[]}=gn({queryKey:["cases"],queryFn:Lg}),r=a.filter(T=>T.nextDeadline),l=T=>new Date(T.getFullYear(),T.getMonth()+1,0).getDate(),u=T=>new Date(T.getFullYear(),T.getMonth(),1).getDay(),d=T=>T.toLocaleDateString("en-US",{month:"long",year:"numeric"}),h=()=>{e(new Date(t.getFullYear(),t.getMonth()-1,1))},p=()=>{e(new Date(t.getFullYear(),t.getMonth()+1,1))},v=l(t),y=u(t),_=new Date,C=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=r.filter(T=>new Date(T.nextDeadline)>new Date).sort((T,k)=>new Date(T.nextDeadline).getTime()-new Date(k.nextDeadline).getTime()).slice(0,5),M=T=>new Date(T).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),j=T=>{const k=new Date;k.setHours(0,0,0,0);const D=new Date(T);D.setHours(0,0,0,0);const P=Math.ceil((D.getTime()-k.getTime())/(1e3*60*60*24));return P===0?"Today":P===1?"Tomorrow":`${P} days`};return o.jsx(ws,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Calendar"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Track deadlines and important dates for your cases"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(qe,{children:[o.jsxs(mt,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(bt,{className:"text-lg font-medium",children:d(t)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ce,{variant:"outline",size:"icon",onClick:h,"data-testid":"button-prev-month",children:o.jsx(aA,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"outline",size:"sm",onClick:()=>e(new Date),"data-testid":"button-today",children:"Today"}),o.jsx(ce,{variant:"outline",size:"icon",onClick:p,"data-testid":"button-next-month",children:o.jsx(ir,{className:"w-4 h-4"})})]})]}),o.jsx(Ke,{children:o.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[C.map(T=>o.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:T},T)),Array.from({length:y}).map((T,k)=>o.jsx("div",{className:"aspect-square"},`empty-${k}`)),Array.from({length:v}).map((T,k)=>{const D=k+1,P=D===_.getDate()&&t.getMonth()===_.getMonth()&&t.getFullYear()===_.getFullYear(),z=new Date(t.getFullYear(),t.getMonth(),D).toDateString(),U=r.some(F=>new Date(F.nextDeadline).toDateString()===z);return o.jsxs("div",{className:`
                          aspect-square flex flex-col items-center justify-center rounded-lg text-sm
                          ${P?"bg-primary text-primary-foreground font-bold":"hover:bg-muted"}
                          ${U&&!P?"bg-accent/20":""}
                        `,"data-testid":`calendar-day-${D}`,children:[o.jsx("span",{children:D}),U&&o.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-0.5 ${P?"bg-primary-foreground":"bg-accent"}`})]},D)})]})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Mg,{className:"w-5 h-5 text-orange-500"}),"Upcoming Deadlines"]}),o.jsx(Kt,{children:"Next 5 deadlines across all cases"})]}),o.jsx(Ke,{className:"space-y-4",children:A.length===0?o.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[o.jsx(Eg,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No upcoming deadlines"})]}):A.map(T=>o.jsx(ma,{href:`/app/case/${T.id}`,children:o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":`deadline-case-${T.id}`,children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(qd,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:T.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:M(T.nextDeadline)})]}),o.jsx(Xt,{variant:j(T.nextDeadline)==="Today"?"destructive":"secondary",className:"flex-shrink-0",children:j(T.nextDeadline)})]})},T.id))})]}),o.jsxs(qe,{children:[o.jsx(mt,{children:o.jsxs(bt,{className:"text-lg flex items-center gap-2",children:[o.jsx(oc,{className:"w-5 h-5 text-primary"}),"Quick Stats"]})}),o.jsxs(Ke,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Active Cases"}),o.jsx("span",{className:"font-semibold",children:a.filter(T=>T.status==="active").length})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Cases with Deadlines"}),o.jsx("span",{className:"font-semibold",children:r.length})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Documents"}),o.jsx("span",{className:"font-semibold",children:a.reduce((T,k)=>T+(k.filesCount||0),0)})]})]})]})]})]})]})})}async function vI(){const t=await fetch("/api/news/latest");if(!t.ok)throw new Error("Failed to fetch news");return t.json()}function yI(){const[t,e]=x.useState(""),{data:a=[],isLoading:r}=gn({queryKey:["legal-news"],queryFn:vI}),l=[{name:"Westlaw",description:"Comprehensive legal research database",icon:ad,url:"https://www.westlaw.com"},{name:"LexisNexis",description:"Legal, news, and business information",icon:ya,url:"https://www.lexisnexis.com"},{name:"Google Scholar",description:"Free case law and legal articles",icon:Xr,url:"https://scholar.google.com"},{name:"PACER",description:"Federal court records",icon:F_,url:"https://pacer.uscourts.gov"},{name:"Cornell LII",description:"Free legal information institute",icon:ad,url:"https://www.law.cornell.edu"},{name:"Justia",description:"Free case law and legal information",icon:ya,url:"https://www.justia.com"}],u=["Summary judgment standards","Breach of contract elements","Discovery motion practice","Expert witness qualifications","Attorney-client privilege"],d=h=>{h.preventDefault(),t.trim()&&window.open(`https://scholar.google.com/scholar?q=${encodeURIComponent(t)}`,"_blank")};return o.jsx(ws,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Legal Research"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Access legal databases, case law, and stay updated with legal news"})]}),o.jsx(qe,{children:o.jsxs(Ke,{className:"pt-6",children:[o.jsxs("form",{onSubmit:d,className:"flex gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(pt,{placeholder:"Search case law, statutes, or legal topics...",className:"pl-11 h-12 text-lg",value:t,onChange:h=>e(h.target.value),"data-testid":"input-legal-search"})]}),o.jsx(ce,{type:"submit",size:"lg",className:"px-8","data-testid":"button-search",children:"Search"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Recent:"}),u.map(h=>o.jsx(Xt,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/80",onClick:()=>e(h),children:h},h))]})]})}),o.jsxs(Wd,{defaultValue:"databases",className:"space-y-4",children:[o.jsxs(uc,{children:[o.jsxs(jn,{value:"databases",className:"gap-2",children:[o.jsx(ad,{className:"w-4 h-4"}),"Databases"]}),o.jsxs(jn,{value:"news",className:"gap-2",children:[o.jsx(Sp,{className:"w-4 h-4"}),"Legal News"]})]}),o.jsx(Nn,{value:"databases",className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(h=>o.jsx(qe,{className:"hover:shadow-md transition-shadow cursor-pointer","data-testid":`card-database-${h.name.toLowerCase().replace(/\s/g,"-")}`,children:o.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:o.jsx(Ke,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(h.icon,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold",children:h.name}),o.jsx(rr,{className:"w-4 h-4 text-muted-foreground"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description})]})]})})})},h.name))})}),o.jsx(Nn,{value:"news",className:"space-y-4",children:r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(an,{className:"w-8 h-8 animate-spin text-primary"})}):a.length===0?o.jsx(qe,{className:"border-dashed",children:o.jsxs(Ke,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Sp,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No news articles available"})]})}):o.jsx("div",{className:"grid gap-4",children:a.map(h=>o.jsx(qe,{className:"hover:shadow-md transition-shadow","data-testid":`card-news-${h.id}`,children:o.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:o.jsx(Ke,{className:"pt-6",children:o.jsx("div",{className:"flex items-start gap-4",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Xt,{variant:"outline",children:h.source}),h.featured&&o.jsx(Xt,{className:"bg-accent",children:"Featured"})]}),o.jsx("h3",{className:"font-semibold hover:text-primary transition-colors",children:h.title}),h.summary&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:h.summary}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qd,{className:"w-3 h-3"}),new Date(h.publishedAt).toLocaleDateString()]}),o.jsx(rr,{className:"w-3 h-3"})]})]})})})})},h.id))})})]})]})})}var gf="Switch",[xI]=Co(gf),[bI,wI]=xI(gf),gT=x.forwardRef((t,e)=>{const{__scopeSwitch:a,name:r,checked:l,defaultChecked:u,required:d,disabled:h,value:p="on",onCheckedChange:v,form:y,..._}=t,[C,A]=x.useState(null),M=Ot(e,P=>A(P)),j=x.useRef(!1),T=C?y||!!C.closest("form"):!0,[k,D]=Bl({prop:l,defaultProp:u??!1,onChange:v,caller:gf});return o.jsxs(bI,{scope:a,checked:k,disabled:h,children:[o.jsx(wt.button,{type:"button",role:"switch","aria-checked":k,"aria-required":d,"data-state":bT(k),"data-disabled":h?"":void 0,disabled:h,value:p,..._,ref:M,onClick:Ue(t.onClick,P=>{D(z=>!z),T&&(j.current=P.isPropagationStopped(),j.current||P.stopPropagation())})}),T&&o.jsx(xT,{control:C,bubbles:!j.current,name:r,value:p,checked:k,required:d,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});gT.displayName=gf;var vT="SwitchThumb",yT=x.forwardRef((t,e)=>{const{__scopeSwitch:a,...r}=t,l=wI(vT,a);return o.jsx(wt.span,{"data-state":bT(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:e})});yT.displayName=vT;var SI="SwitchBubbleInput",xT=x.forwardRef(({__scopeSwitch:t,control:e,checked:a,bubbles:r=!0,...l},u)=>{const d=x.useRef(null),h=Ot(d,u),p=iC(a),v=aE(e);return x.useEffect(()=>{const y=d.current;if(!y)return;const _=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(_,"checked").set;if(p!==a&&A){const M=new Event("click",{bubbles:r});A.call(y,a),y.dispatchEvent(M)}},[p,a,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:h,style:{...l.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xT.displayName=SI;function bT(t){return t?"checked":"unchecked"}var wT=gT,_I=yT;const Ur=x.forwardRef(({className:t,...e},a)=>o.jsx(wT,{className:_e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:a,children:o.jsx(_I,{className:_e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Ur.displayName=wT.displayName;var jI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NI=jI.reduce((t,e)=>{const a=Yd(`Primitive.${e}`),r=x.forwardRef((l,u)=>{const{asChild:d,...h}=l,p=d?a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...h,ref:u})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),CI="Separator",v1="horizontal",TI=["horizontal","vertical"],ST=x.forwardRef((t,e)=>{const{decorative:a,orientation:r=v1,...l}=t,u=kI(r)?r:v1,h=a?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return o.jsx(NI.div,{"data-orientation":u,...h,...l,ref:e})});ST.displayName=CI;function kI(t){return TI.includes(t)}var _T=ST;const to=x.forwardRef(({className:t,orientation:e="horizontal",decorative:a=!0,...r},l)=>o.jsx(_T,{ref:l,decorative:a,orientation:e,className:_e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));to.displayName=_T.displayName;const dg={profile:{firstName:"",lastName:"",email:"",firm:"",barNumber:""},notifications:{deadlineReminders:!0,documentUpdates:!0,aiComplete:!0,collabUpdates:!1,reminderTiming:"3days"},appearance:{theme:"system",compactMode:!1,animations:!0}},jT="casebuddy_settings";function EI(){try{const t=localStorage.getItem(jT);if(t)return{...dg,...JSON.parse(t)}}catch(t){console.error("Failed to load settings:",t)}return dg}function MI(t){try{localStorage.setItem(jT,JSON.stringify(t))}catch(e){console.error("Failed to save settings:",e)}}function AI(){const{toast:t}=Wn(),{logout:e}=Oo(),[,a]=Ns(),[r,l]=x.useState(!1),[u,d]=x.useState(dg),[h,p]=x.useState(""),[v,y]=x.useState(""),[_,C]=x.useState(""),[A,M]=x.useState(!1);x.useEffect(()=>{d(EI())},[]);const j=(z,U)=>{d(F=>({...F,profile:{...F.profile,[z]:U}}))},T=(z,U)=>{d(F=>({...F,notifications:{...F.notifications,[z]:U}}))},k=(z,U)=>{d(F=>({...F,appearance:{...F.appearance,[z]:U}}))},D=()=>{MI(u),l(!0),t({title:"Settings saved successfully"}),setTimeout(()=>l(!1),2e3)},P=async z=>{if(z.preventDefault(),!h||!v){t({title:"Missing fields",description:"Please enter your current and new password.",variant:"destructive"});return}if(v!==_){t({title:"Passwords do not match",description:"Confirm your new password before saving.",variant:"destructive"});return}M(!0);try{await ro("POST","/api/auth/change-password",{currentPassword:h,newPassword:v}),t({title:"Password updated",description:"Please sign in again with your new password."}),p(""),y(""),C(""),await e(),a("/login")}catch(U){const F=typeof U?.message=="string"?U.message.replace(/^\d+:\s*/,""):"Password update failed.";t({title:"Password update failed",description:F,variant:"destructive"})}finally{M(!1)}};return o.jsx(ws,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold text-primary","data-testid":"text-page-title",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and application preferences"})]}),o.jsxs(Wd,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(uc,{className:"grid w-full md:w-auto md:inline-grid grid-cols-2 md:grid-cols-4 gap-1",children:[o.jsxs(jn,{value:"profile",className:"gap-2",children:[o.jsx(q_,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),o.jsxs(jn,{value:"notifications",className:"gap-2",children:[o.jsx(R_,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]}),o.jsxs(jn,{value:"appearance",className:"gap-2",children:[o.jsx(uO,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Appearance"})]}),o.jsxs(jn,{value:"integrations",className:"gap-2",children:[o.jsx(Ha,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Integrations"})]})]}),o.jsxs(Nn,{value:"profile",className:"space-y-6",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsx(bt,{children:"Profile Information"}),o.jsx(Kt,{children:"Update your personal information and contact details"})]}),o.jsxs(Ke,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"firstName",children:"First Name"}),o.jsx(pt,{id:"firstName",placeholder:"John",value:u.profile.firstName,onChange:z=>j("firstName",z.target.value),"data-testid":"input-first-name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"lastName",children:"Last Name"}),o.jsx(pt,{id:"lastName",placeholder:"Doe",value:u.profile.lastName,onChange:z=>j("lastName",z.target.value),"data-testid":"input-last-name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"email",children:"Email"}),o.jsx(pt,{id:"email",type:"email",placeholder:"john.doe@lawfirm.com",value:u.profile.email,onChange:z=>j("email",z.target.value),"data-testid":"input-email"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"firm",children:"Law Firm / Organization"}),o.jsx(pt,{id:"firm",placeholder:"Smith & Associates LLP",value:u.profile.firm,onChange:z=>j("firm",z.target.value),"data-testid":"input-firm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"barNumber",children:"Bar Number"}),o.jsx(pt,{id:"barNumber",placeholder:"123456",value:u.profile.barNumber,onChange:z=>j("barNumber",z.target.value),"data-testid":"input-bar-number"})]})]})]}),o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(AO,{className:"w-5 h-5"}),"Security"]}),o.jsx(Kt,{children:"Manage your account security settings"})]}),o.jsx(Ke,{className:"space-y-4",children:o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"current-password",children:"Current Password"}),o.jsx(pt,{id:"current-password",type:"password",value:h,onChange:z=>p(z.target.value),placeholder:"Enter current password",autoComplete:"current-password","data-testid":"input-current-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"new-password",children:"New Password"}),o.jsx(pt,{id:"new-password",type:"password",value:v,onChange:z=>y(z.target.value),placeholder:"Enter new password",autoComplete:"new-password","data-testid":"input-new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"confirm-password",children:"Confirm New Password"}),o.jsx(pt,{id:"confirm-password",type:"password",value:_,onChange:z=>C(z.target.value),placeholder:"Confirm new password",autoComplete:"new-password","data-testid":"input-confirm-password"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ce,{type:"submit",variant:"outline",disabled:A,"data-testid":"button-change-password",children:A?"Updating...":"Change Password"})})]})})]})]}),o.jsxs(Nn,{value:"notifications",className:"space-y-6",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsx(bt,{children:"Email Notifications"}),o.jsx(Kt,{children:"Choose what notifications you want to receive"})]}),o.jsxs(Ke,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"Deadline Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified before important deadlines"})]}),o.jsx(Ur,{checked:u.notifications.deadlineReminders,onCheckedChange:z=>T("deadlineReminders",z),"data-testid":"switch-deadline-reminders"})]}),o.jsx(to,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"Document Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when documents are processed"})]}),o.jsx(Ur,{checked:u.notifications.documentUpdates,onCheckedChange:z=>T("documentUpdates",z),"data-testid":"switch-document-updates"})]}),o.jsx(to,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"AI Analysis Complete"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when AI analysis is done"})]}),o.jsx(Ur,{checked:u.notifications.aiComplete,onCheckedChange:z=>T("aiComplete",z),"data-testid":"switch-ai-complete"})]}),o.jsx(to,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"Collaboration Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"When team members make changes to cases"})]}),o.jsx(Ur,{checked:u.notifications.collabUpdates,onCheckedChange:z=>T("collabUpdates",z),"data-testid":"switch-collab-updates"})]})]})]}),o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsx(bt,{children:"Reminder Timing"}),o.jsx(Kt,{children:"When to send deadline reminders"})]}),o.jsx(Ke,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{children:"Send reminders"}),o.jsxs(wo,{value:u.notifications.reminderTiming,onValueChange:z=>T("reminderTiming",z),children:[o.jsx(ii,{"data-testid":"select-reminder-timing",children:o.jsx(So,{})}),o.jsxs(oi,{children:[o.jsx(Ht,{value:"1day",children:"1 day before"}),o.jsx(Ht,{value:"3days",children:"3 days before"}),o.jsx(Ht,{value:"1week",children:"1 week before"}),o.jsx(Ht,{value:"2weeks",children:"2 weeks before"})]})]})]})})]})]}),o.jsx(Nn,{value:"appearance",className:"space-y-6",children:o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsx(bt,{children:"Theme"}),o.jsx(Kt,{children:"Customize the appearance of the application"})]}),o.jsxs(Ke,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{children:"Color Theme"}),o.jsxs(wo,{value:u.appearance.theme,onValueChange:z=>k("theme",z),children:[o.jsx(ii,{"data-testid":"select-theme",children:o.jsx(So,{})}),o.jsxs(oi,{children:[o.jsx(Ht,{value:"light",children:"Light"}),o.jsx(Ht,{value:"dark",children:"Dark"}),o.jsx(Ht,{value:"system",children:"System"})]})]})]}),o.jsx(to,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"Compact Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce spacing for more content on screen"})]}),o.jsx(Ur,{checked:u.appearance.compactMode,onCheckedChange:z=>k("compactMode",z),"data-testid":"switch-compact-mode"})]}),o.jsx(to,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ct,{children:"Show Animations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable interface animations and transitions"})]}),o.jsx(Ur,{checked:u.appearance.animations,onCheckedChange:z=>k("animations",z),"data-testid":"switch-animations"})]})]})]})}),o.jsxs(Nn,{value:"integrations",className:"space-y-6",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(Ha,{className:"w-5 h-5"}),"Google Drive"]}),o.jsx(Kt,{children:"Connect your Google Drive for document syncing"})]}),o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:o.jsx(Ha,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Google Drive"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync documents from your Drive folders"})]})]}),o.jsx(ce,{variant:"outline","data-testid":"button-connect-drive",children:"Connect"})]})})]}),o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(VA,{className:"w-5 h-5"}),"Configured Services"]}),o.jsx(Kt,{children:"Status of integrated services"})]}),o.jsxs(Ke,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Daily.co Video"}),o.jsx("p",{className:"text-sm text-green-600",children:"Video conferencing is configured"})]}),o.jsx(Fr,{className:"w-5 h-5 text-green-600"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Google Gemini AI"}),o.jsx("p",{className:"text-sm text-green-600",children:"AI features are configured"})]}),o.jsx(Fr,{className:"w-5 h-5 text-green-600"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"PostgreSQL Database"}),o.jsx("p",{className:"text-sm text-green-600",children:"Database is connected"})]}),o.jsx(Fr,{className:"w-5 h-5 text-green-600"})]})]})]}),o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(SA,{className:"w-5 h-5"}),"Data Management"]}),o.jsx(Kt,{children:"Export or manage your data"})]}),o.jsx(Ke,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Export All Data"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Download all your cases and documents"})]}),o.jsx(ce,{variant:"outline","data-testid":"button-export-all",children:"Export"})]})})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(ce,{onClick:D,className:"gap-2","data-testid":"button-save-settings",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Fr,{className:"w-4 h-4"}),"Saved"]}):o.jsxs(o.Fragment,{children:[o.jsx(_p,{className:"w-4 h-4"}),"Save Changes"]})})})]})})}function OI(){const{toast:t}=Wn(),e=La(),[a,r]=x.useState(null),[l,u]=x.useState(!1),[d,h]=x.useState(!1),[p,v]=x.useState(!0),[y,_]=x.useState("cross-examination"),[C,A]=x.useState(!1),[M,j]=x.useState([]),[T,k]=x.useState(""),[D,P]=x.useState(!1),[z,U]=x.useState(""),[F,Y]=x.useState(!0),[Z,de]=x.useState(""),[pe,Ne]=x.useState(null),[Pe,rt]=x.useState([]),[ge,De]=x.useState([]),[B,ne]=x.useState([]),[X,Ee]=x.useState("simulation"),Se=x.useRef(null),nt=x.useRef(null),le=x.useRef(null),{data:g=[]}=gn({queryKey:["/api/cases"]}),{data:S=[]}=gn({queryKey:[`/api/cases/${a}/trial-prep-sessions`],enabled:!!a}),w=Xn({mutationFn:async te=>ro("POST",`/api/cases/${a}/trial-prep-sessions`,te),onSuccess:()=>{e.invalidateQueries({queryKey:[`/api/cases/${a}/trial-prep-sessions`]}),t({title:"Session Saved",description:"Your practice session has been saved."})}}),O=Xn({mutationFn:async te=>ro("DELETE",`/api/trial-prep-sessions/${te}`),onSuccess:()=>{e.invalidateQueries({queryKey:[`/api/cases/${a}/trial-prep-sessions`]}),t({title:"Session Deleted"})}}),E=g.find(te=>te.id===a);x.useEffect(()=>{le.current?.scrollIntoView({behavior:"smooth"})},[M]),x.useEffect(()=>{const te=typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window);if(Y(te),!te)return()=>{};const se=window.webkitSpeechRecognition||window.SpeechRecognition;return Se.current=new se,Se.current.continuous=!0,Se.current.interimResults=!0,Se.current.lang="en-US",Se.current.onresult=Qe=>{let Le="",St="";for(let gt=Qe.resultIndex;gt<Qe.results.length;gt++){const zn=Qe.results[gt][0].transcript;Qe.results[gt].isFinal?Le+=zn:St+=zn}k(St),Le&&(J(Le),k(""))},Se.current.onerror=Qe=>{console.error("Speech recognition error:",Qe.error),Qe.error!=="no-speech"&&t({title:"Voice Recognition Error",description:"There was an issue with voice recognition. Please try again.",variant:"destructive"})},Se.current.onend=()=>{if(l&&C)try{Se.current.start()}catch{console.log("Recognition already started")}},()=>{Se.current&&Se.current.stop(),window.speechSynthesis&&window.speechSynthesis.cancel()}},[l,C]);const V=x.useCallback(te=>{if(!p||!window.speechSynthesis)return;window.speechSynthesis.cancel();const se=new SpeechSynthesisUtterance(te);se.rate=.9,se.pitch=1;const Le=window.speechSynthesis.getVoices().find(St=>St.lang.startsWith("en-")&&St.name.includes("Google"));Le&&(se.voice=Le),se.onstart=()=>h(!0),se.onend=()=>h(!1),se.onerror=()=>h(!1),nt.current=se,window.speechSynthesis.speak(se)},[p]),J=async te=>{if(!E||!C)return;const se={id:`user-${Date.now()}`,role:"user",content:te,timestamp:new Date};j(Qe=>[...Qe,se]),P(!0);try{const Qe=await fetch("/api/trial-simulation/respond",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:E.id,mode:y,userStatement:te,conversationHistory:M.slice(-10)})});if(!Qe.ok)throw new Error("Failed to get response");const Le=await Qe.json();Le.suggestedResponses&&ne(gt=>[...new Set([...gt,...Le.suggestedResponses])]),Le.warnings&&De(gt=>[...new Set([...gt,...Le.warnings])]),Le.tips&&rt(gt=>[...new Set([...gt,...Le.tips])]);const St={id:`opponent-${Date.now()}`,role:"opponent",content:Le.opponentResponse,timestamp:new Date,coaching:{suggestedResponses:Le.suggestedResponses||[],warnings:Le.warnings||[],tips:Le.tips||[]}};j(gt=>[...gt,St]),V(Le.opponentResponse)}catch(Qe){console.error("Simulation error:",Qe),t({title:"Simulation Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{P(!1)}},G=async()=>{if(!E){t({title:"Select a Case",description:"Please select a case to begin the trial simulation.",variant:"destructive"});return}A(!0),j([]),rt([]),De([]),ne([]),Ne(new Date);try{const te=await fetch("/api/trial-simulation/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:E.id,mode:y})});if(!te.ok)throw new Error("Failed to start simulation");const se=await te.json();se.suggestedResponses&&ne(se.suggestedResponses),se.warnings&&De(se.warnings),se.tips&&rt(se.tips);const Qe={id:`system-${Date.now()}`,role:"system",content:se.introduction,timestamp:new Date},Le={id:`opponent-${Date.now()+1}`,role:"opponent",content:se.openingStatement,timestamp:new Date,coaching:{suggestedResponses:se.suggestedResponses||[],warnings:se.warnings||[],tips:se.tips||[]}};j([Qe,Le]),V(se.openingStatement),t({title:"Simulation Started",description:`${y.replace("-"," ")} simulation is now active. Click the microphone to speak!`})}catch(te){console.error("Failed to start simulation:",te),t({title:"Failed to Start",description:"Could not initialize the trial simulation.",variant:"destructive"}),A(!1)}},ie=()=>{A(!1),u(!1),Se.current&&Se.current.stop(),window.speechSynthesis&&window.speechSynthesis.cancel()},fe=async()=>{if(!E||M.length===0)return;const te=pe?Math.floor((new Date().getTime()-pe.getTime())/1e3):null;await w.mutateAsync({sessionMode:y,transcript:M,allTips:Pe,allWarnings:ge,allSuggestedResponses:B,notes:Z,duration:te})},Me=te=>{const se=te||{caseTitle:E?.title,caseNumber:E?.caseNumber,sessionMode:y,transcript:M.map(gt=>({role:gt.role,content:gt.content,timestamp:gt.timestamp})),allTips:Pe,allWarnings:ge,allSuggestedResponses:B,notes:Z,exportedAt:new Date().toISOString()},Qe=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),Le=URL.createObjectURL(Qe),St=document.createElement("a");St.href=Le,St.download=`trial-prep-${E?.caseNumber||"session"}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(Le)},dt=()=>{if(!Se.current){t({title:"Voice Not Supported",description:"Your browser doesn't support voice recognition. Please use Chrome or type your responses.",variant:"destructive"});return}if(l)Se.current.stop(),u(!1);else try{Se.current.start(),u(!0),t({title:"Listening...",description:"Speak now. Your voice is being recorded."})}catch(te){console.log("Recognition error:",te)}},Wt=()=>{ie(),j([]),k(""),rt([]),De([]),ne([]),de("")},Dt=M.filter(te=>te.coaching).slice(-1)[0]?.coaching;return o.jsx(ws,{children:o.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-serif font-bold flex items-center gap-3",children:[o.jsx(oc,{className:"w-8 h-8 text-primary"}),"Trial Preparation & Simulation"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Practice your case with AI-powered voice simulation and real-time coaching"})]}),o.jsx("div",{className:"flex gap-2",children:C&&M.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(ce,{variant:"outline",onClick:fe,disabled:w.isPending,children:[o.jsx(_p,{className:"w-4 h-4 mr-2"}),"Save Session"]}),o.jsxs(ce,{variant:"outline",onClick:()=>Me(),children:[o.jsx(xp,{className:"w-4 h-4 mr-2"}),"Export"]})]})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[o.jsxs(wo,{value:a?.toString()||"",onValueChange:te=>r(parseInt(te)),children:[o.jsx(ii,{className:"w-full md:w-[300px]","data-testid":"select-case",children:o.jsx(So,{placeholder:"Select a case to practice"})}),o.jsx(oi,{children:g.map(te=>o.jsxs(Ht,{value:te.id.toString(),children:[te.title," (",te.caseNumber,")"]},te.id))})]}),o.jsxs(wo,{value:y,onValueChange:te=>_(te),children:[o.jsx(ii,{className:"w-full md:w-[200px]","data-testid":"select-mode",children:o.jsx(So,{})}),o.jsxs(oi,{children:[o.jsx(Ht,{value:"cross-examination",children:"Cross-Examination"}),o.jsx(Ht,{value:"direct-examination",children:"Direct Examination"}),o.jsx(Ht,{value:"opening",children:"Opening Statement"}),o.jsx(Ht,{value:"closing",children:"Closing Argument"})]})]})]}),o.jsxs(Wd,{value:X,onValueChange:Ee,className:"w-full",children:[o.jsxs(uc,{className:"grid w-full grid-cols-3",children:[o.jsxs(jn,{value:"simulation",className:"flex items-center gap-2",children:[o.jsx(qr,{className:"w-4 h-4"}),"Simulation"]}),o.jsxs(jn,{value:"tips",className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"w-4 h-4"}),"Tips & Angles"]}),o.jsxs(jn,{value:"notes",className:"flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4"}),"Notes"]})]}),o.jsx(Nn,{value:"simulation",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:o.jsxs(qe,{children:[o.jsx(mt,{className:"pb-2",children:E&&o.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Xt,{variant:"outline",children:E.representationType||"Plaintiff"}),o.jsx("span",{className:"text-muted-foreground",children:"representing"}),o.jsx("span",{className:"font-medium",children:E.client})]}),E.opposingParty&&o.jsxs("p",{className:"text-muted-foreground",children:["vs. ",E.opposingParty]})]})}),o.jsx(Ke,{children:o.jsxs("div",{className:"bg-slate-900 rounded-lg min-h-[400px] flex flex-col",children:[o.jsx(Wr,{className:"flex-1 p-4",children:o.jsxs("div",{className:"space-y-4",children:[M.length===0&&!C&&o.jsxs("div",{className:"text-center py-16 text-slate-400",children:[o.jsx(qr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg mb-2",children:"Ready to Practice?"}),o.jsx("p",{className:"text-sm mb-4",children:"Select a case and simulation mode, then click Start Simulation"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Use your voice to speak your arguments - the AI will respond and coach you!"})]}),M.map(te=>o.jsxs("div",{className:`flex gap-3 ${te.role==="user"?"flex-row-reverse":""}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${te.role==="user"?"bg-primary text-primary-foreground":te.role==="opponent"?"bg-red-600 text-white":te.role==="coach"?"bg-amber-500 text-white":"bg-slate-600 text-white"}`,children:te.role==="user"?o.jsx(q_,{className:"w-4 h-4"}):te.role==="opponent"?o.jsx(Fl,{className:"w-4 h-4"}):te.role==="coach"?o.jsx(Lu,{className:"w-4 h-4"}):o.jsx(wp,{className:"w-4 h-4"})}),o.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${te.role==="user"?"bg-primary text-primary-foreground":te.role==="opponent"?"bg-slate-800 text-white border border-red-600/30":te.role==="coach"?"bg-amber-500/20 text-amber-100 border border-amber-500/30":"bg-slate-700 text-slate-200"}`,children:[o.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:te.role==="user"?"You (Speaking)":te.role==="opponent"?"Opposing Counsel":te.role==="coach"?"Coach":"System"}),o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:te.content})]})]},te.id)),T&&o.jsxs("div",{className:"flex gap-3 flex-row-reverse",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/50 flex items-center justify-center shrink-0",children:o.jsx(qr,{className:"w-4 h-4 text-white animate-pulse"})}),o.jsxs("div",{className:"max-w-[80%] rounded-lg p-3 bg-primary/30 text-white border border-primary/50",children:[o.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:"Listening..."}),o.jsx("p",{className:"text-sm italic",children:T})]})]}),D&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600/50 flex items-center justify-center shrink-0",children:o.jsx(an,{className:"w-4 h-4 text-white animate-spin"})}),o.jsx("div",{className:"rounded-lg p-3 bg-slate-800 text-slate-300",children:o.jsx("p",{className:"text-sm",children:"Opposing counsel is responding..."})})]}),o.jsx("div",{ref:le})]})}),o.jsxs("div",{className:"p-4 border-t border-slate-700",children:[o.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:C?o.jsxs(o.Fragment,{children:[o.jsx(ce,{size:"icon",variant:l?"default":"outline",className:`h-16 w-16 rounded-full transition-all ${l?"bg-red-500 hover:bg-red-600 animate-pulse scale-110":"border-2"}`,onClick:dt,disabled:!F,"data-testid":"button-toggle-mic",children:l?o.jsx(qr,{className:"w-8 h-8"}):o.jsx(B_,{className:"w-8 h-8"})}),o.jsx(ce,{size:"icon",variant:"outline",className:"h-10 w-10 rounded-full",onClick:()=>v(!p),"data-testid":"button-toggle-voice",children:p?o.jsx(qO,{className:"w-5 h-5"}):o.jsx($O,{className:"w-5 h-5"})}),o.jsx(ce,{size:"icon",variant:"outline",className:"h-10 w-10 rounded-full",onClick:Wt,"data-testid":"button-reset",children:o.jsx(SO,{className:"w-5 h-5"})}),o.jsxs(ce,{variant:"destructive",onClick:ie,className:"gap-2","data-testid":"button-stop-simulation",children:[o.jsx(fO,{className:"w-4 h-4"}),"End Session"]})]}):o.jsxs(ce,{size:"lg",onClick:G,disabled:!E,className:"gap-2","data-testid":"button-start-simulation",children:[o.jsx(vO,{className:"w-5 h-5"}),"Start Simulation"]})}),C&&o.jsxs("div",{className:"space-y-3",children:[l&&o.jsx("div",{className:"text-center text-green-400 text-sm animate-pulse",children:"Speak now - your voice is being captured..."}),!F&&o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-amber-500/20 border border-amber-500/30 rounded-lg text-amber-200 text-sm",children:[o.jsx(UA,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{children:"Voice recognition not supported. Use text input below or try Chrome browser."})]}),o.jsxs("form",{onSubmit:te=>{te.preventDefault(),z.trim()&&!D&&(J(z.trim()),U(""))},className:"flex gap-2",children:[o.jsx(pt,{value:z,onChange:te=>U(te.target.value),placeholder:"Or type your statement here...",className:"flex-1 bg-slate-800 border-slate-600 text-white placeholder:text-slate-400",disabled:D,"data-testid":"input-text-fallback"}),o.jsx(ce,{type:"submit",disabled:!z.trim()||D,size:"icon","data-testid":"button-send-text",children:o.jsx(Ag,{className:"w-4 h-4"})})]})]})]})]})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(Lu,{className:"w-5 h-5 text-amber-500"}),"Live Coaching"]}),o.jsx(Kt,{children:"AI suggestions based on your case and conversation"})]}),o.jsx(Ke,{className:"space-y-4",children:C?Dt?o.jsxs(o.Fragment,{children:[Dt.suggestedResponses.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[o.jsx(ir,{className:"w-4 h-4 text-green-500"}),"Suggested Responses"]}),o.jsx("div",{className:"space-y-2",children:Dt.suggestedResponses.map((te,se)=>o.jsxs("div",{className:"text-sm p-2 bg-green-500/10 border border-green-500/20 rounded-lg cursor-pointer hover:bg-green-500/20 transition-colors",onClick:()=>J(te),children:['"',te,'"']},se))})]}),Dt.warnings.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[o.jsx(Y0,{className:"w-4 h-4 text-red-500"}),"Watch Out"]}),o.jsx("div",{className:"space-y-2",children:Dt.warnings.map((te,se)=>o.jsx("div",{className:"text-sm p-2 bg-red-500/10 border border-red-500/20 rounded-lg",children:te},se))})]}),Dt.tips.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2 mb-2",children:[o.jsx(uA,{className:"w-4 h-4 text-blue-500"}),"Tips"]}),o.jsx("div",{className:"space-y-2",children:Dt.tips.map((te,se)=>o.jsx("div",{className:"text-sm p-2 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:te},se))})]})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx(an,{className:"w-6 h-6 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Waiting for conversation..."})]}):o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Start a simulation to receive real-time coaching"})})]}),E&&o.jsxs(qe,{children:[o.jsx(mt,{children:o.jsxs(bt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(fA,{className:"w-5 h-5 text-primary"}),"Case Strategy"]})}),o.jsxs(Ke,{className:"space-y-3 text-sm",children:[E.caseTheory&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-muted-foreground",children:"Theory:"}),o.jsx("p",{children:E.caseTheory})]}),E.winningFactors&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-600",children:"Winning Factors:"}),o.jsx("p",{children:E.winningFactors})]}),E.trappingFactors&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-600",children:"Trap Points:"}),o.jsx("p",{children:E.trappingFactors})]}),!E.caseTheory&&!E.winningFactors&&!E.trappingFactors&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Add case strategy details to improve AI coaching"})]})]})]})]})}),o.jsx(Nn,{value:"tips",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"w-5 h-5 text-amber-500"}),"Collected Tips (",Pe.length,")"]}),o.jsx(Kt,{children:"Strategic tips gathered during your practice sessions"})]}),o.jsx(Ke,{children:Pe.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Tips will appear here as you practice"}):o.jsx("div",{className:"space-y-2",children:Pe.map((te,se)=>o.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg text-sm",children:te},se))})})]}),o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(Y0,{className:"w-5 h-5 text-red-500"}),"Warnings to Remember (",ge.length,")"]}),o.jsx(Kt,{children:"Potential pitfalls to avoid during trial"})]}),o.jsx(Ke,{children:ge.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Warnings will appear here as you practice"}):o.jsx("div",{className:"space-y-2",children:ge.map((te,se)=>o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-sm",children:te},se))})})]}),o.jsxs(qe,{className:"md:col-span-2",children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(ir,{className:"w-5 h-5 text-green-500"}),"Suggested Angles & Responses (",B.length,")"]}),o.jsx(Kt,{children:"Effective responses and angles to consider"})]}),o.jsx(Ke,{children:B.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Suggested responses will appear here as you practice"}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:B.map((te,se)=>o.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-sm",children:['"',te,'"']},se))})})]}),o.jsxs(qe,{className:"md:col-span-2",children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(PA,{className:"w-5 h-5"}),"Past Sessions (",S.length,")"]}),o.jsx(Kt,{children:"Previously saved practice sessions for this case"})]}),o.jsx(Ke,{children:S.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:a?"No saved sessions yet. Complete a practice session and save it!":"Select a case to view past sessions"}):o.jsx("div",{className:"space-y-2",children:S.map(te=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:te.sessionMode.replace("-"," ")}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(te.createdAt).toLocaleDateString()," - ",te.transcript?.length||0," messages",te.duration&&` - ${Math.floor(te.duration/60)}m ${te.duration%60}s`]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Me(te),children:o.jsx(xp,{className:"w-4 h-4"})}),o.jsx(ce,{variant:"outline",size:"sm",onClick:()=>O.mutate(te.id),children:o.jsx(lc,{className:"w-4 h-4"})})]})]},te.id))})})]})]})}),o.jsx(Nn,{value:"notes",className:"mt-4",children:o.jsxs(qe,{children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2",children:[o.jsx(ya,{className:"w-5 h-5"}),"Session Notes"]}),o.jsx(Kt,{children:"Take notes during your practice session. These will be saved with your session."})]}),o.jsxs(Ke,{children:[o.jsx(ao,{value:Z,onChange:te=>de(te.target.value),placeholder:"Write your notes here... Key observations, areas to improve, questions to research, etc.",className:"min-h-[400px]","data-testid":"textarea-notes"}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(ce,{onClick:fe,disabled:!E||M.length===0||w.isPending,children:[o.jsx(_p,{className:"w-4 h-4 mr-2"}),"Save Notes with Session"]})})]})]})})]})]})})}function DI(){const{user:t,login:e,register:a,loading:r}=Oo(),{toast:l}=Wn(),[,u]=Ns(),[d,h]=x.useState("login"),[p,v]=x.useState(""),[y,_]=x.useState(""),[C,A]=x.useState(""),[M,j]=x.useState(!1),[T,k]=x.useState(null),D=x.useMemo(()=>new URLSearchParams(window.location.search).get("redirect")||"/app",[]);x.useEffect(()=>{!r&&t&&u(D)},[r,t,D,u]);const P=async z=>{if(z.preventDefault(),k(null),!p.trim()||!y){k("Username and password are required.");return}if(d==="register"&&y!==C){k("Passwords do not match.");return}j(!0);try{d==="login"?await e(p.trim(),y):await a(p.trim(),y),l({title:d==="login"?"Welcome back":"Account created",description:"Authentication successful."}),u(D)}catch(U){const F=typeof U?.message=="string"?U.message.replace(/^\d+:\s*/,""):"Authentication failed.";k(F)}finally{j(!1)}};return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(qe,{className:"w-full max-w-md shadow-lg border-border/60",children:[o.jsxs(mt,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-lg bg-primary/10 flex items-center justify-center p-1",children:o.jsx("img",{src:Gd,alt:"CaseBuddy Logo",className:"w-full h-full object-contain"})}),o.jsxs("div",{children:[o.jsx(bt,{className:"font-serif text-2xl text-primary",children:"CaseBuddy"}),o.jsx(Kt,{className:"text-xs uppercase tracking-wider",children:"Secure Legal Workspace"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(sd,{className:"w-4 h-4"}),"Access requires authenticated credentials."]})]}),o.jsxs(Ke,{children:[o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"username",children:"Username"}),o.jsx(pt,{id:"username",autoComplete:"username",value:p,onChange:z=>v(z.target.value),placeholder:"e.g., jsmith",disabled:M,"data-testid":"input-login-username"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"password",children:"Password"}),o.jsx(pt,{id:"password",type:"password",autoComplete:d==="login"?"current-password":"new-password",value:y,onChange:z=>_(z.target.value),placeholder:"Enter your password",disabled:M,"data-testid":"input-login-password"})]}),d==="register"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ct,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(pt,{id:"confirmPassword",type:"password",autoComplete:"new-password",value:C,onChange:z=>A(z.target.value),placeholder:"Re-enter password",disabled:M,"data-testid":"input-login-confirm-password"})]}),T&&o.jsx("div",{className:"rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:T}),o.jsx(ce,{type:"submit",className:"w-full",disabled:M,children:M?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),d==="login"?"Signing in":"Creating account"]}):d==="login"?"Sign In":"Create Account"})]}),o.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:d==="login"?o.jsxs(o.Fragment,{children:["Need access?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>h("register"),"data-testid":"button-switch-register",children:"Create the first account"})]}):o.jsxs(o.Fragment,{children:["Already have access?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>h("login"),"data-testid":"button-switch-login",children:"Sign in"})]})}),o.jsx("div",{className:"mt-3 text-center text-xs text-muted-foreground",children:o.jsx("button",{type:"button",className:"hover:underline",onClick:()=>u("/"),"data-testid":"button-back-to-landing",children:"Back to CaseBuddy overview"})})]})]})})}const RI=[{title:"Evidence Intelligence",description:"Ingest discovery files and surface timelines, inconsistencies, and key facts in minutes.",icon:kA},{title:"Trial Readiness",description:"Run AI-driven simulations, deposition prep, and strategy coaching for every matter.",icon:oc},{title:"Collaborative Casework",description:"Coordinate teams with live presence, shared notes, and secure case activity streams.",icon:Fl},{title:"Private by Design",description:"Every session requires authenticated access. Your client files stay protected.",icon:bp}],PI=[{title:"Capture",description:"Upload documents, recordings, and images with built-in validation.",icon:dd},{title:"Analyze",description:"Generate timelines, briefs, and discovery summaries with AI assistance.",icon:Eo},{title:"Execute",description:"Stay on deadlines and push filings with clear, auditable case history.",icon:GO}],LI=["Authenticated sessions required for every case interaction.","Granular audit trails for access, uploads, and case exports.","Encrypted password storage with automatic hash upgrades.","Rate-limited authentication endpoints to deter brute force."],zI=[{title:"Matter Command Center",description:"Track deadlines, filings, and assignments from one live dashboard."},{title:"Evidence Vault",description:"Keep discovery searchable, tagged, and linked to key facts."},{title:"Team Activity Ledger",description:"See who accessed each file with time-stamped accountability."}];function II(){return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-32 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),o.jsx("div",{className:"absolute -bottom-32 -left-32 h-96 w-96 rounded-full bg-accent/20 blur-3xl"}),o.jsx("header",{className:"relative z-10 px-6 py-6 lg:px-12",children:o.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-11 w-11 rounded-lg bg-primary/10 p-1",children:o.jsx("img",{src:Gd,alt:"CaseBuddy Logo",className:"h-full w-full object-contain"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-serif text-xl font-bold text-primary",children:"CaseBuddy"}),o.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-muted-foreground",children:"Legal AI OS"})]})]}),o.jsxs("div",{className:"hidden items-center gap-6 text-sm text-muted-foreground md:flex",children:[o.jsx("a",{href:"#features",className:"hover:text-primary",children:"Features"}),o.jsx("a",{href:"#workflow",className:"hover:text-primary",children:"Workflow"}),o.jsx("a",{href:"#security",className:"hover:text-primary",children:"Security"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ma,{href:"/login",children:o.jsx(ce,{variant:"outline",className:"hidden md:inline-flex",children:"Sign In"})}),o.jsx(ma,{href:"/login",children:o.jsx(ce,{className:"bg-primary text-primary-foreground",children:"Enter Platform"})})]})]})}),o.jsx("section",{className:"relative z-10 px-6 pb-16 pt-10 lg:px-12 lg:pb-24",children:o.jsxs("div",{className:"mx-auto grid max-w-6xl items-center gap-12 lg:grid-cols-[1.15fr_0.85fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/80 px-3 py-1 text-xs text-muted-foreground",children:[o.jsx(DO,{className:"h-3.5 w-3.5 text-accent"}),"AI-native workflow for modern litigation teams"]}),o.jsx("h1",{className:"text-3xl font-serif font-bold text-primary sm:text-4xl lg:text-5xl",children:"Case strategy, evidence intelligence, and secure collaboration in one workspace."}),o.jsx("p",{className:"max-w-xl text-sm text-muted-foreground sm:text-base",children:"CaseBuddy turns fragmented case data into coherent, actionable insights. Upload discovery, generate briefs, and run trial simulations while protecting every client file behind authenticated access."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(ma,{href:"/login",children:o.jsx(ce,{className:"bg-primary text-primary-foreground",children:"Get Started Securely"})}),o.jsx("a",{href:"#features",children:o.jsx(ce,{variant:"outline",children:"Explore Features"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(sd,{className:"h-4 w-4 text-green-600"}),"Authenticated access required"]}),o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(qd,{className:"h-4 w-4 text-primary"}),"Real-time case readiness"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(qe,{className:"border-border/60 bg-card/80 shadow-lg backdrop-blur",children:[o.jsxs(mt,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(bt,{className:"flex items-center gap-2 text-base",children:[o.jsx(bp,{className:"h-4 w-4 text-accent"}),"Secure Access Portal"]}),o.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-1 text-[10px] uppercase tracking-[0.3em] text-primary",children:"Login"})]}),o.jsx(Kt,{children:"Sign in to reach the full CaseBuddy platform."})]}),o.jsxs(Ke,{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(ct,{htmlFor:"landing-username",children:"Username"}),o.jsx(pt,{id:"landing-username",placeholder:"e.g., jsmith",autoComplete:"username"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(ct,{htmlFor:"landing-password",children:"Password"}),o.jsx(pt,{id:"landing-password",type:"password",placeholder:"Enter your password",autoComplete:"current-password"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(ce,{asChild:!0,className:"flex-1 min-w-[170px]",children:o.jsx(ma,{href:"/login",children:"Continue to Sign In"})}),o.jsx(ce,{asChild:!0,variant:"outline",className:"flex-1 min-w-[170px]",children:o.jsx(ma,{href:"/login",children:"Create Account"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(sd,{className:"h-3.5 w-3.5 text-green-600"}),"Authenticated sessions unlock the full workspace."]})]})]}),o.jsxs(qe,{className:"border-border/60 bg-card/70 backdrop-blur",children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2 text-base",children:[o.jsx(Eo,{className:"h-4 w-4 text-accent"}),"Platform Preview"]}),o.jsx(Kt,{children:"What opens up after secure sign-in."})]}),o.jsx(Ke,{className:"space-y-3",children:zI.map(t=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Q0,{className:"mt-0.5 h-4 w-4 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:t.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.title))})]})]})]})})]}),o.jsx("section",{id:"features",className:"px-6 py-16 lg:px-12",children:o.jsxs("div",{className:"mx-auto max-w-6xl space-y-10",children:[o.jsxs("div",{className:"space-y-3 text-center",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Features"}),o.jsx("h2",{className:"text-2xl font-serif font-bold text-primary sm:text-3xl",children:"Everything you need to move a case forward."}),o.jsx("p",{className:"mx-auto max-w-2xl text-sm text-muted-foreground sm:text-base",children:"CaseBuddy unifies discovery, AI analysis, collaboration, and security into a single, controlled workspace built for legal teams."})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:RI.map(t=>{const e=t.icon;return o.jsxs(qe,{className:"border-border/60 bg-card/70",children:[o.jsx(mt,{children:o.jsxs(bt,{className:"flex items-center gap-2 text-base",children:[o.jsx(e,{className:"h-4 w-4 text-accent"}),t.title]})}),o.jsx(Ke,{className:"text-sm text-muted-foreground",children:t.description})]},t.title)})})]})}),o.jsx("section",{id:"workflow",className:"bg-muted/30 px-6 py-16 lg:px-12",children:o.jsxs("div",{className:"mx-auto max-w-6xl space-y-10",children:[o.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Workflow"}),o.jsx("h2",{className:"text-2xl font-serif font-bold text-primary sm:text-3xl",children:"A focused path from intake to trial readiness."})]}),o.jsx(ma,{href:"/login",children:o.jsx(ce,{variant:"outline",children:"Secure Sign In"})})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:PI.map((t,e)=>{const a=t.icon;return o.jsxs(qe,{className:"border-border/60 bg-background",children:[o.jsx(mt,{children:o.jsxs(bt,{className:"flex items-center justify-between text-base",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(a,{className:"h-4 w-4 text-primary"}),t.title]}),o.jsxs("span",{className:"text-xs font-semibold text-muted-foreground",children:["0",e+1]})]})}),o.jsx(Ke,{className:"text-sm text-muted-foreground",children:t.description})]},t.title)})})]})}),o.jsx("section",{id:"security",className:"px-6 py-16 lg:px-12",children:o.jsxs("div",{className:"mx-auto grid max-w-6xl gap-10 lg:grid-cols-[0.9fr_1.1fr]",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-muted-foreground",children:"Security"}),o.jsx("h2",{className:"text-2xl font-serif font-bold text-primary sm:text-3xl",children:"Built for confidentiality and compliance."}),o.jsx("p",{className:"text-sm text-muted-foreground sm:text-base",children:"CaseBuddy requires authenticated access for every action. Your evidence and client files are safeguarded with session controls and audit logging."}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(sd,{className:"h-4 w-4 text-green-600"}),"End-to-end access accountability"]})]}),o.jsxs(qe,{className:"border-border/60 bg-card/70",children:[o.jsxs(mt,{children:[o.jsxs(bt,{className:"flex items-center gap-2 text-base",children:[o.jsx(bp,{className:"h-4 w-4 text-accent"}),"Security Checklist"]}),o.jsx(Kt,{children:"Hardening defaults that protect sensitive matters."})]}),o.jsx(Ke,{className:"space-y-3 text-sm text-muted-foreground",children:LI.map(t=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Q0,{className:"mt-0.5 h-4 w-4 text-green-600"}),o.jsx("span",{children:t})]},t))})]})]})}),o.jsx("section",{className:"px-6 pb-16 lg:px-12",children:o.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col items-center gap-4 rounded-2xl border border-border/60 bg-card/80 px-6 py-10 text-center shadow-sm",children:[o.jsx("h3",{className:"text-xl font-serif font-bold text-primary sm:text-2xl",children:"Ready to work securely?"}),o.jsx("p",{className:"max-w-xl text-sm text-muted-foreground sm:text-base",children:"Sign in to access your matters, manage evidence, and keep client files protected behind secure login."}),o.jsx(ma,{href:"/login",children:o.jsx(ce,{className:"bg-primary text-primary-foreground",children:"Enter CaseBuddy"})})]})})]})}function NT({children:t}){const{user:e,loading:a}=Oo(),[r,l]=Ns(),u=!a&&!e&&r!=="/login";return x.useEffect(()=>{if(u){const d=encodeURIComponent(r);l(`/login?redirect=${d}`)}},[u,r,l]),a?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"Checking session..."})}):u||!e?null:o.jsx(o.Fragment,{children:t})}function Ir({component:t,path:e}){return o.jsx(ed,{path:e,children:o.jsx(NT,{children:o.jsx(t,{})})})}function UI(){const[t]=Ns();return o.jsxs(ME,{children:[o.jsx(ed,{path:"/",component:II}),o.jsx(ed,{path:"/login",component:DI}),o.jsx(Ir,{path:"/app",component:FD}),o.jsx(Ir,{path:"/app/cases",component:pI}),o.jsx(Ir,{path:"/app/trial-prep",component:OI}),o.jsx(Ir,{path:"/app/calendar",component:gI}),o.jsx(Ir,{path:"/app/research",component:yI}),o.jsx(Ir,{path:"/app/settings",component:AI}),o.jsx(Ir,{path:"/app/case/:id",component:DP}),o.jsx(ed,{children:t.startsWith("/app")?o.jsx(NT,{children:o.jsx(rw,{})}):o.jsx(rw,{})})]})}function BI(){return o.jsx(eM,{client:tr,children:o.jsx(uD,{children:o.jsx(cD,{children:o.jsxs(gj,{children:[o.jsx(B4,{}),o.jsx(UI,{})]})})})})}cE.createRoot(document.getElementById("root")).render(o.jsx(BI,{}));
